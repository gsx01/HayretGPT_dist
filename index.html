<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const du="modulepreload",fu=function(n,e){return new URL(n,e).href},ti={},re=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=Promise.allSettled(t.map(c=>{if(c=fu(c,r),c in ti)return;ti[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!r)for(let y=i.length-1;y>=0;y--){const b=i[y];if(b.href===c&&(!u||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":du,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((y,b)=>{m.addEventListener("load",y),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function se(){}function en(n,e){for(const t in e)n[t]=e[t];return n}function xl(n){return n()}function ni(){return Object.create(null)}function st(n){n.forEach(xl)}function vo(n){return typeof n=="function"}function xe(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Hs;function Ye(n,e){return Hs||(Hs=document.createElement("a")),Hs.href=e,n===Hs.href}function hu(n){return Object.keys(n).length===0}function ko(n,...e){if(n==null)return se;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function O(n){let e;return ko(n,t=>e=t)(),e}function ge(n,e,t){n.$$.on_destroy.push(ko(e,t))}function Ne(n,e,t,r){if(n){const s=Rl(n,e,t,r);return n[0](s)}}function Rl(n,e,t,r){return n[1]&&r?en(t.ctx.slice(),n[1](r(e))):t.ctx}function je(n,e,t,r){if(n[2]&&r){const s=n[2](r(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(e.dirty.length,s.length);for(let a=0;a<i;a+=1)o[a]=e.dirty[a]|s[a];return o}return e.dirty|s}return e.dirty}function Be(n,e,t,r,s,o){if(s){const i=Rl(e,t,r,o);n.p(i,s)}}function He(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function pu(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function si(n,e){const t={};e=new Set(e);for(const r in n)!e.has(r)&&r[0]!=="$"&&(t[r]=n[r]);return t}function f(n,e){n.appendChild(e)}function P(n,e,t){n.insertBefore(e,t||null)}function C(n){n.parentNode&&n.parentNode.removeChild(n)}function _t(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function g(n){return document.createElement(n)}function gu(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function X(n){return document.createTextNode(n)}function L(){return X(" ")}function Te(){return X("")}function W(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function kr(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function d(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function mu(n){return Array.from(n.childNodes)}function _e(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function Mt(n,e){n.value=e??""}function Ut(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Ue(n,e){for(let t=0;t<n.options.length;t+=1){const r=n.options[t];if(r.__value===e){r.selected=!0;return}}n.selectedIndex=-1}function kt(n){const e=n.querySelector(":checked")||n.options[0];return e&&e.__value}function _u(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,t,r,e),s}class bu{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){this.e||(this.is_svg?this.e=gu(t.nodeName):this.e=g(t.nodeName),this.t=t,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)P(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(C)}}function Ze(n,e){return new n(e)}let ws;function ms(n){ws=n}function Kn(){if(!ws)throw new Error("Function called outside component initialization");return ws}function Or(n){Kn().$$.on_mount.push(n)}function ri(n){Kn().$$.after_update.push(n)}function yu(n){Kn().$$.on_destroy.push(n)}function Gn(){const n=Kn();return(e,t,{cancelable:r=!1}={})=>{const s=n.$$.callbacks[e];if(s){const o=_u(e,t,{cancelable:r});return s.slice().forEach(i=>{i.call(n,o)}),!o.defaultPrevented}return!0}}function wu(n,e){return Kn().$$.context.set(n,e),e}function vu(n){return Kn().$$.context.get(n)}const Mn=[],Qt=[],lr=[],io=[],ku=Promise.resolve();let ao=!1;function Su(){ao||(ao=!0,ku.then(Il))}function dt(n){lr.push(n)}function Au(n){io.push(n)}const Vr=new Set;let En=0;function Il(){if(En!==0)return;const n=ws;do{try{for(;En<Mn.length;){const e=Mn[En];En++,ms(e),Tu(e.$$)}}catch(e){throw Mn.length=0,En=0,e}for(ms(null),Mn.length=0,En=0;Qt.length;)Qt.pop()();for(let e=0;e<lr.length;e+=1){const t=lr[e];Vr.has(t)||(Vr.add(t),t())}lr.length=0}while(Mn.length);for(;io.length;)io.pop()();ao=!1,Vr.clear(),ms(n)}function Tu(n){if(n.fragment!==null){n.update(),st(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(dt)}}const cr=new Set;let bn;function Me(){bn={r:0,c:[],p:bn}}function $e(){bn.r||st(bn.c),bn=bn.p}function $(n,e){n&&n.i&&(cr.delete(n),n.i(e))}function N(n,e,t,r){if(n&&n.o){if(cr.has(n))return;cr.add(n),bn.c.push(()=>{cr.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const Cl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Pl(n,e){n.d(1),e.delete(n.key)}function Ml(n,e,t,r,s,o,i,a,l,c,u,h){let p=n.length,m=o.length,y=p;const b={};for(;y--;)b[n[y].key]=y;const E=[],S=new Map,_=new Map;for(y=m;y--;){const v=h(s,o,y),T=t(v);let w=i.get(T);w?w.p(v,e):(w=c(T,v),w.c()),S.set(T,E[y]=w),T in b&&_.set(T,Math.abs(y-b[T]))}const k=new Set,x=new Set;function A(v){$(v,1),v.m(a,u),i.set(v.key,v),u=v.first,m--}for(;p&&m;){const v=E[m-1],T=n[p-1],w=v.key,R=T.key;v===T?(u=v.first,p--,m--):S.has(R)?!i.has(w)||k.has(w)?A(v):x.has(R)?p--:_.get(w)>_.get(R)?(x.add(w),A(v)):(k.add(R),p--):(l(T,i),p--)}for(;p--;){const v=n[p];S.has(v.key)||l(v,i)}for(;m;)A(E[m-1]);return E}function Wn(n,e){const t={},r={},s={$$scope:1};let o=n.length;for(;o--;){const i=n[o],a=e[o];if(a){for(const l in i)l in a||(r[l]=1);for(const l in a)s[l]||(t[l]=a[l],s[l]=1);n[o]=a}else for(const l in i)s[l]=1}for(const i in r)i in t||(t[i]=void 0);return t}function Jn(n){return typeof n=="object"&&n!==null?n:{}}function Eu(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function Ae(n){n&&n.c()}function ke(n,e,t,r){const{fragment:s,after_update:o}=n.$$;s&&s.m(e,t),r||dt(()=>{const i=n.$$.on_mount.map(xl).filter(vo);n.$$.on_destroy?n.$$.on_destroy.push(...i):st(i),n.$$.on_mount=[]}),o.forEach(dt)}function Se(n,e){const t=n.$$;t.fragment!==null&&(st(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function xu(n,e){n.$$.dirty[0]===-1&&(Mn.push(n),Su(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Ie(n,e,t,r,s,o,i,a=[-1]){const l=ws;ms(n);const c=n.$$={fragment:null,ctx:[],props:o,update:se,not_equal:s,bound:ni(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ni(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=t?t(n,e.props||{},(h,p,...m)=>{const y=m.length?m[0]:p;return c.ctx&&s(c.ctx[h],c.ctx[h]=y)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](y),u&&xu(n,h)),p}):[],c.update(),u=!0,st(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const h=mu(e.target);c.fragment&&c.fragment.l(h),h.forEach(C)}else c.fragment&&c.fragment.c();e.intro&&$(n.$$.fragment),ke(n,e.target,e.anchor,e.customElement),Il()}ms(l)}class Ce{$destroy(){Se(this,1),this.$destroy=se}$on(e,t){if(!vo(t))return se;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!hu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const So=new Map;async function Ru(n,e,t){return So.set(n,{blob:e,conversationId:t}),Promise.resolve()}async function Iu(n){const e=So.get(n);return e?e.blob:null}async function Cu(){return So.clear(),Promise.resolve()}const xn=[];function $l(n,e){return{subscribe:be(n,e).subscribe}}function be(n,e=se){let t;const r=new Set;function s(a){if(xe(n,a)&&(n=a,t)){const l=!xn.length;for(const c of r)c[1](),xn.push(c,n);if(l){for(let c=0;c<xn.length;c+=2)xn[c][0](xn[c+1]);xn.length=0}}}function o(a){s(a(n))}function i(a,l=se){const c=[a,l];return r.add(c),r.size===1&&(t=e(s)||se),a(n),()=>{r.delete(c),r.size===0&&(t(),t=null)}}return{set:s,update:o,subscribe:i}}function vn(n,e,t){const r=!Array.isArray(n),s=r?[n]:n,o=e.length<2;return $l(t,i=>{let a=!1;const l=[];let c=0,u=se;const h=()=>{if(c)return;u();const m=e(r?l[0]:l,i);o?i(m):u=vo(m)?m:se},p=s.map((m,y)=>ko(m,b=>{l[y]=b,c&=~(1<<y),a&&h()},()=>{c|=1<<y}));return a=!0,h(),function(){st(p),u()}})}const vs=Object.freeze(Object.defineProperty({__proto__:null,derived:vn,get:O,readable:$l,writable:be},Symbol.toStringTag,{value:"Module"}));let Pu=Qe("selectedProvider");const yn=be(Pu||"OpenAI");yn.subscribe(n=>{Ve("selectedProvider",n)});let oi=Qe("openai_api_key"),ur=oi!==null?JSON.parse(oi):null;if(!ur){const n=Qe("api_key");n&&(ur=JSON.parse(n),Ve("openai_api_key",JSON.stringify(ur)))}const Ge=be(ur);Ge.subscribe(n=>{Ve("openai_api_key",JSON.stringify(n))});let ii=Qe("anthropic_api_key"),Mu=ii!==null?JSON.parse(ii):null;const nt=be(Mu);nt.subscribe(n=>{Ve("anthropic_api_key",JSON.stringify(n))});const cn=vn([yn,Ge,nt],([n,e,t])=>n==="OpenAI"?e:t),dr=Object.freeze(Object.defineProperty({__proto__:null,anthropicApiKey:nt,currentApiKey:cn,openaiApiKey:Ge,selectedProvider:yn},Symbol.toStringTag,{value:"Module"})),$u={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var ai={};const Fn=be(!1),Nn=be(!1),jn=be(!1),Sr=be(!1);let li=Qe("api_key"),Ou=li!==null?JSON.parse(li):null,fr=null;try{typeof process<"u"&&ai?.OPENAI_API_KEY&&(fr=String(ai.OPENAI_API_KEY)),!fr&&typeof import.meta<"u"&&$u?.VITE_OPENAI_API_KEY&&(fr=String(void 0))}catch{}const Lu=Ou??fr??null,Vt=be(Lu);Vt.subscribe(n=>Ve("api_key",JSON.stringify(n)));let ci=Qe("combined_tokens"),Du=ci!==null?JSON.parse(ci):0;const dn=be(Du);dn.subscribe(n=>Ve("combined_tokens",JSON.stringify(n)));let ui=Qe("default_assistant_role"),Fu=ui!==null?JSON.parse(ui):0;const fn=be(Fu||{role:"Don't provide compliments or enthusiastic comments at the start of your responses. Don't provide offers for follow up at the end of your responses.",type:"system"});fn.subscribe(n=>Ve("default_assistant_role",JSON.stringify(n)));const Fe=be(0);function Nu(n){ae.update(e=>{if(n<0||n>=e.length)return e;const t=e.filter((s,o)=>o!==n);let r=0;return t.length>0?n<=O(Fe)?r=Math.max(0,O(Fe)-1):r=Math.min(O(Fe),t.length-1):(t.push(To()),r=0),Fe.set(r),t})}function ju(n){return O(ae).findIndex(t=>t.id===n)}function Ao(){return`conv-${Date.now()}-${Math.random().toString(36).substring(2,11)}`}function Bu(n){return n.map(e=>{const t=e.id!=null?String(e.id):Ao();return{...e,id:t}})}let di=Qe("conversations"),hr=di!==null?JSON.parse(di):null;hr&&(hr=Bu(hr));const ae=be(hr||[{id:Ao(),history:[],conversationTokens:0,assistantRole:"Don't provide compliments or enthusiastic comments at the start of your responses. Don't provide offers for follow up at the end of your responses.",title:""}]);ae.subscribe(n=>{Ve("conversations",JSON.stringify(n))});const qe=be(Qe("selectedModel")||"gpt-3.5-turbo"),Bn=be(Qe("selectedVoice")||"alloy"),un=be(Qe("selectedMode")||"GPT"),ks=be(Qe("selectedSize")||"1024x1024"),Ss=be(Qe("selectedQuality")||"standard");qe.subscribe(n=>{Ve("selectedModel",n)});Bn.subscribe(n=>{Ve("selectedVoice",n)});ks.subscribe(n=>{Ve("selectedSize",n)});Ss.subscribe(n=>{Ve("selectedQuality",n)});un.subscribe(n=>{Ve("selectedMode",n)});const Hu=be([]),kn=be([]),Ar=be(!1),ht=be(!1),Rt=be(!1),zu=be({streamText:"",convId:null});let fi=Qe("show_tokens"),Uu=fi!==null?JSON.parse(fi):!1;const zn=be(Uu);zn.subscribe(n=>{Ve("show_tokens",JSON.stringify(n))});function To(){return{id:Ao(),history:[],conversationTokens:0,assistantRole:"Don't provide compliments or enthusiastic comments at the start of your responses. Don't provide offers for follow up at the end of your responses.",title:""}}function Qe(n){return localStorage.getItem(Eo()+"_"+n)}function Ve(n,e){localStorage.setItem(Eo()+"_"+n,e)}function Eo(){return(new URLSearchParams(document.location.search).get("role")||"DEV").toUpperCase()}const $t=Object.freeze(Object.defineProperty({__proto__:null,apiKey:Vt,audioUrls:Hu,base64Images:kn,chosenConversationId:Fe,clearFileInputSignal:Ar,combinedTokens:dn,conversations:ae,createNewConversation:To,currentApiKey:cn,debugVisible:jn,defaultAssistantRole:fn,deleteConversationByIndex:Nu,findConversationIndexById:ju,getOption:Qe,helpVisible:Nn,isStreaming:ht,menuVisible:Sr,role:Eo,selectedMode:un,selectedModel:qe,selectedQuality:Ss,selectedSize:ks,selectedVoice:Bn,setOption:Ve,settingsVisible:Fn,showTokens:zn,streamContext:zu,userRequestedStreamClosure:Rt},Symbol.toStringTag,{value:"Module"}));function lo(){const n=window.innerHeight*.01;document.documentElement.style.setProperty("--app-height",`${n}px`)}function qu(){try{if("production"==="production")return;const e=window;e.__wolfeTest=e.__wolfeTest||{},e.__wolfeTest.setConversations=(t,r=0)=>Array.isArray(t)?(ae.set(t),Fe.set(r),!0):!1,e.wolfeStores={conversations:ae,chosenConversationId:Fe}}catch(n){console.warn("Failed to install test hooks",n)}}async function Vu(){O(ae).length>0&&Fe.set(O(ae).length-1),lo(),window.addEventListener("resize",lo),qu();try{await Cu()}catch(n){console.error("Failed to clear audio blobs:",n)}kn.set([])}function Ku(){window.removeEventListener("resize",lo)}function Gu(n){let e,t,r,s,o,i,a,l,c,u,h,p,m;return{c(){e=g("div"),t=g("div"),t.textContent="Your audio file is ready:",r=L(),s=g("button"),s.innerHTML='<span class="playbutton svelte-2tsp55">▶ Play</span>',o=X(`
    | `),i=g("span"),a=g("a"),l=X("⇓ Download"),c=g("div"),c.textContent="(unavailable after refresh!)",u=L(),h=g("audio"),d(t,"class","mb-2"),d(a,"href",n[0]),d(a,"download","response.mp3"),d(i,"class","downloadbutton svelte-2tsp55"),d(c,"class","notice svelte-2tsp55"),Ut(h,"display","none")},m(y,b){P(y,e,b),f(e,t),f(e,r),f(e,s),f(e,o),f(e,i),f(i,a),f(a,l),f(e,c),f(e,u),f(e,h),n[3](h),p||(m=W(s,"click",n[2]),p=!0)},p(y,[b]){b&1&&d(a,"href",y[0])},i:se,o:se,d(y){y&&C(e),n[3](null),p=!1,m()}}}function Wu(n,e,t){let{audioUrl:r=""}=e,s;function o(){s&&s.paused?s.play():s&&(s.pause(),t(1,s.currentTime=0,s))}function i(a){Qt[a?"unshift":"push"](()=>{s=a,t(1,s),t(0,r)})}return n.$$set=a=>{"audioUrl"in a&&t(0,r=a.audioUrl)},n.$$.update=()=>{n.$$.dirty&3&&s&&r&&(t(1,s.src=r,s),s.load())},[r,s,o,i]}class Ju extends Ce{constructor(e){super(),Ie(this,e,Wu,Gu,xe,{audioUrl:0})}}const Zu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='48'%20viewBox='0%2096%20960%20960'%20width='48'%3e%3cpath%20d='M120%20816v-60h720v60H120Zm0-210v-60h720v60H120Zm0-210v-60h720v60H120Z'/%3e%3c/svg%3e",Yu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='48'%20viewBox='0%2096%20960%20960'%20width='48'%3e%3cpath%20d='M450%20856V606H200v-60h250V296h60v250h250v60H510v250h-60Z'/%3e%3c/svg%3e";function Xu(n){let e,t,r,s,o,i,a=(n[0]===""?"New Conversation":n[0])+"",l,c,u,h,p,m,y;return{c(){e=g("div"),t=g("button"),r=g("img"),o=L(),i=g("div"),l=X(a),c=L(),u=g("button"),h=g("img"),d(r,"class","icon-white w-8"),d(r,"alt","Menu"),Ye(r.src,s=Zu)||d(r,"src",s),d(t,"class","text-lg font-medium"),d(i,"class","text-lg font-medium pt-[3px] text-center overflow-hidden h-8"),d(h,"class","icon-white w-8"),d(h,"alt","+"),Ye(h.src,p=Yu)||d(h,"src",p),d(u,"class","text-lg font-medium"),d(e,"class","bg-secondary text-white/90 py-2 px-4 flex justify-between md:hidden shrink grow-0 max-h-16")},m(b,E){P(b,e,E),f(e,t),f(t,r),f(e,o),f(e,i),f(i,l),f(e,c),f(e,u),f(u,h),m||(y=[W(t,"click",n[2]),W(u,"click",n[1])],m=!0)},p(b,[E]){E&1&&a!==(a=(b[0]===""?"New Conversation":b[0])+"")&&_e(l,a)},i:se,o:se,d(b){b&&C(e),m=!1,st(y)}}}function Qu(n,e,t){const r=Gn();function s(){r("new-chat")}let{conversation_title:o}=e;const i=()=>{Sr.set(!0)};return n.$$set=a=>{"conversation_title"in a&&t(0,o=a.conversation_title)},[o,s,i]}class ed extends Ce{constructor(e){super(),Ie(this,e,Qu,Xu,xe,{conversation_title:0})}}function td(){const n=be({});return{setDraft:(e,t)=>{n.update(r=>({...r,[e]:t}))},getDraft:e=>O(n)[e]||"",deleteDraft:e=>{n.update(t=>{const r={...t};return delete r[e],r})},clearAllDrafts:()=>{n.set({})}}}const mn=td(),As="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='48'%20viewBox='0%2096%20960%20960'%20width='48'%3e%3cpath%20d='m249%20849-42-42%20231-231-231-231%2042-42%20231%20231%20231-231%2042%2042-231%20231%20231%20231-42%2042-231-231-231%20231Z'/%3e%3c/svg%3e",nd="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%203C7.85113%203%204%205.73396%204%2010C4%2011.5704%204.38842%2012.7289%205.08252%2013.6554C5.79003%2014.5998%206.87746%2015.3863%208.41627%2016.0908L9.2326%2016.4645L8.94868%2017.3162C8.54129%2018.5384%207.84997%2019.6611%207.15156%2020.5844C9.56467%2019.8263%2012.7167%2018.6537%2014.9453%2017.1679C17.1551%2015.6948%2018.3969%2014.5353%2019.0991%2013.455C19.7758%2012.4139%2020%2011.371%2020%2010C20%205.73396%2016.1489%203%2012%203ZM2%2010C2%204.26604%207.14887%201%2012%201C16.8511%201%2022%204.26604%2022%2010C22%2011.629%2021.7242%2013.0861%2020.7759%2014.545C19.8531%2015.9647%2018.3449%2017.3052%2016.0547%2018.8321C13.0781%2020.8164%208.76589%2022.2232%206.29772%2022.9281C5.48665%2023.1597%204.84055%2022.6838%204.56243%2022.1881C4.28848%2021.6998%204.22087%2020.9454%204.74413%2020.3614C5.44439%2019.5798%206.21203%2018.5732%206.72616%2017.4871C5.40034%2016.7841%204.29326%2015.9376%203.48189%2014.8545C2.48785%2013.5277%202%2011.9296%202%2010Z'%20fill='%23ffffff'/%3e%3cpath%20d='M12%206C11.4477%206%2011%206.44771%2011%207V9H9C8.44772%209%208%209.44771%208%2010C8%2010.5523%208.44772%2011%209%2011H11V13C11%2013.5523%2011.4477%2014%2012%2014C12.5523%2014%2013%2013.5523%2013%2013V11H15C15.5523%2011%2016%2010.5523%2016%2010C16%209.44772%2015.5523%209%2015%209H13V7C13%206.44771%2012.5523%206%2012%206Z'%20fill='%23ffffff'/%3e%3c/svg%3e",Ol="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.7,5.2a1.024,1.024,0,0,1,0,1.448L18.074,9.276l-3.35-3.35L17.35,3.3a1.024,1.024,0,0,1,1.448,0Zm-4.166,5.614-3.35-3.35L4.675,15.975,3,21l5.025-1.675Z'/%3e%3c/svg%3e",Ll="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Speech%20bubble%20outline%20copied%20from%20NewChat.svg%20--%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%203C7.85113%203%204%205.73396%204%2010C4%2011.5704%204.38842%2012.7289%205.08252%2013.6554C5.79003%2014.5998%206.87746%2015.3863%208.41627%2016.0908L9.2326%2016.4645L8.94868%2017.3162C8.54129%2018.5384%207.84997%2019.6611%207.15156%2020.5844C9.56467%2019.8263%2012.7167%2018.6537%2014.9453%2017.1679C17.1551%2015.6948%2018.3969%2014.5353%2019.0991%2013.455C19.7758%2012.4139%2020%2011.371%2020%2010C20%205.73396%2016.1489%203%2012%203ZM2%2010C2%204.26604%207.14887%201%2012%201C16.8511%201%2022%204.26604%2022%2010C22%2011.629%2021.7242%2013.0861%2020.7759%2014.545C19.8531%2015.9647%2018.3449%2017.3052%2016.0547%2018.8321C13.0781%2020.8164%208.76589%2022.2232%206.29772%2022.9281C5.48665%2023.1597%204.84055%2022.6838%204.56243%2022.1881C4.28848%2021.6998%204.22087%2020.9454%204.74413%2020.3614C5.44439%2019.5798%206.21203%2018.5732%206.72616%2017.4871C5.40034%2016.7841%204.29326%2015.9376%203.48189%2014.8545C2.48785%2013.5277%202%2011.9296%202%2010Z'%20fill='%23ffffff'/%3e%3c!--%20X%20mark%20--%3e%3cpath%20d='M9.5%208.5C9.22386%208.5%209%208.72386%209%209C9%209.13261%209.05268%209.25979%209.14645%209.35355L10.7929%2011L9.14645%2012.6464C9.05268%2012.7402%209%2012.8674%209%2013C9%2013.2761%209.22386%2013.5%209.5%2013.5C9.63261%2013.5%209.75979%2013.4473%209.85355%2013.3536L11.5%2011.7071L13.1464%2013.3536C13.2402%2013.4473%2013.3674%2013.5%2013.5%2013.5C13.7761%2013.5%2014%2013.2761%2014%2013C14%2012.8674%2013.9473%2012.7402%2013.8536%2012.6464L12.2071%2011L13.8536%209.35355C13.9473%209.25979%2014%209.13261%2014%209C14%208.72386%2013.7761%208.5%2013.5%208.5C13.3674%208.5%2013.2402%208.55268%2013.1464%208.64645L11.5%2010.2929L9.85355%208.64645C9.75979%208.55268%209.63261%208.5%209.5%208.5Z'%20fill='%23ffffff'/%3e%3c/svg%3e";function hi(n,e,t){const r=n.slice();return r[32]=e[t],r[34]=t,r}function sd(n){let e;return{c(){e=g("textarea"),d(e,"id","conversation-system-role"),d(e,"aria-label","Conversation system role"),d(e,"placeholder","Select a conversation or start a new one..."),d(e,"class","bg-primary px-2 pt-1 pb-3 resize-none rounded focus:outline-none focus:outline-primary z-20")},m(t,r){P(t,e,r)},p:se,d(t){t&&C(e)}}}function rd(n){let e,t,r;return{c(){e=g("textarea"),d(e,"id","conversation-system-role"),d(e,"aria-label","Conversation system role"),d(e,"placeholder",n[7]),d(e,"class","bg-primary px-2 pt-1 pb-3 resize-none rounded focus:outline-none focus:outline-primary z-20")},m(s,o){P(s,e,o),Mt(e,n[4][n[3]].assistantRole),t||(r=W(e,"input",n[19]),t=!0)},p(s,o){o[0]&24&&Mt(e,s[4][s[3]].assistantRole)},d(s){s&&C(e),t=!1,r()}}}function od(n){let e,t=(n[32].title===""?"New conversation":n[32].title)+"",r,s,o;return{c(){e=g("p"),r=X(t),d(e,"class",s="text-left text-sm flex-grow title-text "+(n[2],"")+" svelte-2c65x7"),d(e,"title",o=n[32].title===""?"New conversation":n[32].title)},m(i,a){P(i,e,a),f(e,r)},p(i,a){a[0]&16&&t!==(t=(i[32].title===""?"New conversation":i[32].title)+"")&&_e(r,t),a[0]&4&&s!==(s="text-left text-sm flex-grow title-text "+(i[2],"")+" svelte-2c65x7")&&d(e,"class",s),a[0]&16&&o!==(o=i[32].title===""?"New conversation":i[32].title)&&d(e,"title",o)},d(i){i&&C(e)}}}function id(n){let e,t,r;function s(){return n[21](n[34])}function o(...i){return n[22](n[34],...i)}return{c(){e=g("input"),d(e,"type","text"),d(e,"class","edit-input svelte-2c65x7")},m(i,a){P(i,e,a),Mt(e,n[1]),t||(r=[W(e,"input",n[20]),W(e,"blur",s),W(e,"keydown",o)],t=!0)},p(i,a){n=i,a[0]&2&&e.value!==n[1]&&Mt(e,n[1])},d(i){i&&C(e),t=!1,st(r)}}}function pi(n){let e,t,r,s,o;function i(...l){return n[25](n[34],...l)}function a(...l){return n[26](n[34],...l)}return{c(){e=g("button"),t=g("img"),Ye(t.src,r=As)||d(t,"src",r),d(t,"alt","Delete"),d(t,"class","icon-white min-w-5 w-5 h-5"),d(e,"tabindex","0"),d(e,"class","delete hidden rounded w-7 h-7 font-bold flex justify-center items-center hover:bg-warning svelte-2c65x7")},m(l,c){P(l,e,c),f(e,t),s||(o=[W(e,"click",kr(i)),W(e,"keydown",kr(a))],s=!0)},p(l,c){n=l},d(l){l&&C(e),s=!1,st(o)}}}function gi(n){let e,t=Number(n[32].conversationTokens??0).toFixed(0)+"",r;return{c(){e=g("p"),r=X(t),d(e,"class","text-blue-200 tokens z-20 ml-5 svelte-2c65x7")},m(s,o){P(s,e,o),f(e,r)},p(s,o){o[0]&16&&t!==(t=Number(s[32].conversationTokens??0).toFixed(0)+"")&&_e(r,t)},d(s){s&&C(e)}}}function mi(n){let e,t,r,s,o,i,a,l,c,u,h,p;function m(v,T){return v[0]===v[4].length-v[34]-1?id:od}let y=m(n),b=y(n);function E(...v){return n[23](n[34],n[32],...v)}function S(...v){return n[24](n[34],n[32],...v)}let _=n[4].length>=2&&pi(n),k=n[2]===!0&&gi(n);function x(){return n[27](n[34])}function A(...v){return n[28](n[34],...v)}return{c(){e=g("div"),b.c(),t=L(),r=g("div"),s=g("button"),o=g("img"),a=L(),_&&_.c(),l=L(),k&&k.c(),c=L(),Ye(o.src,i=Ol)||d(o,"src",i),d(o,"alt","Edit"),d(o,"class","icon-white min-w-4 w-4 h-4"),d(s,"tabindex","0"),d(s,"class","edit hidden rounded w-7 h-7 font-bold flex justify-center items-center hover:bg-blue-600 svelte-2c65x7"),d(r,"class","flex items-center gap-2"),Ut(e,"z-index","100"),d(e,"class",u=(n[3]===n[4].length-n[34]-1?"bg-hover2 hover:bg-hover2":"")+" title-container conversation flex justify-between min-h-[50px] py-1 pl-3 items-center rounded-md hover:bg-hover cursor-pointer text-sm transition-colors duration-200 svelte-2c65x7"),d(e,"tabindex","-1")},m(v,T){P(v,e,T),b.m(e,null),f(e,t),f(e,r),f(r,s),f(s,o),f(r,a),_&&_.m(r,null),f(e,l),k&&k.m(e,null),f(e,c),h||(p=[W(s,"click",kr(E)),W(s,"keydown",kr(S)),W(e,"click",x),W(e,"keydown",A)],h=!0)},p(v,T){n=v,y===(y=m(n))&&b?b.p(n,T):(b.d(1),b=y(n),b&&(b.c(),b.m(e,t))),n[4].length>=2?_?_.p(n,T):(_=pi(n),_.c(),_.m(r,null)):_&&(_.d(1),_=null),n[2]===!0?k?k.p(n,T):(k=gi(n),k.c(),k.m(e,c)):k&&(k.d(1),k=null),T[0]&24&&u!==(u=(n[3]===n[4].length-n[34]-1?"bg-hover2 hover:bg-hover2":"")+" title-container conversation flex justify-between min-h-[50px] py-1 pl-3 items-center rounded-md hover:bg-hover cursor-pointer text-sm transition-colors duration-200 svelte-2c65x7")&&d(e,"class",u)},d(v){v&&C(e),b.d(),_&&_.d(),k&&k.d(),h=!1,st(p)}}}function ad(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y,b,E,S,_,k,x,A,v,T,w,R,I,B,j,H,G,Z,V,J,z,F=n[6]===null?"(Insert API key)":"",Y,te,ue,ye;function Pe(we,ze){return we[4][we[3]]?rd:sd}let me=Pe(n),K=me(n),he=n[4].slice().reverse(),Oe=[];for(let we=0;we<he.length;we+=1)Oe[we]=mi(hi(n,he,we));return{c(){e=g("div"),t=g("div"),r=g("nav"),s=g("button"),s.textContent="Close menu",o=L(),i=g("div"),a=g("p"),a.textContent="WolfeChat",l=L(),c=g("div"),u=g("button"),h=g("img"),m=L(),y=g("button"),b=g("img"),S=L(),_=g("div"),_.innerHTML='<p class="text-xs text-gray-400 z-20">System Role:</p>',k=L(),K.c(),x=L(),A=g("div");for(let we=0;we<Oe.length;we+=1)Oe[we].c();v=L(),T=g("div"),w=g("button"),w.textContent="Export",R=L(),I=g("button"),I.textContent="Import",B=L(),j=g("div"),H=g("button"),H.textContent="Help",G=L(),Z=g("button"),Z.textContent="Debug",V=L(),J=g("button"),z=X("Settings "),Y=X(F),d(s,"class","md:hidden z-20 flex py-3 px-3 items-center gap-3 rounded-md hover:bg-hover hover:opacity-hover transition-colors duration-200 cursor-pointer text-sm mb-2 flex-shrink-0 border border-white/50"),d(a,"class","text-center font-bold text-2xl m-0"),Ye(h.src,p=Ll)||d(h,"src",p),d(h,"alt","Clear Conversation"),d(h,"class","w-6 h-6 filter-white"),d(u,"title","Clear Conversation"),d(u,"aria-label","Clear Conversation"),d(u,"class","w-6 h-6 flex items-center justify-center hover:opacity-80"),Ye(b.src,E=nd)||d(b,"src",E),d(b,"alt","New chat"),d(b,"class","w-6 h-6 filter-white z-20"),d(y,"class","hover:bg-gray-700 rounded-lg p-1"),d(y,"title","New Conversation"),d(y,"aria-label","New Conversation"),d(c,"class","flex items-center gap-2"),d(i,"class","flex justify-between items-center py-3 px-3 w-full rounded-lg z-20"),d(_,"class","py-1 select-none z-20"),d(A,"class","flex flex-col h-40 my-2 flex-grow overflow-y-auto convo-container svelte-2c65x7"),d(w,"class","flex flex-1 border border-white/20 py-3 px-3 items-center text-gray-400 font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),d(I,"class","flex flex-1 border border-white/20 py-3 px-3 items-center text-gray-400 font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),d(T,"class","flex flex-row gap-2"),d(H,"class","flex flex-1 border border-white/50 py-3 px-3 items-center font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),d(Z,"class","flex flex-1 border border-white/50 py-3 px-3 items-center font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),d(j,"class","flex flex-row gap-2"),d(J,"class","flex border border-white/50 py-3 px-3 items-center font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),d(r,"class","flex h-full fle-1 flex-col space-y-1 p-2 bg-secondary"),d(t,"class",te=(n[5]==!0?"translate-x-0":"-translate-x-[100%] md:translate-x-0")+" duration-200 h-full fixed md:flex w-[260px] flex-col bg-secondary z-40"),d(e,"class","flex flex-col text-white/90")},m(we,ze){P(we,e,ze),f(e,t),f(t,r),f(r,s),f(r,o),f(r,i),f(i,a),f(i,l),f(i,c),f(c,u),f(u,h),f(c,m),f(c,y),f(y,b),f(r,S),f(r,_),f(r,k),K.m(r,null),f(r,x),f(r,A);for(let Ee=0;Ee<Oe.length;Ee+=1)Oe[Ee].m(A,null);f(r,v),f(r,T),f(T,w),f(T,R),f(T,I),f(r,B),f(r,j),f(j,H),f(j,G),f(j,Z),f(r,V),f(r,J),f(J,z),f(J,Y),ue||(ye=[W(s,"click",n[18]),W(u,"click",n[9]),W(y,"click",n[8]),W(w,"click",n[16]),W(I,"click",n[17]),W(H,"click",n[11]),W(Z,"click",n[12]),W(J,"click",n[10])],ue=!0)},p(we,ze){if(me===(me=Pe(we))&&K?K.p(we,ze):(K.d(1),K=me(we),K&&(K.c(),K.m(r,x))),ze[0]&57375){he=we[4].slice().reverse();let Ee;for(Ee=0;Ee<he.length;Ee+=1){const it=hi(we,he,Ee);Oe[Ee]?Oe[Ee].p(it,ze):(Oe[Ee]=mi(it),Oe[Ee].c(),Oe[Ee].m(A,null))}for(;Ee<Oe.length;Ee+=1)Oe[Ee].d(1);Oe.length=he.length}ze[0]&64&&F!==(F=we[6]===null?"(Insert API key)":"")&&_e(Y,F),ze[0]&32&&te!==(te=(we[5]==!0?"translate-x-0":"-translate-x-[100%] md:translate-x-0")+" duration-200 h-full fixed md:flex w-[260px] flex-col bg-secondary z-40")&&d(t,"class",te)},i:se,o:se,d(we){we&&C(e),K.d(),_t(Oe,we),ue=!1,st(ye)}}}function ld(n,e,t){let r,s,o,i,a,l,c;ge(n,zn,F=>t(2,r=F)),ge(n,qe,F=>t(29,s=F)),ge(n,fn,F=>t(30,o=F)),ge(n,Fe,F=>t(3,i=F)),ge(n,ae,F=>t(4,a=F)),ge(n,Sr,F=>t(5,l=F)),ge(n,Vt,F=>t(6,c=F));const u=Gn();let h="You are a helpful assistant.";function p(){u("new-chat")}function m(){const F=i,Y=a,te={id:`${Date.now()}-${Math.random().toString(36).slice(2)}`,history:[],conversationTokens:0,assistantRole:Y[F]?.assistantRole??"Don't provide compliments or enthusiastic compliments at the start of your responses. Don't provide offers for follow up at the end of your responses.",title:""};ae.set([...Y,te]),Fe.set(a.length),ae.set(a.filter((ue,ye)=>ye!==F)),u("clear-chat")}function y(){Nn.set(!1),jn.set(!1),Fn.set(!0)}function b(){Fn.set(!1),Nn.set(!0),jn.set(!1)}function E(){Fn.set(!1),Nn.set(!1),jn.set(!0)}async function S(F){if(console.log("Attempting to delete conversation at index:",F),a.length<=1){console.log("Deletion aborted: Cannot delete the last conversation.");return}const Y=a[F];let te=a.filter((ue,ye)=>ye!==F);if(console.log("Updated conversations list after deletion attempt:",te),Y?.id){mn.deleteDraft(Y.id);try{window.conversationQuickSettings?.deleteSettings?.(Y.id)}catch{}}F===i?(Fe.set(F>0?F-1:0),console.log("Selected conversation index adjusted to:",F>0?F-1:0)):F<i&&(Fe.set(i-1),console.log("Selected conversation index adjusted due to deletion before it. New index:",i-1)),ae.set(te)}let _=null,k="";function x(F,Y){t(0,_=F),t(1,k=Y)}function A(F){ae.update(Y=>{let te=[...Y];return te[F].title=k,te}),t(0,_=null)}function v(){let Y=JSON.stringify({conversations:a,chosenConversationId:i,defaultAssistantRole:o,selectedModel:s,showTokens:r}),te=new Blob([Y],{type:"application/json"}),ue=URL.createObjectURL(te),ye=document.createElement("a");ye.href=ue,ye.download="wolfechat-session.json",ye.click(),URL.revokeObjectURL(ue)}function T(){let F=document.createElement("input");F.type="file",F.accept=".json",F.onchange=async Y=>{let te=F.files[0],ue=new FileReader;ue.onload=async ye=>{let Pe=ye.target.result,me=JSON.parse(Pe);ae.set(me.conversations),Fe.set(me.chosenConversationId),fn.set(me.defaultAssistantRole),qe.set(me.selectedModel),zn.set(me.showTokens)},ue.readAsText(te)},F.click()}const w=()=>{Sr.set(!1)};function R(){a[i].assistantRole=this.value,ae.set(a)}function I(){k=this.value,t(1,k)}return[_,k,r,i,a,l,c,h,p,m,y,b,E,S,x,A,v,T,w,R,I,F=>A(a.length-F-1),(F,Y)=>{Y.key==="Enter"&&(A(a.length-F-1),Y.preventDefault())},(F,Y,te)=>{let ue=a.length-F-1;x(ue,Y.title)},(F,Y,te)=>{if(te.key==="Enter"){te.preventDefault();let ue=a.length-F-1;x(ue,Y.title)}},(F,Y)=>{let te=a.length-F-1;S(te)},(F,Y)=>{if(Y.key==="Enter"){Y.preventDefault();let te=a.length-F-1;S(te)}},F=>{let Y=a.length-F-1;Fe.set(Y)},(F,Y)=>{if(Y.key==="Enter"){Y.preventDefault();let te=a.length-F-1;Fe.set(te)}}]}class cd extends Ce{constructor(e){super(),Ie(this,e,ld,ad,xe,{},null,[-1,-1])}}const Dl="models";function ud(){try{const n=Qe(Dl);return n?JSON.parse(n):[]}catch{return[]}}const Ht=be(ud());Ht.subscribe(n=>{try{Ve(Dl,JSON.stringify(n||[]))}catch{}});const Fl=Object.freeze(Object.defineProperty({__proto__:null,modelsStore:Ht},Symbol.toStringTag,{value:"Module"})),Nl="recent_models",dd=5;function fd(){try{const n=Qe(Nl);return n?JSON.parse(n):[]}catch{return[]}}const Ts=be(fd());Ts.subscribe(n=>{try{Ve(Nl,JSON.stringify(n||[]))}catch{}});function hd(n){const r=(O(Ht)||[]).find(s=>s?.id===n)||{id:n};Ts.update(s=>{const o=(s||[]).filter(i=>i?.id!==n);return[r,...o].slice(0,dd)})}const Zn={effort:"reasoning_effort",verbosity:"reasoning_verbosity",summary:"reasoning_summary"};function xo(n,e){try{return Qe(n)??e}catch{return e}}const Es=be(xo(Zn.effort,"medium")),xs=be(xo(Zn.verbosity,"medium")),Rs=be(xo(Zn.summary,"auto"));Es.subscribe(n=>{try{Ve(Zn.effort,n)}catch{}});xs.subscribe(n=>{try{Ve(Zn.verbosity,n)}catch{}});Rs.subscribe(n=>{try{Ve(Zn.summary,n)}catch{}});var zs={};let pd=0;function jl(){return typeof window<"u"&&(window.__DEBUG>=2||window.__DEBUG===2||window.__DEBUG==="2")}function gd(){if(!jl()||typeof window>"u")return;window.__testDebugData||(window.__testDebugData={reasoningEvents:[],uiStateChanges:[],assistantMessages:[],streamState:[]});const n=window.__testDebugData;n.layers||(n.layers={sseParser:[],messageAssembly:[],storeUpdates:[],reactivity:[],domRender:[],reasoning:[]}),n.timeline||(n.timeline=[]),n.conversationContext||(n.conversationContext=new Map)}function md(){return typeof performance<"u"?performance.now():Date.now()}function _d(){try{return(new Error().stack||"").split(`
`).slice(2,7)}catch{return[]}}function Rn(n,e,t,r,s){if(!jl())return;gd();const o={timestamp:md(),layer:n,event:e,data:t,conversationId:r,responseId:s,callStack:_d(),sequenceId:++pd};try{const i=window.__testDebugData;i.layers[n].push(o),i.timeline.push(o),r&&i.conversationContext.set(r,{lastUpdate:o.timestamp,lastEvent:e}),(!(typeof process<"u"&&zs)||Number(zs.DEBUG||0)>=3)&&console.log(`[DEBUG-${n.toUpperCase()}] ${e}`,{seq:o.sequenceId,convId:r,respId:s,data:t})}catch(i){(!(typeof process<"u"&&zs)||Number(zs.DEBUG||0)>=1)&&console.error("Failed to log debug event:",i)}}const ie={sseParser:(n,e,t,r)=>Rn("sseParser",n,e,t,r),messageAssembly:(n,e,t,r)=>Rn("messageAssembly",n,e,t,r),storeUpdates:(n,e,t,r)=>Rn("storeUpdates",n,e,t,r),reactivity:(n,e,t,r)=>Rn("reactivity",n,e,t,r),domRender:(n,e,t,r)=>Rn("domRender",n,e,t,r),reasoning:(n,e,t,r)=>Rn("reasoning",n,e,t,r)},Bl="reasoning_panels",Hl="reasoning_windows";function zl(n,e){try{const t=Qe(n);if(t)return JSON.parse(t)}catch(t){console.error(`Failed to load ${n} from localStorage:`,t)}return e}function Ul(n,e){try{Ve(n,JSON.stringify(e))}catch(t){console.error(`Failed to save ${n} to localStorage:`,t)}}const bd=zl(Bl,[]),yd=zl(Hl,[]),hn=be(bd),Yn=be(yd);hn.subscribe(n=>{Ul(Bl,n)});Yn.subscribe(n=>{Ul(Hl,n)});function wd(n){return`${Date.now()}-${Math.random().toString(36).slice(2)}-win-${n??"na"}`}function ql(n,e,t){ie.reasoning("window_creation_start",{convId:n,model:e,anchorIndex:t,timestamp:Date.now()},n);const r=wd(n);return ie.reasoning("window_id_generated",{windowId:r,convId:n,model:e,pattern:`${Date.now()}-*-win-${n??"na"}`},n),Yn.update(s=>{const o={id:r,convId:n,model:e,anchorIndex:t,open:!0,createdAt:Date.now()},i=[...s,o];return ie.reasoning("window_added_to_store",{windowId:r,convId:n,model:e,anchorIndex:t,totalWindows:i.length,newWindow:o},n),i}),ie.reasoning("window_creation_completed",{windowId:r,convId:n,model:e,anchorIndex:t,success:!0},n),r}function $n(n){let e=!1,t=null;ie.reasoning("window_collapse_start",{windowId:n,timestamp:Date.now()}),Yn.update(r=>r.map(s=>s.id===n?(e=!0,t={windowId:n,convId:s.convId,model:s.model,anchorIndex:s.anchorIndex,wasOpen:s.open},ie.reasoning("window_marked_collapsed",{windowId:n,convId:s.convId,model:s.model,anchorIndex:s.anchorIndex,wasOpen:s.open,createdAt:s.createdAt},s.convId),{...s,open:!1}):s)),e?ie.reasoning("window_collapse_completed",{windowId:n,...t,success:!0},t?.convId):ie.reasoning("window_collapse_not_found",{windowId:n})}function vd(n,e){return`${Date.now()}-${Math.random().toString(36).slice(2)}-${n}-${e??"na"}`}function _s(n,e,t){ie.reasoning("panel_creation_start",{kind:n,convId:e,responseId:t,timestamp:Date.now()},e,t);const r=vd(n,e);return ie.reasoning("panel_id_generated",{panelId:r,kind:n,convId:e,responseId:t,pattern:`${Date.now()}-*-${n}-${e??"na"}`},e,t),hn.update(s=>{const o={id:r,convId:e,responseId:t,kind:n,text:"",open:!0,startedAt:Date.now(),done:!1},i=[...s,o];return ie.reasoning("panel_added_to_store",{panelId:r,kind:n,convId:e,responseId:t,totalPanels:i.length,panelsForConv:i.filter(a=>a.convId===e).length,newPanel:o},e,t),i}),ie.reasoning("panel_creation_completed",{panelId:r,kind:n,convId:e,responseId:t,success:!0},e,t),r}function kd(n,e){e&&hn.update(t=>t.map(r=>r.id===n?{...r,text:r.text+e}:r))}function Dn(n,e){let t=!1,r="",s="",o=null;ie.reasoning("text_update_start",{panelId:n,textLength:(e??"").length,textSnippet:(e??"").slice(0,100),timestamp:Date.now()}),hn.update(i=>i.map(a=>a.id===n?(t=!0,r=a.text,s=e??"",o={panelId:n,convId:a.convId,responseId:a.responseId,kind:a.kind,done:a.done,open:a.open},ie.reasoning("text_content_updated",{panelId:n,convId:a.convId,responseId:a.responseId,kind:a.kind,beforeTextLength:r.length,afterTextLength:s.length,textChanged:r!==s,panelOpen:a.open,panelDone:a.done,textSnippet:s.slice(0,100)},a.convId,a.responseId),{...a,text:s}):a)),t?ie.reasoning("text_update_completed",{panelId:n,...o,beforeTextLength:r.length,afterTextLength:s.length,success:!0},o?.convId,o?.responseId):ie.reasoning("text_update_panel_not_found",{panelId:n,textLength:(e??"").length,allPanelIds:[]})}function Zt(n){let e=!1,t=null;ie.reasoning("panel_completion_start",{panelId:n,timestamp:Date.now()}),hn.update(r=>r.map(s=>s.id===n?(e=!0,t={panelId:n,convId:s.convId,responseId:s.responseId,kind:s.kind,textLength:s.text.length,wasOpen:s.open,wasDone:s.done},ie.reasoning("panel_marked_complete",{panelId:n,convId:s.convId,responseId:s.responseId,kind:s.kind,textLength:s.text.length,wasOpen:s.open,wasDone:s.done,finalTextSnippet:s.text.slice(0,100)},s.convId,s.responseId),{...s,open:!1,done:!0}):s)),e?ie.reasoning("panel_completion_completed",{panelId:n,...t,success:!0},t?.convId,t?.responseId):ie.reasoning("panel_completion_not_found",{panelId:n})}const Sd=be([]);function Ad(){return`${Date.now()}-${Math.random().toString(36).slice(2)}-evt`}function Td(n,e,t){ie.reasoning("sse_event_logged",{eventType:n,convId:t,timestamp:Date.now(),hasData:!!e,dataKeys:e?Object.keys(e):[]},t),Sd.update(r=>{const s={id:Ad(),convId:t,type:n,ts:Date.now()},o=[...r,s],i=o.length>500?o.slice(o.length-500):o;return ie.reasoning("sse_event_added_to_store",{eventId:s.id,eventType:n,convId:t,totalEvents:i.length,eventsForConv:i.filter(a=>a.convId===t).length,wasTruncated:o.length>500},t),i})}typeof window<"u"&&(window.startReasoningPanel=_s,window.appendReasoningText=kd,window.setReasoningText=Dn,window.completeReasoningPanel=Zt,window.__getReasoningPanels=()=>{let n=[];return hn.subscribe(e=>{n=e})(),n},window.__getReasoningWindows=()=>{let n=[];return Yn.subscribe(e=>{n=e})(),n});function Kr(n){return n==null?null:String(n)}function Ed(n){const e=be({});function t(i,a){const l=Kr(i);l&&e.update(c=>({...c,[l]:{...c[l]||{},...a}}))}function r(i){const a=Kr(i);if(!a)return{};let l={};return e.subscribe(u=>l=u)(),l[a]||{}}function s(i){const a=Kr(i);a&&e.update(l=>{if(!(a in l))return l;const{[a]:c,...u}=l;return u})}function o(i,a){const l=vn(i,a),c=vn([qe,Es,xs,Rs],([h,p,m,y])=>({model:h,reasoningEffort:p,verbosity:m,summary:y})),u=vn([e,l,c],([h,p,m])=>{if(!p)return m;const y=h[p]||{};return{...m,...y}});return{subscribe:u.subscribe,set:h=>{let p=null;l.subscribe(y=>p=y)(),p&&e.update(y=>({...y,[p]:{...y[p],...h}}))},update:h=>{let p=null,m={};if(l.subscribe(S=>p=S)(),!p)return;u.subscribe(S=>m=S)();const E=h(m);e.update(S=>({...S,[p]:{...S[p],...E}}))}}}return{subscribe:e.subscribe,setSettings:t,getSettings:r,deleteSettings:s,currentSettingsWritable:o}}const Ro=Ed();typeof window<"u"&&(window.conversationQuickSettings=Ro);function ne(n,e,t,r,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}function M(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let Vl=function(){const{crypto:n}=globalThis;if(n?.randomUUID)return Vl=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};function Is(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const co=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};class ve extends Error{}class pt extends ve{constructor(e,t,r,s){super(`${pt.makeMessage(e,t,r)}`),this.status=e,this.headers=s,this.requestID=s?.get("request-id"),this.error=t}static makeMessage(e,t,r){const s=t?.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,t,r,s){if(!e||!s)return new Lr({message:r,cause:co(t)});const o=t;return e===400?new Gl(e,o,r,s):e===401?new Wl(e,o,r,s):e===403?new Jl(e,o,r,s):e===404?new Zl(e,o,r,s):e===409?new Yl(e,o,r,s):e===422?new Xl(e,o,r,s):e===429?new Ql(e,o,r,s):e>=500?new ec(e,o,r,s):new pt(e,o,r,s)}}class Ot extends pt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Lr extends pt{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Kl extends Lr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Gl extends pt{}class Wl extends pt{}class Jl extends pt{}class Zl extends pt{}class Yl extends pt{}class Xl extends pt{}class Ql extends pt{}class ec extends pt{}const xd=/^[a-z][a-z0-9+.-]*:/i,Rd=n=>xd.test(n);let uo=n=>(uo=Array.isArray,uo(n)),_i=uo;function bi(n){return typeof n!="object"?{}:n??{}}function Id(n){if(!n)return!0;for(const e in n)return!1;return!0}function Cd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const Pd=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ve(`${n} must be an integer`);if(e<0)throw new ve(`${n} must be a positive integer`);return e},tc=n=>{try{return JSON.parse(n)}catch{return}},Md=n=>new Promise(e=>setTimeout(e,n)),On="0.64.0",$d=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Od(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Ld=()=>{const n=Od();if(n==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":On,"X-Stainless-OS":wi(Deno.build.os),"X-Stainless-Arch":yi(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":On,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(n==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":On,"X-Stainless-OS":wi(globalThis.process.platform??"unknown"),"X-Stainless-Arch":yi(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=Dd();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":On,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":On,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Dd(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const s=r[1]||0,o=r[2]||0,i=r[3]||0;return{browser:e,version:`${s}.${o}.${i}`}}}return null}const yi=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",wi=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let vi;const Fd=()=>vi??(vi=Ld());function Nd(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function nc(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function sc(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return nc({start(){},async pull(t){const{done:r,value:s}=await e.next();r?t.close():t.enqueue(s)},async cancel(){await e.return?.()}})}function Io(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t?.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function jd(n){if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await n[Symbol.asyncIterator]().return?.();return}const e=n.getReader(),t=e.cancel();e.releaseLock(),await t}const Bd=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function Hd(n){let e=0;for(const s of n)e+=s.length;const t=new Uint8Array(e);let r=0;for(const s of n)t.set(s,r),r+=s.length;return t}let ki;function Co(n){let e;return(ki??(e=new globalThis.TextEncoder,ki=e.encode.bind(e)))(n)}let Si;function Ai(n){let e;return(Si??(e=new globalThis.TextDecoder,Si=e.decode.bind(e)))(n)}var Et,xt;class Cs{constructor(){Et.set(this,void 0),xt.set(this,void 0),ne(this,Et,new Uint8Array),ne(this,xt,null)}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Co(e):e;ne(this,Et,Hd([M(this,Et,"f"),t]));const r=[];let s;for(;(s=zd(M(this,Et,"f"),M(this,xt,"f")))!=null;){if(s.carriage&&M(this,xt,"f")==null){ne(this,xt,s.index);continue}if(M(this,xt,"f")!=null&&(s.index!==M(this,xt,"f")+1||s.carriage)){r.push(Ai(M(this,Et,"f").subarray(0,M(this,xt,"f")-1))),ne(this,Et,M(this,Et,"f").subarray(M(this,xt,"f"))),ne(this,xt,null);continue}const o=M(this,xt,"f")!==null?s.preceding-1:s.preceding,i=Ai(M(this,Et,"f").subarray(0,o));r.push(i),ne(this,Et,M(this,Et,"f").subarray(s.index)),ne(this,xt,null)}return r}flush(){return M(this,Et,"f").length?this.decode(`
`):[]}}Et=new WeakMap,xt=new WeakMap;Cs.NEWLINE_CHARS=new Set([`
`,"\r"]);Cs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function zd(n,e){for(let s=e??0;s<n.length;s++){if(n[s]===10)return{preceding:s,index:s+1,carriage:!1};if(n[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function Ud(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}const Tr={off:0,error:200,warn:300,info:400,debug:500},Ti=(n,e,t)=>{if(n){if(Cd(Tr,n))return n;mt(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Tr))}`)}};function ps(){}function Us(n,e,t){return!e||Tr[n]>Tr[t]?ps:e[n].bind(e)}const qd={error:ps,warn:ps,info:ps,debug:ps};let Ei=new WeakMap;function mt(n){const e=n.logger,t=n.logLevel??"off";if(!e)return qd;const r=Ei.get(e);if(r&&r[0]===t)return r[1];const s={error:Us("error",e,t),warn:Us("warn",e,t),info:Us("info",e,t),debug:Us("debug",e,t)};return Ei.set(e,[t,s]),s}const _n=n=>(n.options&&(n.options={...n.options},delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);var ts;class zt{constructor(e,t,r){this.iterator=e,ts.set(this,void 0),this.controller=t,ne(this,ts,r)}static fromSSEResponse(e,t,r){let s=!1;const o=r?mt(r):console;async function*i(){if(s)throw new ve("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let a=!1;try{for await(const l of Vd(e,t)){if(l.event==="completion")try{yield JSON.parse(l.data)}catch(c){throw o.error("Could not parse message into JSON:",l.data),o.error("From chunk:",l.raw),c}if(l.event==="message_start"||l.event==="message_delta"||l.event==="message_stop"||l.event==="content_block_start"||l.event==="content_block_delta"||l.event==="content_block_stop")try{yield JSON.parse(l.data)}catch(c){throw o.error("Could not parse message into JSON:",l.data),o.error("From chunk:",l.raw),c}if(l.event!=="ping"&&l.event==="error")throw new pt(void 0,tc(l.data)??l.data,void 0,e.headers)}a=!0}catch(l){if(Is(l))return;throw l}finally{a||t.abort()}}return new zt(i,t,r)}static fromReadableStream(e,t,r){let s=!1;async function*o(){const a=new Cs,l=Io(e);for await(const c of l)for(const u of a.decode(c))yield u;for(const c of a.flush())yield c}async function*i(){if(s)throw new ve("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let a=!1;try{for await(const l of o())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(Is(l))return;throw l}finally{a||t.abort()}}return new zt(i,t,r)}[(ts=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),s=o=>({next:()=>{if(o.length===0){const i=r.next();e.push(i),t.push(i)}return o.shift()}});return[new zt(()=>s(e),this.controller,M(this,ts,"f")),new zt(()=>s(t),this.controller,M(this,ts,"f"))]}toReadableStream(){const e=this;let t;return nc({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:o}=await t.next();if(o)return r.close();const i=Co(JSON.stringify(s)+`
`);r.enqueue(i)}catch(s){r.error(s)}},async cancel(){await t.return?.()}})}}async function*Vd(n,e){if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ve("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ve("Attempted to iterate over a response with no body");const t=new Gd,r=new Cs,s=Io(n.body);for await(const o of Kd(s))for(const i of r.decode(o)){const a=t.decode(i);a&&(yield a)}for(const o of r.flush()){const i=t.decode(o);i&&(yield i)}}async function*Kd(n){let e=new Uint8Array;for await(const t of n){if(t==null)continue;const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Co(t):t;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let o;for(;(o=Ud(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}class Gd{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,s]=Wd(e,":");return s.startsWith(" ")&&(s=s.substring(1)),t==="event"?this.event=s:t==="data"&&this.data.push(s),null}}function Wd(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}async function rc(n,e){const{response:t,requestLogID:r,retryOfRequestLogID:s,startTime:o}=e,i=await(async()=>{if(e.options.stream)return mt(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):zt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const l=t.headers.get("content-type")?.split(";")[0]?.trim();if(l?.includes("application/json")||l?.endsWith("+json")){const h=await t.json();return oc(h,t)}return await t.text()})();return mt(n).debug(`[${r}] response parsed`,_n({retryOfRequestLogID:s,url:t.url,status:t.status,body:i,durationMs:Date.now()-o})),i}function oc(n,e){return!n||typeof n!="object"||Array.isArray(n)?n:Object.defineProperty(n,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var gs;class Dr extends Promise{constructor(e,t,r=rc){super(s=>{s(null)}),this.responsePromise=t,this.parseResponse=r,gs.set(this,void 0),ne(this,gs,e)}_thenUnwrap(e){return new Dr(M(this,gs,"f"),this.responsePromise,async(t,r)=>oc(e(await this.parseResponse(t,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(M(this,gs,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}gs=new WeakMap;var qs;class Jd{constructor(e,t,r,s){qs.set(this,void 0),ne(this,qs,e),this.options=s,this.response=t,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new ve("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await M(this,qs,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(qs=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Zd extends Dr{constructor(e,t,r){super(e,t,async(s,o)=>new r(s,o.response,await rc(s,o),o.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}class Ps extends Jd{constructor(e,t,r,s){super(e,t,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const t=this.first_id;return t?{...this.options,query:{...bi(this.options.query),before_id:t}}:null}const e=this.last_id;return e?{...this.options,query:{...bi(this.options.query),after_id:e}}:null}}const ic=()=>{if(typeof File>"u"){const{process:n}=globalThis,e=typeof n?.versions?.node=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Hn(n,e,t){return ic(),new File(n,e??"unknown_file",t)}function pr(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const ac=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",Yd=async(n,e)=>({...n,body:await Qd(n.body,e)}),xi=new WeakMap;function Xd(n){const e=typeof n=="function"?n:n.fetch,t=xi.get(e);if(t)return t;const r=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new s(o).text()}catch{return!0}})();return xi.set(e,r),r}const Qd=async(n,e)=>{if(!await Xd(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const t=new FormData;return await Promise.all(Object.entries(n||{}).map(([r,s])=>fo(t,r,s))),t},ef=n=>n instanceof Blob&&"name"in n,fo=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(t instanceof Response){let r={};const s=t.headers.get("Content-Type");s&&(r={type:s}),n.append(e,Hn([await t.blob()],pr(t),r))}else if(ac(t))n.append(e,Hn([await new Response(sc(t)).blob()],pr(t)));else if(ef(t))n.append(e,Hn([t],pr(t),{type:t.type}));else if(Array.isArray(t))await Promise.all(t.map(r=>fo(n,e+"[]",r)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([r,s])=>fo(n,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}},lc=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",tf=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&lc(n),nf=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function sf(n,e,t){if(ic(),n=await n,e||(e=pr(n)),tf(n))return n instanceof File&&e==null&&t==null?n:Hn([await n.arrayBuffer()],e??n.name,{type:n.type,lastModified:n.lastModified,...t});if(nf(n)){const s=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Hn(await ho(s),e,t)}const r=await ho(n);if(!t?.type){const s=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof s=="string"&&(t={...t,type:s})}return Hn(r,e,t)}async function ho(n){let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(lc(n))e.push(n instanceof Blob?n:await n.arrayBuffer());else if(ac(n))for await(const t of n)e.push(...await ho(t));else{const t=n?.constructor?.name;throw new Error(`Unexpected data type: ${typeof n}${t?`; constructor: ${t}`:""}${rf(n)}`)}return e}function rf(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}class tn{constructor(e){this._client=e}}const cc=Symbol.for("brand.privateNullableHeaders");function*of(n){if(!n)return;if(cc in n){const{values:r,nulls:s}=n;yield*r.entries();for(const o of s)yield[o,null];return}let e=!1,t;n instanceof Headers?t=n.entries():_i(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let r of t){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const o=_i(r[1])?r[1]:[r[1]];let i=!1;for(const a of o)a!==void 0&&(e&&!i&&(i=!0,yield[s,null]),yield[s,a])}}const We=n=>{const e=new Headers,t=new Set;for(const r of n){const s=new Set;for(const[o,i]of of(r)){const a=o.toLowerCase();s.has(a)||(e.delete(o),s.add(a)),i===null?(e.delete(o),t.add(a)):(e.append(o,i),t.delete(a))}}return{[cc]:!0,values:e,nulls:t}};function uc(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ri=Object.freeze(Object.create(null)),af=(n=uc)=>function(t,...r){if(t.length===1)return t[0];let s=!1;const o=[],i=t.reduce((u,h,p)=>{/[?#]/.test(h)&&(s=!0);const m=r[p];let y=(s?encodeURIComponent:n)(""+m);return p!==r.length&&(m==null||typeof m=="object"&&m.toString===Object.getPrototypeOf(Object.getPrototypeOf(m.hasOwnProperty??Ri)??Ri)?.toString)&&(y=m+"",o.push({start:u.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(m).slice(8,-1)} is not a valid path parameter`})),u+h+(p===r.length?"":y)},""),a=i.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let c;for(;(c=l.exec(a))!==null;)o.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(o.sort((u,h)=>u.start-h.start),o.length>0){let u=0;const h=o.reduce((p,m)=>{const y=" ".repeat(m.start-u),b="^".repeat(m.length);return u=m.start+m.length,p+y+b},"");throw new ve(`Path parameters result in path with invalid segments:
${o.map(p=>p.error).join(`
`)}
${i}
${h}`)}return i},Lt=af(uc);class dc extends tn{list(e={},t){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/files",Ps,{query:s,...t,headers:We([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},t?.headers])})}delete(e,t={},r){const{betas:s}=t??{};return this._client.delete(Lt`/v1/files/${e}`,{...r,headers:We([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r?.headers])})}download(e,t={},r){const{betas:s}=t??{};return this._client.get(Lt`/v1/files/${e}/content`,{...r,headers:We([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}retrieveMetadata(e,t={},r){const{betas:s}=t??{};return this._client.get(Lt`/v1/files/${e}`,{...r,headers:We([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r?.headers])})}upload(e,t){const{betas:r,...s}=e;return this._client.post("/v1/files",Yd({body:s,...t,headers:We([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},t?.headers])},this._client))}}let fc=class extends tn{retrieve(e,t={},r){const{betas:s}=t??{};return this._client.get(Lt`/v1/models/${e}?beta=true`,{...r,headers:We([{...s?.toString()!=null?{"anthropic-beta":s?.toString()}:void 0},r?.headers])})}list(e={},t){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/models?beta=true",Ps,{query:s,...t,headers:We([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},t?.headers])})}};class Fr{constructor(e,t){this.iterator=e,this.controller=t}async*decoder(){const e=new Cs;for await(const t of this.iterator)for(const r of e.decode(t))yield JSON.parse(r);for(const t of e.flush())yield JSON.parse(t)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ve("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ve("Attempted to iterate over a response with no body");return new Fr(Io(e.body),t)}}let hc=class extends tn{create(e,t){const{betas:r,...s}=e;return this._client.post("/v1/messages/batches?beta=true",{body:s,...t,headers:We([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},t?.headers])})}retrieve(e,t={},r){const{betas:s}=t??{};return this._client.get(Lt`/v1/messages/batches/${e}?beta=true`,{...r,headers:We([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r?.headers])})}list(e={},t){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",Ps,{query:s,...t,headers:We([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},t?.headers])})}delete(e,t={},r){const{betas:s}=t??{};return this._client.delete(Lt`/v1/messages/batches/${e}?beta=true`,{...r,headers:We([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r?.headers])})}cancel(e,t={},r){const{betas:s}=t??{};return this._client.post(Lt`/v1/messages/batches/${e}/cancel?beta=true`,{...r,headers:We([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r?.headers])})}async results(e,t={},r){const s=await this.retrieve(e);if(!s.results_url)throw new ve(`No batch \`results_url\`; Has it finished processing? ${s.processing_status} - ${s.id}`);const{betas:o}=t??{};return this._client.get(s.results_url,{...r,headers:We([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},r?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((i,a)=>Fr.fromResponse(a.response,a.controller))}};const lf=n=>{let e=0,t=[];for(;e<n.length;){let r=n[e];if(r==="\\"){e++;continue}if(r==="{"){t.push({type:"brace",value:"{"}),e++;continue}if(r==="}"){t.push({type:"brace",value:"}"}),e++;continue}if(r==="["){t.push({type:"paren",value:"["}),e++;continue}if(r==="]"){t.push({type:"paren",value:"]"}),e++;continue}if(r===":"){t.push({type:"separator",value:":"}),e++;continue}if(r===","){t.push({type:"delimiter",value:","}),e++;continue}if(r==='"'){let a="",l=!1;for(r=n[++e];r!=='"';){if(e===n.length){l=!0;break}if(r==="\\"){if(e++,e===n.length){l=!0;break}a+=r+n[e],r=n[++e]}else a+=r,r=n[++e]}r=n[++e],l||t.push({type:"string",value:a});continue}if(r&&/\s/.test(r)){e++;continue}let o=/[0-9]/;if(r&&o.test(r)||r==="-"||r==="."){let a="";for(r==="-"&&(a+=r,r=n[++e]);r&&o.test(r)||r===".";)a+=r,r=n[++e];t.push({type:"number",value:a});continue}let i=/[a-z]/i;if(r&&i.test(r)){let a="";for(;r&&i.test(r)&&e!==n.length;)a+=r,r=n[++e];if(a=="true"||a=="false"||a==="null")t.push({type:"name",value:a});else{e++;continue}continue}e++}return t},Ln=n=>{if(n.length===0)return n;let e=n[n.length-1];switch(e.type){case"separator":return n=n.slice(0,n.length-1),Ln(n);case"number":let t=e.value[e.value.length-1];if(t==="."||t==="-")return n=n.slice(0,n.length-1),Ln(n);case"string":let r=n[n.length-2];if(r?.type==="delimiter")return n=n.slice(0,n.length-1),Ln(n);if(r?.type==="brace"&&r.value==="{")return n=n.slice(0,n.length-1),Ln(n);break;case"delimiter":return n=n.slice(0,n.length-1),Ln(n)}return n},cf=n=>{let e=[];return n.map(t=>{t.type==="brace"&&(t.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),t.type==="paren"&&(t.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(t=>{t==="}"?n.push({type:"brace",value:"}"}):t==="]"&&n.push({type:"paren",value:"]"})}),n},uf=n=>{let e="";return n.map(t=>{switch(t.type){case"string":e+='"'+t.value+'"';break;default:e+=t.value;break}}),e},pc=n=>JSON.parse(uf(cf(Ln(lf(n)))));var Ct,on,ns,Vs,ss,rs,Ks,os,Wt,is,Gs,Ws,In,Js,Zs,Gr,Ii,Ys,Wr,Jr,Zr,Ci;const Pi="__json_buf";function Mi(n){return n.type==="tool_use"||n.type==="server_tool_use"||n.type==="mcp_tool_use"}class Er{constructor(){Ct.add(this),this.messages=[],this.receivedMessages=[],on.set(this,void 0),this.controller=new AbortController,ns.set(this,void 0),Vs.set(this,()=>{}),ss.set(this,()=>{}),rs.set(this,void 0),Ks.set(this,()=>{}),os.set(this,()=>{}),Wt.set(this,{}),is.set(this,!1),Gs.set(this,!1),Ws.set(this,!1),In.set(this,!1),Js.set(this,void 0),Zs.set(this,void 0),Ys.set(this,e=>{if(ne(this,Gs,!0),Is(e)&&(e=new Ot),e instanceof Ot)return ne(this,Ws,!0),this._emit("abort",e);if(e instanceof ve)return this._emit("error",e);if(e instanceof Error){const t=new ve(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new ve(String(e)))}),ne(this,ns,new Promise((e,t)=>{ne(this,Vs,e,"f"),ne(this,ss,t,"f")})),ne(this,rs,new Promise((e,t)=>{ne(this,Ks,e,"f"),ne(this,os,t,"f")})),M(this,ns,"f").catch(()=>{}),M(this,rs,"f").catch(()=>{})}get response(){return M(this,Js,"f")}get request_id(){return M(this,Zs,"f")}async withResponse(){const e=await M(this,ns,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const t=new Er;return t._run(()=>t._fromReadableStream(e)),t}static createMessage(e,t,r){const s=new Er;for(const o of t.messages)s._addMessageParam(o);return s._run(()=>s._createMessage(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},M(this,Ys,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,r){const s=r?.signal;let o;s&&(s.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),s.addEventListener("abort",o));try{M(this,Ct,"m",Wr).call(this);const{response:i,data:a}=await e.create({...t,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(i);for await(const l of a)M(this,Ct,"m",Jr).call(this,l);if(a.controller.signal?.aborted)throw new Ot;M(this,Ct,"m",Zr).call(this)}finally{s&&o&&s.removeEventListener("abort",o)}}_connected(e){this.ended||(ne(this,Js,e),ne(this,Zs,e?.headers.get("request-id")),M(this,Vs,"f").call(this,e),this._emit("connect"))}get ended(){return M(this,is,"f")}get errored(){return M(this,Gs,"f")}get aborted(){return M(this,Ws,"f")}abort(){this.controller.abort()}on(e,t){return(M(this,Wt,"f")[e]||(M(this,Wt,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=M(this,Wt,"f")[e];if(!r)return this;const s=r.findIndex(o=>o.listener===t);return s>=0&&r.splice(s,1),this}once(e,t){return(M(this,Wt,"f")[e]||(M(this,Wt,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{ne(this,In,!0),e!=="error"&&this.once("error",r),this.once(e,t)})}async done(){ne(this,In,!0),await M(this,rs,"f")}get currentMessage(){return M(this,on,"f")}async finalMessage(){return await this.done(),M(this,Ct,"m",Gr).call(this)}async finalText(){return await this.done(),M(this,Ct,"m",Ii).call(this)}_emit(e,...t){if(M(this,is,"f"))return;e==="end"&&(ne(this,is,!0),M(this,Ks,"f").call(this));const r=M(this,Wt,"f")[e];if(r&&(M(this,Wt,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...t))),e==="abort"){const s=t[0];!M(this,In,"f")&&!r?.length&&Promise.reject(s),M(this,ss,"f").call(this,s),M(this,os,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=t[0];!M(this,In,"f")&&!r?.length&&Promise.reject(s),M(this,ss,"f").call(this,s),M(this,os,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",M(this,Ct,"m",Gr).call(this))}async _fromReadableStream(e,t){const r=t?.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{M(this,Ct,"m",Wr).call(this),this._connected(null);const o=zt.fromReadableStream(e,this.controller);for await(const i of o)M(this,Ct,"m",Jr).call(this,i);if(o.controller.signal?.aborted)throw new Ot;M(this,Ct,"m",Zr).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(on=new WeakMap,ns=new WeakMap,Vs=new WeakMap,ss=new WeakMap,rs=new WeakMap,Ks=new WeakMap,os=new WeakMap,Wt=new WeakMap,is=new WeakMap,Gs=new WeakMap,Ws=new WeakMap,In=new WeakMap,Js=new WeakMap,Zs=new WeakMap,Ys=new WeakMap,Ct=new WeakSet,Gr=function(){if(this.receivedMessages.length===0)throw new ve("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Ii=function(){if(this.receivedMessages.length===0)throw new ve("stream ended without producing a Message with role=assistant");const t=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(t.length===0)throw new ve("stream ended without producing a content block with type=text");return t.join(" ")},Wr=function(){this.ended||ne(this,on,void 0)},Jr=function(t){if(this.ended)return;const r=M(this,Ct,"m",Ci).call(this,t);switch(this._emit("streamEvent",t,r),t.type){case"content_block_delta":{const s=r.content.at(-1);switch(t.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",t.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",t.delta.citation,s.citations??[]);break}case"input_json_delta":{Mi(s)&&s.input&&this._emit("inputJson",t.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",t.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:t.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{ne(this,on,r);break}}},Zr=function(){if(this.ended)throw new ve("stream has ended, this shouldn't happen");const t=M(this,on,"f");if(!t)throw new ve("request ended without sending any chunks");return ne(this,on,void 0),t},Ci=function(t){let r=M(this,on,"f");if(t.type==="message_start"){if(r)throw new ve(`Unexpected event order, got ${t.type} before receiving "message_stop"`);return t.message}if(!r)throw new ve(`Unexpected event order, got ${t.type} before "message_start"`);switch(t.type){case"message_stop":return r;case"message_delta":return r.container=t.delta.container,r.stop_reason=t.delta.stop_reason,r.stop_sequence=t.delta.stop_sequence,r.usage.output_tokens=t.usage.output_tokens,t.usage.input_tokens!=null&&(r.usage.input_tokens=t.usage.input_tokens),t.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=t.usage.cache_creation_input_tokens),t.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=t.usage.cache_read_input_tokens),t.usage.server_tool_use!=null&&(r.usage.server_tool_use=t.usage.server_tool_use),r;case"content_block_start":return r.content.push(t.content_block),r;case"content_block_delta":{const s=r.content.at(t.index);switch(t.delta.type){case"text_delta":{s?.type==="text"&&(r.content[t.index]={...s,text:(s.text||"")+t.delta.text});break}case"citations_delta":{s?.type==="text"&&(r.content[t.index]={...s,citations:[...s.citations??[],t.delta.citation]});break}case"input_json_delta":{if(s&&Mi(s)){let o=s[Pi]||"";o+=t.delta.partial_json;const i={...s};if(Object.defineProperty(i,Pi,{value:o,enumerable:!1,writable:!0}),o)try{i.input=pc(o)}catch(a){const l=new ve(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${a}. JSON: ${o}`);M(this,Ys,"f").call(this,l)}r.content[t.index]=i}break}case"thinking_delta":{s?.type==="thinking"&&(r.content[t.index]={...s,thinking:s.thinking+t.delta.thinking});break}case"signature_delta":{s?.type==="thinking"&&(r.content[t.index]={...s,signature:t.delta.signature});break}default:t.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("streamEvent",s=>{const o=t.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of t)s.resolve(void 0);t.length=0}),this.on("abort",s=>{r=!0;for(const o of t)o.reject(s);t.length=0}),this.on("error",s=>{r=!0;for(const o of t)o.reject(s);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,i)=>t.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new zt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const gc={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};var Xs,Cn,gn,vt,as,Bt,Yt,an,ls,po;function $i(){let n,e;return{promise:new Promise((r,s)=>{n=r,e=s}),resolve:n,reject:e}}class mc{constructor(e,t,r){Xs.add(this),this.client=e,Cn.set(this,!1),gn.set(this,!1),vt.set(this,void 0),as.set(this,void 0),Bt.set(this,void 0),Yt.set(this,void 0),an.set(this,void 0),ls.set(this,0),ne(this,vt,{params:{...t,messages:structuredClone(t.messages)}}),ne(this,as,{...r,headers:We([{"x-stainless-helper":"BetaToolRunner"},r?.headers])}),ne(this,an,$i())}async*[(Cn=new WeakMap,gn=new WeakMap,vt=new WeakMap,as=new WeakMap,Bt=new WeakMap,Yt=new WeakMap,an=new WeakMap,ls=new WeakMap,Xs=new WeakSet,Symbol.asyncIterator)](){var e;if(M(this,Cn,"f"))throw new ve("Cannot iterate over a consumed stream");ne(this,Cn,!0),ne(this,gn,!0),ne(this,Yt,void 0);try{for(;;){let t;try{if(M(this,vt,"f").params.max_iterations&&M(this,ls,"f")>=M(this,vt,"f").params.max_iterations)break;ne(this,gn,!1,"f"),ne(this,Bt,void 0,"f"),ne(this,Yt,void 0,"f"),ne(this,ls,(e=M(this,ls,"f"),e++,e),"f");const{max_iterations:r,...s}=M(this,vt,"f").params;if(s.stream?(t=this.client.beta.messages.stream({...s},M(this,as,"f")),ne(this,Bt,t.finalMessage(),"f"),yield t):(ne(this,Bt,this.client.beta.messages.create({...s,stream:!1},M(this,as,"f")),"f"),yield M(this,Bt,"f")),!M(this,gn,"f")){const{role:i,content:a}=await M(this,Bt,"f");M(this,vt,"f").params.messages.push({role:i,content:a})}const o=await M(this,Xs,"m",po).call(this,M(this,vt,"f").params.messages.at(-1));if(o&&M(this,vt,"f").params.messages.push(o),!o&&!M(this,gn,"f"))break}finally{t&&t.abort()}}if(!M(this,Bt,"f"))throw new ve("ToolRunner concluded without a message from the server");M(this,an,"f").resolve(await M(this,Bt,"f"))}catch(t){throw ne(this,Cn,!1),M(this,an,"f").promise.catch(()=>{}),M(this,an,"f").reject(t),ne(this,an,$i()),t}}setMessagesParams(e){typeof e=="function"?M(this,vt,"f").params=e(M(this,vt,"f").params):M(this,vt,"f").params=e,ne(this,gn,!0),ne(this,Yt,void 0)}async generateToolResponse(){const e=await M(this,Bt,"f")??this.params.messages.at(-1);return e?M(this,Xs,"m",po).call(this,e):null}done(){return M(this,an,"f").promise}async runUntilDone(){if(!M(this,Cn,"f"))for await(const e of this);return this.done()}get params(){return M(this,vt,"f").params}pushMessages(...e){this.setMessagesParams(t=>({...t,messages:[...t.messages,...e]}))}then(e,t){return this.runUntilDone().then(e,t)}}po=async function(e){return M(this,Yt,"f")!==void 0?M(this,Yt,"f"):(ne(this,Yt,df(M(this,vt,"f").params,e)),M(this,Yt,"f"))};async function df(n,e=n.messages.at(-1)){if(!e||e.role!=="assistant"||!e.content||typeof e.content=="string")return null;const t=e.content.filter(s=>s.type==="tool_use");return t.length===0?null:{role:"user",content:await Promise.all(t.map(async s=>{const o=n.tools.find(i=>i.name===s.name);if(!o||!("run"in o))return{type:"tool_result",tool_use_id:s.id,content:`Error: Tool '${s.name}' not found`,is_error:!0};try{let i=s.input;"parse"in o&&o.parse&&(i=o.parse(i));const a=await o.run(i);return{type:"tool_result",tool_use_id:s.id,content:a}}catch(i){return{type:"tool_result",tool_use_id:s.id,content:`Error: ${i instanceof Error?i.message:String(i)}`,is_error:!0}}}))}}const Oi={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};let Nr=class extends tn{constructor(){super(...arguments),this.batches=new hc(this._client)}create(e,t){const{betas:r,...s}=e;s.model in Oi&&console.warn(`The model '${s.model}' is deprecated and will reach end-of-life on ${Oi[s.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let o=this._client._options.timeout;if(!s.stream&&o==null){const i=gc[s.model]??void 0;o=this._client.calculateNonstreamingTimeout(s.max_tokens,i)}return this._client.post("/v1/messages?beta=true",{body:s,timeout:o??6e5,...t,headers:We([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},t?.headers]),stream:e.stream??!1})}stream(e,t){return Er.createMessage(this,e,t)}countTokens(e,t){const{betas:r,...s}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:s,...t,headers:We([{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString()},t?.headers])})}toolRunner(e,t){return new mc(this._client,e,t)}};Nr.Batches=hc;Nr.BetaToolRunner=mc;class Ms extends tn{constructor(){super(...arguments),this.models=new fc(this._client),this.messages=new Nr(this._client),this.files=new dc(this._client)}}Ms.Models=fc;Ms.Messages=Nr;Ms.Files=dc;class _c extends tn{create(e,t){const{betas:r,...s}=e;return this._client.post("/v1/complete",{body:s,timeout:this._client._options.timeout??6e5,...t,headers:We([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},t?.headers]),stream:e.stream??!1})}}var Pt,ln,cs,Qs,us,ds,er,fs,Jt,hs,tr,nr,Pn,sr,rr,Yr,Li,Xr,Qr,eo,to,Di;const Fi="__json_buf";function Ni(n){return n.type==="tool_use"||n.type==="server_tool_use"}class xr{constructor(){Pt.add(this),this.messages=[],this.receivedMessages=[],ln.set(this,void 0),this.controller=new AbortController,cs.set(this,void 0),Qs.set(this,()=>{}),us.set(this,()=>{}),ds.set(this,void 0),er.set(this,()=>{}),fs.set(this,()=>{}),Jt.set(this,{}),hs.set(this,!1),tr.set(this,!1),nr.set(this,!1),Pn.set(this,!1),sr.set(this,void 0),rr.set(this,void 0),Xr.set(this,e=>{if(ne(this,tr,!0),Is(e)&&(e=new Ot),e instanceof Ot)return ne(this,nr,!0),this._emit("abort",e);if(e instanceof ve)return this._emit("error",e);if(e instanceof Error){const t=new ve(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new ve(String(e)))}),ne(this,cs,new Promise((e,t)=>{ne(this,Qs,e,"f"),ne(this,us,t,"f")})),ne(this,ds,new Promise((e,t)=>{ne(this,er,e,"f"),ne(this,fs,t,"f")})),M(this,cs,"f").catch(()=>{}),M(this,ds,"f").catch(()=>{})}get response(){return M(this,sr,"f")}get request_id(){return M(this,rr,"f")}async withResponse(){const e=await M(this,cs,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const t=new xr;return t._run(()=>t._fromReadableStream(e)),t}static createMessage(e,t,r){const s=new xr;for(const o of t.messages)s._addMessageParam(o);return s._run(()=>s._createMessage(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},M(this,Xr,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,r){const s=r?.signal;let o;s&&(s.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),s.addEventListener("abort",o));try{M(this,Pt,"m",Qr).call(this);const{response:i,data:a}=await e.create({...t,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(i);for await(const l of a)M(this,Pt,"m",eo).call(this,l);if(a.controller.signal?.aborted)throw new Ot;M(this,Pt,"m",to).call(this)}finally{s&&o&&s.removeEventListener("abort",o)}}_connected(e){this.ended||(ne(this,sr,e),ne(this,rr,e?.headers.get("request-id")),M(this,Qs,"f").call(this,e),this._emit("connect"))}get ended(){return M(this,hs,"f")}get errored(){return M(this,tr,"f")}get aborted(){return M(this,nr,"f")}abort(){this.controller.abort()}on(e,t){return(M(this,Jt,"f")[e]||(M(this,Jt,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=M(this,Jt,"f")[e];if(!r)return this;const s=r.findIndex(o=>o.listener===t);return s>=0&&r.splice(s,1),this}once(e,t){return(M(this,Jt,"f")[e]||(M(this,Jt,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{ne(this,Pn,!0),e!=="error"&&this.once("error",r),this.once(e,t)})}async done(){ne(this,Pn,!0),await M(this,ds,"f")}get currentMessage(){return M(this,ln,"f")}async finalMessage(){return await this.done(),M(this,Pt,"m",Yr).call(this)}async finalText(){return await this.done(),M(this,Pt,"m",Li).call(this)}_emit(e,...t){if(M(this,hs,"f"))return;e==="end"&&(ne(this,hs,!0),M(this,er,"f").call(this));const r=M(this,Jt,"f")[e];if(r&&(M(this,Jt,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...t))),e==="abort"){const s=t[0];!M(this,Pn,"f")&&!r?.length&&Promise.reject(s),M(this,us,"f").call(this,s),M(this,fs,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=t[0];!M(this,Pn,"f")&&!r?.length&&Promise.reject(s),M(this,us,"f").call(this,s),M(this,fs,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",M(this,Pt,"m",Yr).call(this))}async _fromReadableStream(e,t){const r=t?.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{M(this,Pt,"m",Qr).call(this),this._connected(null);const o=zt.fromReadableStream(e,this.controller);for await(const i of o)M(this,Pt,"m",eo).call(this,i);if(o.controller.signal?.aborted)throw new Ot;M(this,Pt,"m",to).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(ln=new WeakMap,cs=new WeakMap,Qs=new WeakMap,us=new WeakMap,ds=new WeakMap,er=new WeakMap,fs=new WeakMap,Jt=new WeakMap,hs=new WeakMap,tr=new WeakMap,nr=new WeakMap,Pn=new WeakMap,sr=new WeakMap,rr=new WeakMap,Xr=new WeakMap,Pt=new WeakSet,Yr=function(){if(this.receivedMessages.length===0)throw new ve("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Li=function(){if(this.receivedMessages.length===0)throw new ve("stream ended without producing a Message with role=assistant");const t=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(t.length===0)throw new ve("stream ended without producing a content block with type=text");return t.join(" ")},Qr=function(){this.ended||ne(this,ln,void 0)},eo=function(t){if(this.ended)return;const r=M(this,Pt,"m",Di).call(this,t);switch(this._emit("streamEvent",t,r),t.type){case"content_block_delta":{const s=r.content.at(-1);switch(t.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",t.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",t.delta.citation,s.citations??[]);break}case"input_json_delta":{Ni(s)&&s.input&&this._emit("inputJson",t.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",t.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:t.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{ne(this,ln,r);break}}},to=function(){if(this.ended)throw new ve("stream has ended, this shouldn't happen");const t=M(this,ln,"f");if(!t)throw new ve("request ended without sending any chunks");return ne(this,ln,void 0),t},Di=function(t){let r=M(this,ln,"f");if(t.type==="message_start"){if(r)throw new ve(`Unexpected event order, got ${t.type} before receiving "message_stop"`);return t.message}if(!r)throw new ve(`Unexpected event order, got ${t.type} before "message_start"`);switch(t.type){case"message_stop":return r;case"message_delta":return r.stop_reason=t.delta.stop_reason,r.stop_sequence=t.delta.stop_sequence,r.usage.output_tokens=t.usage.output_tokens,t.usage.input_tokens!=null&&(r.usage.input_tokens=t.usage.input_tokens),t.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=t.usage.cache_creation_input_tokens),t.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=t.usage.cache_read_input_tokens),t.usage.server_tool_use!=null&&(r.usage.server_tool_use=t.usage.server_tool_use),r;case"content_block_start":return r.content.push({...t.content_block}),r;case"content_block_delta":{const s=r.content.at(t.index);switch(t.delta.type){case"text_delta":{s?.type==="text"&&(r.content[t.index]={...s,text:(s.text||"")+t.delta.text});break}case"citations_delta":{s?.type==="text"&&(r.content[t.index]={...s,citations:[...s.citations??[],t.delta.citation]});break}case"input_json_delta":{if(s&&Ni(s)){let o=s[Fi]||"";o+=t.delta.partial_json;const i={...s};Object.defineProperty(i,Fi,{value:o,enumerable:!1,writable:!0}),o&&(i.input=pc(o)),r.content[t.index]=i}break}case"thinking_delta":{s?.type==="thinking"&&(r.content[t.index]={...s,thinking:s.thinking+t.delta.thinking});break}case"signature_delta":{s?.type==="thinking"&&(r.content[t.index]={...s,signature:t.delta.signature});break}default:t.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("streamEvent",s=>{const o=t.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of t)s.resolve(void 0);t.length=0}),this.on("abort",s=>{r=!0;for(const o of t)o.reject(s);t.length=0}),this.on("error",s=>{r=!0;for(const o of t)o.reject(s);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,i)=>t.push({resolve:o,reject:i})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new zt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class bc extends tn{create(e,t){return this._client.post("/v1/messages/batches",{body:e,...t})}retrieve(e,t){return this._client.get(Lt`/v1/messages/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/v1/messages/batches",Ps,{query:e,...t})}delete(e,t){return this._client.delete(Lt`/v1/messages/batches/${e}`,t)}cancel(e,t){return this._client.post(Lt`/v1/messages/batches/${e}/cancel`,t)}async results(e,t){const r=await this.retrieve(e);if(!r.results_url)throw new ve(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...t,headers:We([{Accept:"application/binary"},t?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((s,o)=>Fr.fromResponse(o.response,o.controller))}}class Po extends tn{constructor(){super(...arguments),this.batches=new bc(this._client)}create(e,t){e.model in ji&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${ji[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let r=this._client._options.timeout;if(!e.stream&&r==null){const s=gc[e.model]??void 0;r=this._client.calculateNonstreamingTimeout(e.max_tokens,s)}return this._client.post("/v1/messages",{body:e,timeout:r??6e5,...t,stream:e.stream??!1})}stream(e,t){return xr.createMessage(this,e,t)}countTokens(e,t){return this._client.post("/v1/messages/count_tokens",{body:e,...t})}}const ji={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};Po.Batches=bc;class yc extends tn{retrieve(e,t={},r){const{betas:s}=t??{};return this._client.get(Lt`/v1/models/${e}`,{...r,headers:We([{...s?.toString()!=null?{"anthropic-beta":s?.toString()}:void 0},r?.headers])})}list(e={},t){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/models",Ps,{query:s,...t,headers:We([{...r?.toString()!=null?{"anthropic-beta":r?.toString()}:void 0},t?.headers])})}}var ff={};const or=n=>{if(typeof globalThis.process<"u")return ff?.[n]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(n)?.trim()};var go,Mo,gr,wc;const hf="\\n\\nHuman:",pf="\\n\\nAssistant:";class ot{constructor({baseURL:e=or("ANTHROPIC_BASE_URL"),apiKey:t=or("ANTHROPIC_API_KEY")??null,authToken:r=or("ANTHROPIC_AUTH_TOKEN")??null,...s}={}){go.add(this),gr.set(this,void 0);const o={apiKey:t,authToken:r,...s,baseURL:e||"https://api.anthropic.com"};if(!o.dangerouslyAllowBrowser&&$d())throw new ve(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=o.baseURL,this.timeout=o.timeout??Mo.DEFAULT_TIMEOUT,this.logger=o.logger??console;const i="warn";this.logLevel=i,this.logLevel=Ti(o.logLevel,"ClientOptions.logLevel",this)??Ti(or("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??i,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??Nd(),ne(this,gr,Bd),this._options=o,this.apiKey=t,this.authToken=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(this.apiKey&&e.get("x-api-key"))&&!t.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!t.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return We([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return We([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return We([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new ve(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${On}`}defaultIdempotencyKey(){return`stainless-node-retry-${Vl()}`}makeStatusError(e,t,r,s){return pt.generate(e,t,r,s)}buildURL(e,t,r){const s=!M(this,go,"m",wc).call(this)&&r||this.baseURL,o=Rd(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return Id(i)||(t={...i,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new ve("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(s=>({method:e,path:t,...s})))}request(e,t=null){return new Dr(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){const s=await e,o=s.maxRetries??this.maxRetries;t==null&&(t=o),await this.prepareOptions(s);const{req:i,url:a,timeout:l}=await this.buildRequest(s,{retryCount:o-t});await this.prepareRequest(i,{url:a,options:s});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=r===void 0?"":`, retryOf: ${r}`,h=Date.now();if(mt(this).debug(`[${c}] sending request`,_n({retryOfRequestLogID:r,method:s.method,url:a,options:s,headers:i.headers})),s.signal?.aborted)throw new Ot;const p=new AbortController,m=await this.fetchWithTimeout(a,i,l,p).catch(co),y=Date.now();if(m instanceof globalThis.Error){const S=`retrying, ${t} attempts remaining`;if(s.signal?.aborted)throw new Ot;const _=Is(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return mt(this).info(`[${c}] connection ${_?"timed out":"failed"} - ${S}`),mt(this).debug(`[${c}] connection ${_?"timed out":"failed"} (${S})`,_n({retryOfRequestLogID:r,url:a,durationMs:y-h,message:m.message})),this.retryRequest(s,t,r??c);throw mt(this).info(`[${c}] connection ${_?"timed out":"failed"} - error; no more retries left`),mt(this).debug(`[${c}] connection ${_?"timed out":"failed"} (error; no more retries left)`,_n({retryOfRequestLogID:r,url:a,durationMs:y-h,message:m.message})),_?new Kl:new Lr({cause:m})}const b=[...m.headers.entries()].filter(([S])=>S==="request-id").map(([S,_])=>", "+S+": "+JSON.stringify(_)).join(""),E=`[${c}${u}${b}] ${i.method} ${a} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${y-h}ms`;if(!m.ok){const S=await this.shouldRetry(m);if(t&&S){const T=`retrying, ${t} attempts remaining`;return await jd(m.body),mt(this).info(`${E} - ${T}`),mt(this).debug(`[${c}] response error (${T})`,_n({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:y-h})),this.retryRequest(s,t,r??c,m.headers)}const _=S?"error; no more retries left":"error; not retryable";mt(this).info(`${E} - ${_}`);const k=await m.text().catch(T=>co(T).message),x=tc(k),A=x?void 0:k;throw mt(this).debug(`[${c}] response error (${_})`,_n({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,message:A,durationMs:Date.now()-h})),this.makeStatusError(m.status,x,A,m.headers)}return mt(this).info(E),mt(this).debug(`[${c}] response start`,_n({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:y-h})),{response:m,options:s,controller:p,requestLogID:c,retryOfRequestLogID:r,startTime:h}}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}requestAPIList(e,t){const r=this.makeRequest(t,null,void 0);return new Zd(this,r,e)}async fetchWithTimeout(e,t,r,s){const{signal:o,method:i,...a}=t||{};o&&o.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:s.signal,...c?{duplex:"half"}:{},method:"GET",...a};i&&(u.method=i.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(l)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r,s){let o;const i=s?.get("retry-after-ms");if(i){const l=parseFloat(i);Number.isNaN(l)||(o=l)}const a=s?.get("retry-after");if(a&&!o){const l=parseFloat(a);Number.isNaN(l)?o=Date.parse(a)-Date.now():o=l*1e3}if(!(o&&0<=o&&o<60*1e3)){const l=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,l)}return await Md(o),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const o=t-e,i=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return i*a*1e3}calculateNonstreamingTimeout(e,t){if(36e5*e/128e3>6e5||t!=null&&e>t)throw new ve("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:t=0}={}){const r={...e},{method:s,path:o,query:i,defaultBaseURL:a}=r,l=this.buildURL(o,i,a);"timeout"in r&&Pd("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:c,body:u}=this.buildBody({options:r}),h=await this.buildHeaders({options:e,method:s,bodyHeaders:c,retryCount:t});return{req:{method:s,headers:h,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:s}){let o={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const i=We([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...Fd(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(i),i.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=We([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:sc(e)}:M(this,gr,"f").call(this,{body:e,headers:r})}}Mo=ot,gr=new WeakMap,go=new WeakSet,wc=function(){return this.baseURL!=="https://api.anthropic.com"};ot.Anthropic=Mo;ot.HUMAN_PROMPT=hf;ot.AI_PROMPT=pf;ot.DEFAULT_TIMEOUT=6e5;ot.AnthropicError=ve;ot.APIError=pt;ot.APIConnectionError=Lr;ot.APIConnectionTimeoutError=Kl;ot.APIUserAbortError=Ot;ot.NotFoundError=Zl;ot.ConflictError=Yl;ot.RateLimitError=Ql;ot.BadRequestError=Gl;ot.AuthenticationError=Wl;ot.InternalServerError=ec;ot.PermissionDeniedError=Jl;ot.UnprocessableEntityError=Xl;ot.toFile=sf;class $s extends ot{constructor(){super(...arguments),this.completions=new _c(this),this.messages=new Po(this),this.models=new yc(this),this.beta=new Ms(this)}}$s.Completions=_c;$s.Messages=Po;$s.Models=yc;$s.Beta=Ms;function $o(n){if(typeof n!="string")throw new Error("API key must be a string");try{return new $s({apiKey:n,dangerouslyAllowBrowser:!0})}catch(e){throw new Error(`Failed to create Anthropic client: ${e instanceof Error?e.message:String(e)}`)}}const gf={},mf=gf?.VITE_E2E_TEST==="true",Bi=mf,q={debug:(...n)=>{Bi&&console.log(...n)},info:(...n)=>{Bi&&console.info(...n)},warn:(...n)=>{console.warn(...n)},error:(...n)=>{console.error(...n)}};function _f(n){return n.filter(e=>e.role!=="system").map(e=>({role:e.role,content:kc(e.content)}))}function vc(n){const e=bf(n);return{messages:_f(n),...e&&{system:e}}}function bf(n){const e=n.find(t=>t.role==="system");return e?kc(e.content):void 0}function kc(n){if(typeof n=="string")return n;if(n==null)return"";try{return JSON.stringify(n)}catch{return String(n)}}const yf={"claude-opus-4-1":{maxOutputTokens:32e3,supportsReasoning:!0,thinkingBudgetTokens:8e3},"claude-opus-4":{maxOutputTokens:32e3,supportsReasoning:!0,thinkingBudgetTokens:8e3},"claude-sonnet-4-5":{maxOutputTokens:64e3,supportsReasoning:!0,thinkingBudgetTokens:16e3},"claude-sonnet-4":{maxOutputTokens:64e3,supportsReasoning:!0,thinkingBudgetTokens:16e3},"claude-3-7-sonnet":{maxOutputTokens:64e3,supportsReasoning:!0,thinkingBudgetTokens:16e3},"claude-sonnet-3.7":{maxOutputTokens:64e3,supportsReasoning:!0,thinkingBudgetTokens:16e3},"claude-3-5-haiku":{maxOutputTokens:8192,supportsReasoning:!1,thinkingBudgetTokens:0},"claude-3-haiku":{maxOutputTokens:4096,supportsReasoning:!1,thinkingBudgetTokens:0}};function Oo(n){for(const[e,t]of Object.entries(yf))if(n.startsWith(e))return t;return q.warn(`Unknown model: ${n}, using default configuration`),{maxOutputTokens:4096,supportsReasoning:!1,thinkingBudgetTokens:0}}function wf(n){return Oo(n).supportsReasoning}function vf(n){return Oo(n).thinkingBudgetTokens}function Sc(n){return Oo(n).maxOutputTokens}function Ac(n){return wf(n)}class kf{convId;model;anchorIndex;windowId=null;panelId=null;callbacks;constructor(e,t,r,s={}){this.convId=e,this.model=t,this.anchorIndex=r,this.callbacks=s}startReasoning(){if(!Ac(this.model)){q.warn("Model does not support reasoning:",this.model);return}this.windowId||(this.windowId=ql(this.convId,this.model,this.anchorIndex)),this.panelId=_s("text",this.convId,this.windowId),q.debug("Started Anthropic reasoning session:",{convId:this.convId,model:this.model,windowId:this.windowId,panelId:this.panelId}),this.callbacks.onReasoningStart?.()}updateReasoning(e){if(!this.panelId){q.warn("No active reasoning panel to update");return}Dn(this.panelId,e),this.callbacks.onReasoningUpdate?.(e)}completeReasoning(){if(!this.panelId){q.warn("No active reasoning panel to complete");return}Zt(this.panelId),this.windowId&&$n(this.windowId),q.debug("Completed Anthropic reasoning session:",{convId:this.convId,panelId:this.panelId,windowId:this.windowId}),this.callbacks.onReasoningComplete?.(),this.panelId=null}get isActive(){return this.panelId!==null}get reasoningWindowId(){return this.windowId}}function Sf(n){return new kf(n.convId,n.model,n.anchorIndex,n.callbacks||{})}function Tc(n,e){if(!Ac(n.model))return n;const t=vf(n.model);return t===0?n:{...n,thinking:{type:"enabled",budget_tokens:t}}}function Ec(n){const e=n.input_tokens+n.output_tokens;Do({total_tokens:e})}async function Af(n,e,t){const r=O(nt);if(!r)throw new Error("Anthropic API key is missing.");try{const s=$o(r),{messages:o,system:i}=vc(n);q.debug("Sending Anthropic SDK message request:",{model:t.model,messageCount:o.length,hasSystem:!!i});const a={model:t.model,max_tokens:Sc(t.model),messages:o,stream:!1};i&&(a.system=i);const l=Tc(a),c=await s.messages.create(l),u=c.content.filter(y=>y.type==="text").map(y=>y.text).join("");q.debug("Anthropic SDK response received:",{model:c.model,textLength:u.length,usage:c.usage}),c.usage&&Ec(c.usage);const h={role:"assistant",content:u,model:t.model},m=[...O(ae)[e].history,h];St(m,e)}catch(s){q.error("Error in sendAnthropicMessageSDK:",s);const o=s?.message||"An error occurred while processing your request.",a={role:"assistant",content:o.includes("API key")?"There was an error with the Anthropic API. Maybe the API key is wrong? Or the servers could be down?":`There was an error: ${o}`},l=O(ae)[e].history;throw St([...l,a],e),s}}async function Tf(n,e,t){q.debug("[DEBUG] streamAnthropicMessageSDK CALLED with model:",t.model);const r=O(nt);if(!r)throw q.error("[DEBUG] API key missing!"),new Error("Anthropic API key is missing.");q.debug("[DEBUG] API key present, continuing with stream setup");let s=O(ae)[e].history;q.debug("[DEBUG] History at stream start:",{historyLength:s.length,lastMessage:s[s.length-1],userMessageCount:s.filter(a=>a.role==="user").length,historyIndices:s.map((a,l)=>({index:l,role:a.role}))});let o="",i="";try{const a=$o(r),{messages:l,system:c}=vc(n);q.debug("Starting Anthropic SDK stream:",{model:t.model,messageCount:l.length,hasSystem:!!c});const u={model:t.model,max_tokens:Sc(t.model),messages:l,stream:!0};c&&(u.system=c);const h=Tc(u);q.debug("[DEBUG] Request params after thinking config:",{model:h.model,hasThinking:!!h.thinking,thinkingConfig:h.thinking});const p=O(ae)[e]?.id;q.debug("[DEBUG] Conversation index:",e,"→ Actual ID:",p);const m=s.length-1;q.debug("[DEBUG] Anchor index (last message position):",m);const y=Sf({convId:p,model:t.model,anchorIndex:m});q.debug("[DEBUG] Reasoning support created for conversation ID:",p,"anchorIndex:",m),q.debug("[DEBUG] Creating Anthropic SDK stream with params:",{model:h.model,hasThinking:!!h.thinking,thinkingBudget:h.thinking?.budget_tokens});const b=a.messages.stream(h);q.debug("[DEBUG] SDK stream created, registering event handlers"),b.on("text",(A,v)=>{q.debug("[DEBUG] text event fired, delta length:",A.length),i+=A,mo.set({streamText:i,convId:e});const T={role:"assistant",content:i,model:t.model},w=[...s,T];St(w,e)});let E=!1;b.on("thinking",(A,v)=>{q.debug("[DEBUG] thinking event fired!"),q.debug("Anthropic reasoning delta:",A),E||(q.debug("Starting Anthropic reasoning block"),y.startReasoning(),E=!0),o+=A||"",y.updateReasoning(o)}),b.on("signature",A=>{q.debug("[DEBUG] signature event fired"),q.debug("Anthropic reasoning signature:",A)}),b.on("contentBlock",A=>{q.debug("[DEBUG] contentBlock event fired, type:",A.type),A.type==="text"&&E&&(q.debug("Anthropic reasoning block completed (text block started)"),y.completeReasoning())}),b.on("error",A=>{throw q.error("Anthropic SDK stream error:",A),A}),q.debug("[DEBUG] All event handlers registered");const S=await b.finalMessage(),_=S.content.filter(A=>A.type==="text").map(A=>A.text).join("");q.debug("Anthropic SDK stream completed:",{model:S.model,textLength:_.length,accumulatedLength:i.length,usage:S.usage,stopReason:S.stop_reason,contentBlocks:S.content.length,contentBlockTypes:S.content.map(A=>A.type)}),S.usage&&Ec(S.usage),S.stop_reason&&S.stop_reason!=="end_turn"&&q.warn(`[DEBUG] Response may be truncated! Stop reason: ${S.stop_reason}`);const k={role:"assistant",content:_,model:t.model},x=[...s,k];i!==_&&q.warn("[DEBUG] Accumulated text mismatch - final message has different content"),q.debug("[DEBUG] Final history update:",{convId:e,originalSnapshotLength:s.length,updatedHistoryLength:x.length,responseTextLength:_.length,textMatches:i===_}),St(x,e)}catch(a){q.error("Error in streamAnthropicMessageSDK:",a);const l=a?.message||"An error occurred while processing your request.",u={role:"assistant",content:l.includes("API key")?"There was an error with the Anthropic API. Maybe the API key is wrong? Or the servers could be down?":`There was an error: ${l}`};throw St([...s,u],e),a}finally{mo.set({streamText:"",convId:null})}}let Hi=null;const Rr=be(!1),mo=be({streamText:"",convId:null});function Ef(n,e,t){const r=n?.message||"An error occurred while processing your request.",o={role:"assistant",content:r.includes("API key")?"There was an error with the Anthropic API. Maybe the API key is wrong? Or the servers could be down?":`There was an error: ${r}`};St([...e,o],t)}function xf(n){return n.filter(e=>e.role!=="system").map(e=>({role:e.role,content:typeof e.content=="string"?e.content:JSON.stringify(e.content)}))}function Rf(n){const e=n.find(t=>t.role==="system");return e?typeof e.content=="string"?e.content:JSON.stringify(e.content):void 0}function If(){try{Rr.set(!0);const n=Hi;n&&n.abort()}catch(n){q.warn("closeAnthropicStream abort failed:",n)}finally{Hi=null,ht.set(!1)}}async function Cf(n,e,t){return q.debug("Using Anthropic SDK for non-streaming message"),Af(n,e,t)}async function xc(n,e,t){{q.debug("Using Anthropic SDK for streaming message"),ht.set(!0),Rr.set(!1);try{await Tf(n,e,t)}finally{ht.set(!1),Rr.set(!1)}return}}const wn=Object.freeze(Object.defineProperty({__proto__:null,anthropicStreamContext:mo,appendAnthropicErrorToHistory:Ef,closeAnthropicStream:If,convertMessagesToAnthropicFormat:xf,extractSystemMessage:Rf,sendAnthropicMessage:Cf,streamAnthropicMessage:xc,userRequestedAnthropicStreamClosure:Rr},Symbol.toStringTag,{value:"Module"}));async function mr(n){if(!n)throw new Error("Anthropic API key is missing.");try{const e=await fetch("https://api.anthropic.com/v1/models",{method:"GET",headers:{"x-api-key":n,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"}});if(!e.ok)throw e.status===401?new Error("Invalid Anthropic API key"):e.status===429?new Error("Anthropic API rate limit exceeded"):new Error(`Anthropic API error: ${e.status} ${e.statusText}`);return(await e.json()).data.map(r=>({id:r.id,provider:"anthropic",created:new Date(r.created_at).getTime()/1e3,display_name:r.display_name}))}catch(e){throw q.error("Failed to fetch Anthropic models:",e),e}}function Lo(n){return n.startsWith("claude-")}function Pf(n){return Lo(n)?"anthropic":"openai"}const Xt=Object.freeze(Object.defineProperty({__proto__:null,fetchAnthropicModels:mr,getModelProvider:Pf,isAnthropicModel:Lo},Symbol.toStringTag,{value:"Module"}));let Mf="";function St(n,e=O(Fe)){return new Promise((t,r)=>{try{const s=O(ae),o=s[e]?.id;ie.storeUpdates("setHistory_called",{convId:e,conversationUniqueId:o,incomingHistoryLength:n.length,incomingMessages:n.map(a=>({role:a.role,contentLength:typeof a.content=="string"?a.content.length:JSON.stringify(a.content||"").length,hasModel:!!a.model})),totalConversations:s.length},o);let i=O(ae);ie.storeUpdates("conversation_state_before",{convId:e,conversationExists:!!i[e],currentHistoryLength:i[e]?.history?.length||0,conversationTitle:i[e]?.title||"",conversationId:i[e]?.id||""},o),i[e].history=n,ie.storeUpdates("conversation_state_after",{convId:e,newHistoryLength:n.length,conversationTitle:i[e]?.title||"",conversationId:i[e]?.id||"",lastMessage:n.length>0?{role:n[n.length-1].role,contentLength:typeof n[n.length-1].content=="string"?n[n.length-1].content.length:JSON.stringify(n[n.length-1].content||"").length}:null},o),ie.storeUpdates("conversations_store_set",{convId:e,totalConversations:i.length,targetConversationHistoryLength:i[e].history.length,storeUpdateTimestamp:performance.now()},o),ae.set(i),ie.storeUpdates("setHistory_completed",{convId:e,conversationUniqueId:o,finalHistoryLength:n.length,success:!0},o),t()}catch(s){ie.storeUpdates("setHistory_error",{convId:e,error:String(s),errorMessage:s?.message||"Unknown error",messageCount:n?.length||0}),q.error("Failed to update history",s),r(s)}})}function zi(n){const e=O(Fe),t=O(ae),r=t[e].history.filter((s,o)=>o!==n);t[e].history=r,ae.set(t)}function $f(n){const e=O(Fe),t=O(ae);if(e==null||!t[e])return;const r=t[e].history,s=t[e].id,o=r.slice(0,n+1);ae.update(a=>{const l=[...a];return l[e]={...l[e],history:o},l});const i=new Set;Yn.update(a=>a.filter(c=>{if(!c.convId||c.convId!==s)return!0;const u=(c.anchorIndex??Number.NEGATIVE_INFINITY)<n;return u||i.add(c.id),u})),hn.update(a=>a.filter(l=>!l.convId||l.convId!==s?!0:!l.responseId||!i.has(l.responseId)))}function Ui(){const n=To();ae.update(e=>[...e,n]),Fe.set(O(ae).length-1)}function Rc(n){const e=["role","content"];let t=Object.keys(n).filter(r=>e.includes(r)).reduce((r,s)=>(r[s]=n[s],r),{});return Array.isArray(t.content)||(t.content=t.content.toString()),t}async function qi(n,e){const t=O(ae),r=t.findIndex(b=>b.id===e);if(r===-1)throw new Error(`Conversation with ID ${e} not found`);const s=t[r];let o=s.history,i=o;const a=o.length===0||s.title==="";o=[...o,{role:"user",content:n}],St(o,r);const l="gpt-3.5-turbo",c="alloy",u=e,h=Ro.getSettings(u),p=h.model||O(qe)||l,m=O(Bn)||c;hd(p);let y;if(y=[...i,{role:"user",content:n}],a&&(Of(n,r),await new Promise(b=>setTimeout(b,0))),p.includes("tts"))await Oc(n,p,m);else if(p.includes("vision")){const b=O(kn),E={model:p,reasoningEffort:h.reasoningEffort,verbosity:h.verbosity,summary:h.summary};await Lc(y,b,r,E)}else if(p.includes("dall-e"))await Fc(y,r);else if(Lo(p)){const E=[{role:"system",content:s.assistantRole},...y],S={model:p};q.debug(`Routing Claude model ${p} to Anthropic service`),await xc(E,r,S)}else{const b={model:p,reasoningEffort:h.reasoningEffort,verbosity:h.verbosity,summary:h.summary};await Dc(y,e,b)}}function no(n,e){let t=O(ae);t[e].title=n,ae.set(t)}async function Of(n,e){const t=O(Ge),r=O(nt);try{if(t){const i=await $c([{role:"system",content:"You generate a short, clear chat title. Respond with only the title, no quotes, max 8 words, Title Case."},{role:"user",content:n}],"gpt-5-nano",{reasoningEffort:"minimal",verbosity:"low"}),a=await re(()=>Promise.resolve().then(()=>Ir),void 0,import.meta.url);let c=a.extractOutputTextFromResponses(i)?.trim()||"";if(!c)throw q.warn("Title generation: Invalid response structure - no title text extracted from:",i),new Error("Empty title text");const u=a.sanitizeTitle(c);if(!u)throw new Error("Sanitized title empty");no(u,e)}else if(r){const a=(await $o(r).messages.create({model:"claude-3-haiku-20240307",max_tokens:50,messages:[{role:"user",content:n}],system:"You generate a short, clear chat title. Respond with only the title, no quotes, max 8 words, Title Case."})).content.filter(c=>c.type==="text").map(c=>c.text).join("").trim();if(!a)throw new Error("Empty title text from Anthropic");let l=a.replace(/^["']|["']$/g,"").trim();if(l.length>50&&(l=l.substring(0,50).trim()),!l)throw new Error("Sanitized title empty");no(l,e)}else throw new Error("No API keys available for title generation")}catch(s){q.warn("Title generation failed, using fallback:",s),no(n.slice(0,30)+(n.length>30?"...":""),e)}}function Lf(n){const e={role:"assistant",content:"Audio file generated.",audioUrl:n,isAudio:!0,model:O(qe)};St([...O(ae)[O(Fe)].history,e])}function Do(n){let e=O(ae);e[O(Fe)].conversationTokens=e[O(Fe)].conversationTokens+n.total_tokens,ae.set(e),dn.set(O(dn)+n.total_tokens),q.debug("Counted tokens: "+n.total_tokens)}function Ic(n,e){let t=0;n.map(o=>{t+=o.content.length}),t+=Mf.length;let r=t/4,s=O(ae);s[e].conversationTokens=s[e].conversationTokens+r,ae.set(s),dn.set(O(dn)+r)}function Df(n){_r();const e=n.target.files;for(let t of e){const r=new FileReader;r.onloadend=()=>{kn.update(s=>[...s,r.result])},r.readAsDataURL(t)}}function _r(){kn.set([]),Ar.set(!0)}function Ff(n){if(typeof n!="string")return console.warn("ensureNewlinesAroundCodeBlocks received non-string input:",n),n;let e=0;try{return n.replace(/```/g,(t,r,s)=>{e++;const o=e%2!==0;let i="",a="";if(o)(r===0||r>0&&s[r-1]!==`
`)&&(i=`
`);else{const l=r+t.length;(l===s.length||l<s.length&&s[l]!==`
`)&&(a=`
`)}return i+t+a})}catch(t){return console.error("Error processing markdown for code blocks:",t),n}}function Vi(n){let e=typeof n=="string"?n:String(n);return n=Ff(e),n.replace(/\n/g,`  
`)}async function Nf(n){try{return await navigator.clipboard.writeText(n),console.log("Text successfully copied to clipboard"),!0}catch(e){return console.error("Failed to copy text to clipboard: ",e),!1}}function so(n){return n.isAudio===!0}function Cc(n){return n.split("").filter(t=>t==="`").length}let bs=null;function Un(n,e,t){const r=n?.message||"An error occurred while processing your request.",o={role:"assistant",content:r.includes("API key")?"There was an error. Maybe the API key is wrong? Or the servers could be down?":`There was an error: ${r}`};St([...e,o],t)}function Pc(){try{Rt.set(!0);const n=bs;n&&n.abort(),re(async()=>{const{closeAnthropicStream:e}=await Promise.resolve().then(()=>wn);return{closeAnthropicStream:e}},void 0,import.meta.url).then(({closeAnthropicStream:e})=>{e()}).catch(()=>{})}catch(n){q.warn("closeStream abort failed:",n)}finally{bs=null,ht.set(!1)}}const Fo=be({streamText:"",convId:null});function jf(){return q.debug("Checking if OpenAI API is configured."),O(Ge)!==null}function Mc(){q.debug("Configuration reloaded.")}async function $c(n,e=O(qe),t){try{n=[{role:"system",content:O(ae)[O(Fe)].assistantRole},...n];const r=O(Ge),s=O(qe),o=e&&typeof e=="string"?e:s||No(),i=Ls(n),a=Os(o,i,!1,t),l=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok){const u=await l.text().catch(()=>"");throw new Error(`Responses API error ${l.status}: ${u||l.statusText}`)}const c=await l.json();return c?.usage&&Do(c.usage),c}catch(r){q.error("Error in sendRequest:",r);const s=O(ae)[O(Fe)]?.history||[],o=O(Fe);throw Un(r,s,o),r}}async function Oc(n,e,t,r){q.debug("Sending TTS message.");const s={model:e,voice:t,input:n};try{const o=await fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O(apiKey)}`},body:JSON.stringify(s)});if(!o.ok)throw new Error(`Failed to generate audio, response status: ${o.status}`);const i=await o.blob(),a=`audio-${Date.now()}-${Math.floor(Math.random()*1e4)}`;Ru(a,i).then(()=>{q.debug("Audio blob saved to IndexedDB with ID:",a)}).catch(q.error),Iu(a).then(l=>{if(q.debug(a),q.debug(l),l instanceof Blob)if(l){const c=URL.createObjectURL(l);Lf(c)}else q.error("Blob is null or undefined");else q.error("Retrieved object is not a Blob:",l)}).catch(l=>q.error("Error retrieving audio blob:",l))}catch(o){q.error("TTS request error:",o)}}async function Lc(n,e,t,r){q.debug("Sending vision message."),Rt.set(!1);let s=0,o=!1,i=O(ae)[t].history;const a=i.length-1,l=O(ae)[t]?.id,c=i.map(b=>({role:b.role,content:jc(b.content,b.role)})),u=[...n].reverse().find(b=>b.role==="user")?.content||"",h=[];u&&h.push({type:"input_text",text:u});for(const b of e)h.push({type:"input_image",image_url:b});const p={role:"user",content:h},m=[...c,p];let y="";i=[...i],ht.set(!0);try{const b=r.model||O(qe);await jr("",b,{onTextDelta:E=>{ie.messageAssembly("vision_text_delta_received",{deltaText:E,deltaLength:E.length,currentStreamLength:y.length,convId:t,resolvedModel:b},l);const S=Cc(E);s+=S,S===0&&(s=0),s===3&&(o=!o,s=0),y+=E,Fo.set({streamText:y,convId:t}),ie.messageAssembly("vision_assistant_message_creating",{messageContent:y+"█"+(o?"\n```":""),contentLength:y.length,convId:t,historyLength:i.length},l),St([...i,{role:"assistant",content:y+"█"+(o?"\n```":""),model:b}],t),ie.messageAssembly("vision_setHistory_called_streaming",{convId:t,newHistoryLength:i.length+1,assistantContent:y+"█"+(o?"\n```":""),model:b},l)},onCompleted:async()=>{ie.messageAssembly("vision_stream_completed",{streamText:y,convId:t,userRequestedClosure:O(Rt)},l),O(Rt)&&(y=y.replace(/█+$/,""),Rt.set(!1)),ie.messageAssembly("vision_final_assistant_message_creating",{finalContent:y,contentLength:y.length,convId:t,historyLength:i.length,model:b},l),await St([...i,{role:"assistant",content:y,model:b}],t),ie.messageAssembly("vision_setHistory_called_final",{convId:t,newHistoryLength:i.length+1,finalContent:y,model:b},l),Ic(n,t),y="",ht.set(!1),_r()},onError:E=>{Un(E,i,t),ht.set(!1),_r()}},m,{convId:l,anchorIndex:a},{reasoningEffort:r.reasoningEffort,verbosity:r.verbosity,summary:r.summary})}catch(b){q.error("Error in sendVisionMessage:",b),Un(b,i,t),_r()}finally{ht.set(!1)}}async function Dc(n,e,t){Rt.set(!1);let r=0,s=!1;const o=O(ae);ie.messageAssembly("conversation_lookup_start",{convId:e,totalConversations:o.length,conversationIds:o.map(S=>S.id)},e);const i=o.findIndex(S=>S.id===e);if(i===-1)throw ie.messageAssembly("conversation_lookup_failed",{convId:e,availableIds:o.map(S=>S.id)},e),new Error(`Conversation with ID ${e} not found`);ie.messageAssembly("conversation_lookup_success",{convId:e,conversationIndex:i,conversationTitle:o[i].title},e);const a=o[i];let l=a.history;const c=l.length-1,u=e;n=[{role:O(fn).type,content:a.assistantRole},...n];const p=n.map(Rc),m=Ls(p);let y="";const b=[...p].reverse().find(S=>S.role==="user");if(b){const S=b.content;typeof S=="string"?y=S:Array.isArray(S)?y=S.map(_=>typeof _=="string"?_:_?.text??"").join(" ").trim():S!=null&&(y=String(S))}let E="";l=[...l],ht.set(!0);try{const S=t.model||O(qe);await jr("",S,{onTextDelta:_=>{ie.messageAssembly("text_delta_received",{deltaText:_,deltaLength:_.length,currentStreamLength:E.length,conversationIndex:i,resolvedModel:S},u);const k=Cc(_);r+=k,k===0&&(r=0),r===3&&(s=!s,r=0),E+=_,Fo.set({streamText:E,convId:e}),ie.messageAssembly("assistant_message_creating",{messageContent:E+"█"+(s?"\n```":""),contentLength:E.length,conversationIndex:i,historyLength:l.length},u),St([...l,{role:"assistant",content:E+"█"+(s?"\n```":""),model:S}],i),ie.messageAssembly("setHistory_called_streaming",{conversationIndex:i,newHistoryLength:l.length+1,assistantContent:E+"█"+(s?"\n```":""),model:S},u)},onCompleted:async _=>{ie.messageAssembly("stream_completed",{finalText:_,streamText:E,conversationIndex:i,userRequestedClosure:O(Rt)},u),O(Rt)&&(E=E.replace(/█+$/,""),Rt.set(!1)),ie.messageAssembly("final_assistant_message_creating",{finalContent:E,contentLength:E.length,conversationIndex:i,historyLength:l.length,model:S},u),await St([...l,{role:"assistant",content:E,model:S}],i),ie.messageAssembly("setHistory_called_final",{conversationIndex:i,newHistoryLength:l.length+1,finalContent:E,model:S},u),Ic(n,i),await Bf(i,y,E),E="",ht.set(!1)},onError:_=>{Un(_,l,i),ht.set(!1)}},m,{convId:u,anchorIndex:c},{reasoningEffort:t.reasoningEffort,verbosity:t.verbosity,summary:t.summary})}catch(S){q.error("Error in sendRegularMessage:",S),Un(S,l,i)}finally{ht.set(!1)}}async function Fc(n,e){ht.set(!0);let t=O(ae)[e].history;n=[{role:O(fn).type,content:O(ae)[e].assistantRole},...n];const s=n.map(Rc),o=s[s.length-1].content;try{let i=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O(Ge)}`},body:JSON.stringify({model:O(qe),prompt:o,size:O(ks),quality:O(Ss),n:1})});if(!i.ok)throw new Error("HTTP error, status = "+i.status);let l=(await i.json()).data[0].url;St([...t,{role:"assistant",content:l,type:"image",model:O(qe)}],e)}catch(i){q.error("Error generating image:",i)}finally{ht.set(!1)}}function No(){const n=O(qe);return!n||/gpt-3\.5|gpt-4(\.|$)/.test(n)?"gpt-5-nano":n}function qn(n){const e=(n||"").toLowerCase();return e.includes("gpt-5")||e.includes("o1-")||e.includes("o3")||e.includes("o4")||e.includes("reason")}function Os(n,e,t,r){const s={model:n,input:e,store:!1,stream:t};if(qn(n)){const o=(r?.reasoningEffort??O(Es))||"medium",i=(r?.verbosity??O(xs))||"medium",a=(r?.summary??O(Rs))||"auto";s.text={verbosity:i},s.reasoning={effort:o,summary:a==="null"?null:a}}return s}function Nc(n){return[{role:"user",content:[{type:"input_text",text:n}]}]}function jc(n,e){const t=(e||"").toLowerCase()==="assistant";return typeof n=="string"?[{type:t?"output_text":"input_text",text:n}]:Array.isArray(n)?n.map(r=>t?typeof r=="string"?{type:"output_text",text:r}:r?.type==="text"&&typeof r?.text=="string"?{type:"output_text",text:r.text}:r?.type==="input_text"&&typeof r?.text=="string"?{type:"output_text",text:r.text}:{type:"output_text",text:typeof r=="string"?r:JSON.stringify(r)}:r?.type==="text"&&typeof r?.text=="string"?{type:"input_text",text:r.text}:r?.type==="image_url"?{type:"input_image",image_url:r?.image_url?.url??r?.image_url??r?.url??""}:r?.type==="input_text"||r?.type==="input_image"?r:{type:"input_text",text:typeof r=="string"?r:JSON.stringify(r)}):[{type:t?"output_text":"input_text",text:String(n)}]}function Ls(n){return n.map(e=>({role:e.role,content:jc(e.content,e.role)}))}async function Bc(n,e,t){const r=O(Ge);if(!r)throw new Error("No API key configured");const s=O(qe),o=e&&typeof e=="string"?e:s||No(),i=Nc(n),a=Os(o,i,!1,t),l=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok){const c=await l.text().catch(()=>"");throw new Error(`Responses API error ${l.status}: ${c||l.statusText}`)}return l.json()}function Hc(n){if(!n)return"";if(typeof n.output_text=="string")return n.output_text.trim();const e=Array.isArray(n.output)?n.output:Array.isArray(n.outputs)?n.outputs:null;if(e){let t="";for(const r of e){const s=Array.isArray(r?.content)?r.content:[];for(const o of s)typeof o?.text=="string"?t+=o.text:typeof o=="string"&&(t+=o)}if(t.trim())return t.trim()}if(Array.isArray(n?.content)){const t=n.content.map(r=>r?.text||"").join("");if(t.trim())return t.trim()}try{const r=JSON.stringify(n).match(/"text"\s*:\s*"([^"]{1,200})/);if(r)return r[1]}catch{}return""}function zc(n){let e=(n||"").trim();e=e.replace(/^(?:["“”']*\s*)?(?:(?:title)\s*:\s*)/i,"");let t;do t=e,e=e.replace(/^["“”']+|["“”']+$/g,""),e=e.trim();while(e!==t);return e=e.replace(/\s+/g," ").trim(),e.length>80&&(e=e.slice(0,80)),e}async function Bf(n,e,t){try{const s=O(ae)?.[n];if(!s)return;const o=(s.title??"").trim().toLowerCase();if(o&&o!=="new conversation")return;const i={role:"system",content:"You generate a short, clear chat title. Respond with only the title, no quotes, max 8 words, Title Case."},a={role:"user",content:e||"Create a short title for this conversation."},l=t?{role:"assistant",content:t}:null,u=Ls(l?[i,a,l]:[i,a]),p=Os("gpt-3.5-turbo",u,!1),m=O(Ge),y=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y||typeof y.json!="function"){q.warn("Title generation: Invalid response object received from fetch");return}if(!y.ok){const _=await y.text().catch(()=>"");throw new Error(`Responses API error ${y.status}: ${_||y.statusText}`)}const b=await y.json(),E=Hc(b),S=zc(E);if(!S){q.warn("Title generation: Invalid response structure - no title text extracted from:",b);return}ae.update(_=>{const k=[..._],x={...k[n]},A=(x.title??"").trim().toLowerCase();return(!A||A==="new conversation")&&(x.title=S,k[n]=x),k})}catch(r){q.warn("Title generation failed:",r)}}async function jr(n,e,t,r,s,o){const i=O(Ge);if(!i)throw new Error("No API key configured");const a=O(qe),l=e&&typeof e=="string"?e:a||No(),c=r||Nc(n),u=Os(l,c,!0,o),h=new AbortController;bs=h;const p=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u),signal:h.signal});if(!p.ok||!p.body){const I=await p.text().catch(()=>"");throw bs=null,new Error(`Responses API stream error ${p.status}: ${I||p.statusText}`)}const m=p.body.getReader(),y=new TextDecoder;let b="",E="";const S=new Map,_=new Map,k=s?.convId,x=s?.anchorIndex;let A=null,v=null;try{const I=typeof window<"u"?window:null,B=I?.__SSE_DEBUG_SESSION;q.debug("[SSE-DEBUG-CHECK] Session ID:",B,"Available:",!!I?.__SSE_LOGS?.[B]),B&&I.__SSE_LOGS?.[B]&&(v={callId:`call-${Date.now()}-${Math.random().toString(36).slice(2)}`,timestamp:new Date().toISOString(),request:{url:"https://api.openai.com/v1/responses",method:"POST",headers:{"Content-Type":"application/json"},body:u},response:{status:p.status,headers:{"content-type":p.headers.get("content-type")||""},streamEvents:[],summary:{totalChunks:0,reasoningEvents:0,outputEvents:0,parseErrors:0}}},I.__SSE_LOGS[B].apiCalls.push(v),q.debug(`[SSE-DEBUG] Started logging API call: ${v.callId}`))}catch(I){q.warn("[SSE-DEBUG] Failed to set up logging:",I)}let T=!1;function w(){return!A&&qn(l)&&(A=ql(k,l,x)),A}function R(I){ie.sseParser("sse_block_received",{blockLength:I.length,blockSnippet:I.slice(0,100)},k);const B=I.split(`
`).map(J=>J.trim()).filter(Boolean);let j="message";const H=[];for(const J of B)J.startsWith("event:")?j=J.slice(6).trim():J.startsWith("data:")&&H.push(J.slice(5).trim());if(H.length===0){ie.sseParser("sse_block_empty_data",{eventType:j},k);return}const G=H.join(`
`);if(G==="[DONE]"){ie.sseParser("sse_stream_done",{finalTextLength:E.length,activePanels:S.size},k);for(const[J,z]of S.entries())Zt(z),_.delete(z);S.clear(),_.clear(),t?.onCompleted?.(E),T=!0,A&&$n(A);return}let Z=null;try{Z=JSON.parse(G),ie.sseParser("sse_json_parsed",{eventType:j,hasId:!!Z?.id,hasChoices:!!Z?.choices,objType:Z?.type},k)}catch(J){if(ie.sseParser("sse_json_parse_error",{eventType:j,dataSnippet:G.slice(0,100),error:String(J)},k),q.warn("[SSE] Failed to parse SSE JSON block",{blockSnippet:(G||"").slice(0,200),error:String(J)}),t?.onError?.(new Error(`Failed to parse SSE data JSON: ${J}`)),!T){for(const[z,F]of S.entries())Zt(F),_.delete(F);S.clear(),_.clear(),t?.onCompleted?.(E,{type:"parse_error",synthetic:!0}),T=!0,A&&$n(A)}return}const V=j!=="message"?j:Z?.type||"message";if(ie.sseParser("sse_event_resolved",{rawEventType:j,resolvedType:V,hasData:!!Z},k),t?.onEvent?.({type:V,data:Z}),Td(V,Z,k),v&&v.response.streamEvents.length>0)for(let J=v.response.streamEvents.length-1;J>=0;J--){const z=v.response.streamEvents[J];if(z.parsed===null&&z.rawChunk.includes("data:")){z.parsed={type:V,data:Z},V.includes("reasoning")?v.response.summary.reasoningEvents++:V.includes("output_text")&&v.response.summary.outputEvents++;break}}if(V==="response.reasoning_summary_part.added"||V==="response.reasoning_summary_text.delta"||V==="response.reasoning_summary.delta"){const J=Z?.delta??"";if(!S.has("summary")){const z=w(),F=_s("summary",k,z||void 0);if(S.set("summary",F),_.set(F,""),t?.onReasoningStart?.("summary",Z?.part),v){const Y=v.response.streamEvents.find(te=>te.parsed?.type===V&&!te.reasoningStoreReceived);Y&&(Y.reasoningStoreReceived=!0)}}if(typeof J=="string"&&J){const z=S.get("summary"),Y=(_.get(z)||"")+J;_.set(z,Y),Dn(z,Y),t?.onReasoningDelta?.("summary",J)}}else if(V==="response.reasoning_summary_part.done"||V==="response.reasoning_summary_text.done"||V==="response.reasoning_summary.done"){const J=Z?.part?.text??Z?.text??"",z=S.get("summary");z&&(typeof J=="string"&&J&&(Dn(z,J),_.set(z,J)),Zt(z),t?.onReasoningDone?.("summary",_.get(z)||""),S.delete("summary"),_.delete(z))}else if(V==="response.reasoning_text.delta"||V==="response.reasoning.delta"){const J=Z?.delta??"";if(!S.has("text")){const z=w(),F=_s("text",k,z||void 0);if(S.set("text",F),_.set(F,""),t?.onReasoningStart?.("text"),v){const Y=v.response.streamEvents.find(te=>te.parsed?.type===V&&!te.reasoningStoreReceived);Y&&(Y.reasoningStoreReceived=!0)}}if(typeof J=="string"&&J){const z=S.get("text"),Y=(_.get(z)||"")+J;_.set(z,Y),Dn(z,Y),t?.onReasoningDelta?.("text",J)}}else if(V==="response.reasoning_text.done"||V==="response.reasoning.done"){const J=Z?.text??"";let z=S.get("text");if(!z&&J){const F=w();z=_s("text",k,F||void 0),S.set("text",z),_.set(z,""),t?.onReasoningStart?.("text")}z&&(typeof J=="string"&&J&&(Dn(z,J),_.set(z,J)),Zt(z),t?.onReasoningDone?.("text",_.get(z)||""),S.delete("text"),_.delete(z))}else if(V==="response.output_text.delta"){const J=Z?.delta?.text??Z?.delta??Z?.output_text_delta??Z?.text??"";J&&(E+=J,t?.onTextDelta?.(J))}else if(V==="response.completed"){Z?.usage?.total_tokens&&Do(Z.usage);for(const[J,z]of S.entries())Zt(z),_.delete(z);S.clear(),_.clear(),t?.onCompleted?.(E,Z),T=!0,A&&$n(A)}else if(V==="error"&&(q.warn("[SSE] error event received from stream",Z),t?.onError?.(Z),!T)){q.warn("[SSE] emitting synthetic completion after error");for(const[J,z]of S.entries())Zt(z),_.delete(z);S.clear(),_.clear(),t?.onCompleted?.(E,{type:"error",synthetic:!0,error:Z}),T=!0,A&&$n(A)}}try{for(;;){if(O(Rt)){q.debug("[SSE] User requested stream closure, stopping reader loop"),ie.sseParser("stream_user_aborted",{partialTextLength:E.length},k);break}const{value:I,done:B}=await m.read();if(B){ie.sseParser("stream_reader_done",{totalChunksProcessed:b.length},k);break}const j=y.decode(I,{stream:!0});if(ie.sseParser("raw_chunk_received",{chunkLength:j.length,chunkSnippet:j.slice(0,50)},k),v){v.response.summary.totalChunks++;const G={timestamp:new Date().toISOString(),rawChunk:j,parsed:null,reasoningStoreReceived:!1};v.response.streamEvents.push(G)}b+=j;const H=b.split(`

`);b=H.pop()||"";for(const G of H)G.trim()&&R(G)}b.trim()&&R(b)}catch(I){if(I.name==="AbortError"||O(Rt))q.debug("[SSE] Stream aborted by user or fetch abort"),ie.sseParser("stream_aborted",{errorName:I.name,partialTextLength:E.length},k);else throw q.error("[SSE] Unexpected error during stream reading:",I),I}if(!T){const I=O(Rt);q.warn("[SSE] Stream ended without response.completed or [DONE]. Emitting synthetic completion.",{model:l,payloadShape:Object.keys(u||{}),partialFinalTextLen:E.length,userAborted:I});for(const[B,j]of S.entries())Zt(j),_.delete(j);S.clear(),_.clear(),t?.onCompleted?.(E,{type:"response.completed",synthetic:!0,reason:I?"user_aborted":"eof_without_terminal_event"}),T=!0,A&&$n(A)}return bs=null,E}const Ir=Object.freeze(Object.defineProperty({__proto__:null,appendErrorToHistory:Un,buildResponsesInputFromMessages:Ls,buildResponsesPayload:Os,closeStream:Pc,createResponseViaResponsesAPI:Bc,extractOutputTextFromResponses:Hc,isConfigured:jf,reloadConfig:Mc,sanitizeTitle:zc,sendDalleMessage:Fc,sendRegularMessage:Dc,sendRequest:$c,sendTTSMessage:Oc,sendVisionMessage:Lc,streamContext:Fo,streamResponseViaResponsesAPI:jr,supportsReasoning:qn},Symbol.toStringTag,{value:"Module"})),Uc="enterBehavior";function Hf(){try{const n=Qe(Uc);if(n==="send"||n==="newline")return n}catch{}return"newline"}const Cr=be(Hf());Cr.subscribe(n=>{try{Ve(Uc,n)}catch{}});function Ki(n,e,t){const r=n.slice();return r[60]=e[t],r}function Gi(n,e,t){const r=n.slice();return r[60]=e[t],r}function Wi(n,e,t){const r=n.slice();return r[65]=e[t],r}function zf(n){let e;return{c(){e=g("option"),e.textContent="No models available",e.disabled=!0,e.selected=!0,e.__value="No models available",e.value=e.__value},m(t,r){P(t,e,r)},p:se,d(t){t&&C(e)}}}function Uf(n){let e,t=O(Ge)&&n[11].filter(aa).length>0,r,s=O(nt)&&n[11].filter(ia).length>0,o,i=n[10]&&n[10].length&&Ji(n),a=t&&Yi(n),l=s&&ea(n);return{c(){i&&i.c(),e=Te(),a&&a.c(),r=Te(),l&&l.c(),o=Te()},m(c,u){i&&i.m(c,u),P(c,e,u),a&&a.m(c,u),P(c,r,u),l&&l.m(c,u),P(c,o,u)},p(c,u){c[10]&&c[10].length?i?i.p(c,u):(i=Ji(c),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),u[0]&2048&&(t=O(Ge)&&c[11].filter(aa).length>0),t?a?a.p(c,u):(a=Yi(c),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null),u[0]&2048&&(s=O(nt)&&c[11].filter(ia).length>0),s?l?l.p(c,u):(l=ea(c),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},d(c){i&&i.d(c),c&&C(e),a&&a.d(c),c&&C(r),l&&l.d(c),c&&C(o)}}}function Ji(n){let e,t=n[10],r=[];for(let s=0;s<t.length;s+=1)r[s]=Zi(Wi(n,t,s));return{c(){e=g("optgroup");for(let s=0;s<r.length;s+=1)r[s].c();d(e,"label","Recently used")},m(s,o){P(s,e,o);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(s,o){if(o[0]&1024){t=s[10];let i;for(i=0;i<t.length;i+=1){const a=Wi(s,t,i);r[i]?r[i].p(a,o):(r[i]=Zi(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(s){s&&C(e),_t(r,s)}}}function Zi(n){let e,t=n[65].id+"",r,s;return{c(){e=g("option"),r=X(t),e.__value=s=n[65].id,e.value=e.__value},m(o,i){P(o,e,i),f(e,r)},p(o,i){i[0]&1024&&t!==(t=o[65].id+"")&&_e(r,t),i[0]&1024&&s!==(s=o[65].id)&&(e.__value=s,e.value=e.__value)},d(o){o&&C(e)}}}function Yi(n){let e,t=n[11].filter(la).sort(ca),r=[];for(let s=0;s<t.length;s+=1)r[s]=Qi(Gi(n,t,s));return{c(){e=g("optgroup");for(let s=0;s<r.length;s+=1)r[s].c();d(e,"label","OpenAI")},m(s,o){P(s,e,o);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(s,o){if(o[0]&3072){t=s[11].filter(la).sort(ca);let i;for(i=0;i<t.length;i+=1){const a=Gi(s,t,i);r[i]?r[i].p(a,o):(r[i]=Qi(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(s){s&&C(e),_t(r,s)}}}function Xi(n){let e,t=n[60].id+"",r,s;return{c(){e=g("option"),r=X(t),e.__value=s=n[60].id,e.value=e.__value},m(o,i){P(o,e,i),f(e,r)},p(o,i){i[0]&2048&&t!==(t=o[60].id+"")&&_e(r,t),i[0]&2048&&s!==(s=o[60].id)&&(e.__value=s,e.value=e.__value)},d(o){o&&C(e)}}}function Qi(n){let e=!n[10].find(r),t;function r(...o){return n[34](n[60],...o)}let s=e&&Xi(n);return{c(){s&&s.c(),t=Te()},m(o,i){s&&s.m(o,i),P(o,t,i)},p(o,i){n=o,i[0]&3072&&(e=!n[10].find(r)),e?s?s.p(n,i):(s=Xi(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){s&&s.d(o),o&&C(t)}}}function ea(n){let e,t=n[11].filter(ua).sort(da),r=[];for(let s=0;s<t.length;s+=1)r[s]=na(Ki(n,t,s));return{c(){e=g("optgroup");for(let s=0;s<r.length;s+=1)r[s].c();d(e,"label","Anthropic")},m(s,o){P(s,e,o);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(s,o){if(o[0]&3072){t=s[11].filter(ua).sort(da);let i;for(i=0;i<t.length;i+=1){const a=Ki(s,t,i);r[i]?r[i].p(a,o):(r[i]=na(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(s){s&&C(e),_t(r,s)}}}function ta(n){let e,t=n[60].id+"",r,s;return{c(){e=g("option"),r=X(t),e.__value=s=n[60].id,e.value=e.__value},m(o,i){P(o,e,i),f(e,r)},p(o,i){i[0]&2048&&t!==(t=o[60].id+"")&&_e(r,t),i[0]&2048&&s!==(s=o[60].id)&&(e.__value=s,e.value=e.__value)},d(o){o&&C(e)}}}function na(n){let e=!n[10].find(r),t;function r(...o){return n[33](n[60],...o)}let s=e&&ta(n);return{c(){s&&s.c(),t=Te()},m(o,i){s&&s.m(o,i),P(o,t,i)},p(o,i){n=o,i[0]&3072&&(e=!n[10].find(r)),e?s?s.p(n,i):(s=ta(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){s&&s.d(o),o&&C(t)}}}function sa(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y,b,E,S,_,k,x,A,v,T,w,R,I,B;return{c(){e=g("div"),t=g("div"),r=g("label"),r.textContent="Reasoning",s=L(),o=g("select"),i=g("option"),i.textContent="minimal",a=g("option"),a.textContent="low",l=g("option"),l.textContent="medium",c=g("option"),c.textContent="high",u=L(),h=g("div"),p=g("label"),p.textContent="Verbosity",m=L(),y=g("select"),b=g("option"),b.textContent="low",E=g("option"),E.textContent="medium",S=g("option"),S.textContent="high",_=L(),k=g("div"),x=g("label"),x.textContent="Summary",A=L(),v=g("select"),T=g("option"),T.textContent="auto",w=g("option"),w.textContent="detailed",R=g("option"),R.textContent="null",d(r,"for","settings-reasoning-effort"),d(r,"class","block font-medium mb-1"),i.__value="minimal",i.value=i.__value,a.__value="low",a.value=a.__value,l.__value="medium",l.value=l.__value,c.__value="high",c.value=c.__value,d(o,"id","settings-reasoning-effort"),d(o,"class","border text-black border-gray-300 p-2 rounded w-full"),n[12]===void 0&&dt(()=>n[38].call(o)),d(p,"for","settings-verbosity"),d(p,"class","block font-medium mb-1"),b.__value="low",b.value=b.__value,E.__value="medium",E.value=E.__value,S.__value="high",S.value=S.__value,d(y,"id","settings-verbosity"),d(y,"class","border text-black border-gray-300 p-2 rounded w-full"),n[13]===void 0&&dt(()=>n[39].call(y)),d(x,"for","settings-summary"),d(x,"class","block font-medium mb-1"),T.__value="auto",T.value=T.__value,w.__value="detailed",w.value=w.__value,R.__value="null",R.value=R.__value,d(v,"id","settings-summary"),d(v,"class","border text-black border-gray-300 p-2 rounded w-full"),n[14]===void 0&&dt(()=>n[40].call(v)),d(e,"class","grid grid-cols-1 sm:grid-cols-3 gap-3 mt-3")},m(j,H){P(j,e,H),f(e,t),f(t,r),f(t,s),f(t,o),f(o,i),f(o,a),f(o,l),f(o,c),Ue(o,n[12]),f(e,u),f(e,h),f(h,p),f(h,m),f(h,y),f(y,b),f(y,E),f(y,S),Ue(y,n[13]),f(e,_),f(e,k),f(k,x),f(k,A),f(k,v),f(v,T),f(v,w),f(v,R),Ue(v,n[14]),I||(B=[W(o,"change",n[38]),W(y,"change",n[39]),W(v,"change",n[40])],I=!0)},p(j,H){H[0]&4096&&Ue(o,j[12]),H[0]&8192&&Ue(y,j[13]),H[0]&16384&&Ue(v,j[14])},d(j){j&&C(e),I=!1,st(B)}}}function ra(n){let e,t,r,s,o,i,a,l,c,u,h,p;return{c(){e=g("div"),t=g("label"),t.textContent="Voice Selection",r=L(),s=g("select"),o=g("option"),o.textContent="Alloy",i=g("option"),i.textContent="Echo",a=g("option"),a.textContent="Fable",l=g("option"),l.textContent="Onyx",c=g("option"),c.textContent="Nova",u=g("option"),u.textContent="Shimmer",d(t,"for","voice-selection"),d(t,"class","block font-medium mb-2"),o.__value="alloy",o.value=o.__value,i.__value="echo",i.value=i.__value,a.__value="fable",a.value=a.__value,l.__value="onyx",l.value=l.__value,c.__value="nova",c.value=c.__value,u.__value="shimmer",u.value=u.__value,d(s,"class","border text-black border-gray-300 p-2 rounded w-full"),d(s,"id","voice-selection"),n[15]===void 0&&dt(()=>n[41].call(s)),d(e,"class","mb-4")},m(m,y){P(m,e,y),f(e,t),f(e,r),f(e,s),f(s,o),f(s,i),f(s,a),f(s,l),f(s,c),f(s,u),Ue(s,n[15]),h||(p=W(s,"change",n[41]),h=!0)},p(m,y){y[0]&32768&&Ue(s,m[15])},d(m){m&&C(e),h=!1,p()}}}function oa(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y,b,E;return{c(){e=g("div"),t=g("label"),t.textContent="Image Size",r=L(),s=g("select"),o=g("option"),o.textContent="1024x1024",i=g("option"),i.textContent="1024x1792",a=g("option"),a.textContent="1792x1024",l=L(),c=g("div"),u=g("label"),u.textContent="Image Quality",h=L(),p=g("select"),m=g("option"),m.textContent="standard",y=g("option"),y.textContent="hd",d(t,"for","size-selection"),d(t,"class","block font-medium mb-2"),o.__value="1024x1024",o.value=o.__value,i.__value="1024x1792",i.value=i.__value,a.__value="1792x1024",a.value=a.__value,d(s,"class","border text-black border-gray-300 p-2 rounded w-full"),d(s,"id","size-selection"),n[16]===void 0&&dt(()=>n[42].call(s)),d(e,"class","mb-4"),d(u,"for","quality-selection"),d(u,"class","block font-medium mb-2"),m.__value="standard",m.value=m.__value,y.__value="hd",y.value=y.__value,d(p,"class","border text-black border-gray-300 p-2 rounded w-full"),d(p,"id","quality-selection"),n[17]===void 0&&dt(()=>n[43].call(p)),d(c,"class","mb-4")},m(S,_){P(S,e,_),f(e,t),f(e,r),f(e,s),f(s,o),f(s,i),f(s,a),Ue(s,n[16]),P(S,l,_),P(S,c,_),f(c,u),f(c,h),f(c,p),f(p,m),f(p,y),Ue(p,n[17]),b||(E=[W(s,"change",n[42]),W(p,"change",n[43])],b=!0)},p(S,_){_[0]&65536&&Ue(s,S[16]),_[0]&131072&&Ue(p,S[17])},d(S){S&&C(e),S&&C(l),S&&C(c),b=!1,st(E)}}}function qf(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y,b,E,S,_,k,x,A,v,T,w,R,I,B,j,H,G,Z,V,J,z,F,Y,te,ue,ye,Pe,me=qn(n[9]),K,he=n[9].startsWith("tts"),Oe,we=n[9].startsWith("dall-e"),ze,Ee,it,At,et,Tt,ft,Gt,It,Ft,gt,Je,tt,D,ee,ce,U,pe,oe,de,rt,De,lt,at,ct,nn,sn=n[18].toFixed(0)+"",Br,Uo,Qn,qo,Ds=(n[18]/1e3*.02).toFixed(2)+"",Hr,Vo,Fs,Ko,Ns,pn,rn,Nt,Go,zr,Wo,Ur,Jo,js,Zo,An,Tn,Yo,Xo,es,qr,Qo;function ei(Re,Xe){return Re[10]&&Re[10].length||Re[11]&&Re[11].length?Uf:zf}let Bs=ei(n),jt=Bs(n),bt=me&&sa(n),yt=he&&ra(n),wt=we&&oa(n);return{c(){e=g("div"),t=g("div"),r=g("div"),s=g("button"),o=g("img"),a=L(),l=g("h2"),l.textContent="Settings",c=L(),u=g("div"),h=g("div"),p=g("label"),p.textContent="Provider",m=L(),y=g("select"),b=g("option"),b.textContent="OpenAI",E=g("option"),E.textContent="Anthropic",S=L(),_=g("div"),k=g("label"),x=X(n[0]),A=X(" API Key"),v=L(),T=g("div"),w=g("input"),R=L(),I=g("button"),I.textContent="Check API",B=L(),j=g("p"),H=X(n[8]),Z=L(),V=g("div"),J=g("div"),z=g("label"),z.textContent="Model Selection",F=L(),Y=g("button"),te=X("↻"),ue=L(),ye=g("select"),jt.c(),Pe=L(),bt&&bt.c(),K=L(),yt&&yt.c(),Oe=L(),wt&&wt.c(),ze=L(),Ee=g("div"),it=g("label"),it.textContent="Enter key behavior",At=L(),et=g("select"),Tt=g("option"),Tt.textContent="Insert a new line",ft=g("option"),ft.textContent="Send message",Gt=L(),It=g("p"),It.textContent="Tip: Shift+Enter always inserts a new line. Ctrl+Enter always sends the message.",Ft=L(),gt=g("div"),Je=g("label"),Je.textContent="Default Assistant role",tt=L(),D=g("input"),ee=L(),ce=g("div"),U=g("select"),pe=g("option"),pe.textContent="System",oe=g("option"),oe.textContent="User",de=L(),rt=g("a"),rt.textContent="Which should I use?",De=L(),lt=g("div"),at=g("div"),ct=g("p"),nn=X("Estimated Token Usage: "),Br=X(sn),Uo=L(),Qn=g("p"),qo=X("Estimated Cost with GPT-4: $"),Hr=X(Ds),Vo=L(),Fs=g("p"),Fs.innerHTML='<a href="https://openai.com/pricing" target="_blank" rel="noreferrer">See all API pricing</a>',Ko=L(),Ns=g("div"),pn=g("label"),rn=g("div"),Nt=g("input"),Go=L(),zr=g("div"),Wo=L(),Ur=g("div"),Jo=L(),js=g("div"),js.textContent="Show estimated tokens in sidebar",Zo=L(),An=g("button"),Tn=g("img"),Xo=L(),es=g("button"),es.textContent="Save",d(o,"class","icon-white w-8"),d(o,"alt","Close"),Ye(o.src,i=As)||d(o,"src",i),d(s,"class","absolute top-0 right-0 mt-2 mr-2 text-gray-500 hover:text-gray-600"),d(l,"class","text-xl font-bold mb-4"),d(p,"for","provider-selection"),d(p,"class","block font-medium mb-2"),b.__value="OpenAI",b.value=b.__value,E.__value="Anthropic",E.value=E.__value,d(y,"class","border text-black border-gray-300 p-2 rounded w-full"),d(y,"id","provider-selection"),n[0]===void 0&&dt(()=>n[35].call(y)),d(h,"class","mb-4"),d(k,"for","api-key"),d(k,"class","block font-medium mb-2"),d(w,"type","password"),d(w,"id","api-key"),d(w,"name","api-key"),d(w,"class","border text-black border-gray-300 p-2 rounded w-full"),d(I,"class","ml-2 bg-blue-600 hover:bg-blue-400 transition-colors duration-800 text-white p-2 rounded text-xs"),d(T,"class","flex items-center"),d(j,"class",G="mt-2 text-white rounded-lg p-2 "+(n[7]==="yellow"?"bg-yellow-600":"")+" "+(n[7]==="red"?"bg-red-600":"")+" "+(n[7]==="green"?"bg-green-600":"")),Ut(j,"display",n[20]?"block":"none"),d(_,"class","mb-4"),d(z,"for","model-selection"),d(z,"class","block font-medium"),d(Y,"class","ml-2 text-sm bg-gray-700 hover:bg-gray-600 transition-colors duration-200 text-white px-2 py-1 rounded"),Y.disabled=n[6],d(Y,"title","Refresh models"),d(J,"class","flex items-center justify-between mb-2"),d(ye,"class","border text-black border-gray-300 p-2 rounded w-full"),d(ye,"id","model-selection"),n[9]===void 0&&dt(()=>n[37].call(ye)),d(V,"class","mb-4"),d(u,"class","border border-gray-600 rounded-lg p-4 mb-6"),d(it,"for","enter-behavior"),d(it,"class","block font-medium mb-2"),Tt.__value="newline",Tt.value=Tt.__value,ft.__value="send",ft.value=ft.__value,d(et,"id","enter-behavior"),d(et,"class","border text-black border-gray-300 p-2 rounded w-full"),n[5]===void 0&&dt(()=>n[44].call(et)),d(It,"class","text-xs text-gray-400 mt-1"),d(Ee,"class","mb-4"),d(Je,"for","api-key"),d(Je,"class","block font-medium mb-2"),d(D,"class","border text-black border-gray-300 p-2 rounded w-full"),pe.__value="system",pe.value=pe.__value,oe.__value="user",oe.value=oe.__value,d(U,"class","text-black p-2 rounded focus:outline-none focus:bg-white max-w-24"),n[3]===void 0&&dt(()=>n[47].call(U)),d(rt,"href","https://platform.openai.com/docs/guides/prompt-engineering/tactic-ask-the-model-to-adopt-a-persona"),d(rt,"target","_blank"),d(rt,"rel","noreferrer"),d(rt,"class","text-blue-300 transition underline text-xs hover:text-blue-500"),d(ce,"class","flex items-center my-2 space-x-2"),d(gt,"class","mb-4"),d(ct,"class","font-bold mb-2"),d(Qn,"class",""),d(Fs,"class","text-blue-300 transition underline text-xs hover:text-blue-500 mt-2"),d(Nt,"type","checkbox"),d(Nt,"id","show-tokens-toggle"),d(Nt,"class","sr-only"),d(Nt,"aria-label","Show estimated tokens in sidebar"),d(zr,"class","block bg-gray-600 w-14 h-8 rounded-full"),d(Ur,"class","dot absolute left-1 top-1 bg-gray-100 w-6 h-6 rounded-full transition"),d(rn,"class","relative"),d(js,"class","ml-3 text-gray-200"),d(pn,"for","show-tokens-toggle"),d(pn,"class","flex items-center cursor-pointer"),d(Ns,"class","mt-4"),d(at,"class","flex flex-col"),d(Tn,"class","icon-white w-3"),d(Tn,"alt","Close"),Ye(Tn.src,Yo=As)||d(Tn,"src",Yo),d(An,"class","bg-warning hover:bg-warningHover transition-colors duration-200 text-white ml-10 px-4 py-2 flex align-middle justify-center rounded"),Ut(An,"font-size","1rem"),d(lt,"class","flex justify-between items-start"),d(es,"class","bg-good hover:bg-good2 transition-colors duration-200 text-white py-2 px-4 mt-8 rounded"),d(r,"class","bg-primary text-white rounded-lg shadow-xl p-8 relative"),d(t,"class","flex items-center justify-center min-h-screen"),d(e,"class","fixed z-50 inset-0 overflow-y-auto animate-fade-in")},m(Re,Xe){P(Re,e,Xe),f(e,t),f(t,r),f(r,s),f(s,o),f(r,a),f(r,l),f(r,c),f(r,u),f(u,h),f(h,p),f(h,m),f(h,y),f(y,b),f(y,E),Ue(y,n[0]),f(u,S),f(u,_),f(_,k),f(k,x),f(k,A),f(_,v),f(_,T),f(T,w),Mt(w,n[1]),f(T,R),f(T,I),f(_,B),f(_,j),f(j,H),f(u,Z),f(u,V),f(V,J),f(J,z),f(J,F),f(J,Y),f(Y,te),f(V,ue),f(V,ye),jt.m(ye,null),Ue(ye,n[9]),f(V,Pe),bt&&bt.m(V,null),f(r,K),yt&&yt.m(r,null),f(r,Oe),wt&&wt.m(r,null),f(r,ze),f(r,Ee),f(Ee,it),f(Ee,At),f(Ee,et),f(et,Tt),f(et,ft),Ue(et,n[5]),f(Ee,Gt),f(Ee,It),f(r,Ft),f(r,gt),f(gt,Je),f(gt,tt),f(gt,D),Mt(D,n[2]),f(gt,ee),f(gt,ce),f(ce,U),f(U,pe),f(U,oe),Ue(U,n[3]),f(ce,de),f(ce,rt),f(r,De),f(r,lt),f(lt,at),f(at,ct),f(ct,nn),f(ct,Br),f(at,Uo),f(at,Qn),f(Qn,qo),f(Qn,Hr),f(at,Vo),f(at,Fs),f(at,Ko),f(at,Ns),f(Ns,pn),f(pn,rn),f(rn,Nt),Nt.checked=n[4],f(rn,Go),f(rn,zr),f(rn,Wo),f(rn,Ur),f(pn,Jo),f(pn,js),f(lt,Zo),f(lt,An),f(An,Tn),f(r,Xo),f(r,es),qr||(Qo=[W(s,"click",n[27]),W(y,"change",n[35]),W(w,"input",n[36]),W(I,"click",n[24]),W(Y,"click",n[25]),W(ye,"change",n[37]),W(et,"change",n[44]),W(et,"change",n[45]),W(D,"input",n[46]),W(U,"change",n[47]),W(Nt,"change",n[48]),W(Nt,"change",n[23]),W(An,"click",n[26]),W(es,"click",n[28])],qr=!0)},p(Re,Xe){Xe[0]&1&&Ue(y,Re[0]),Xe[0]&1&&_e(x,Re[0]),Xe[0]&2&&w.value!==Re[1]&&Mt(w,Re[1]),Xe[0]&256&&_e(H,Re[8]),Xe[0]&128&&G!==(G="mt-2 text-white rounded-lg p-2 "+(Re[7]==="yellow"?"bg-yellow-600":"")+" "+(Re[7]==="red"?"bg-red-600":"")+" "+(Re[7]==="green"?"bg-green-600":""))&&d(j,"class",G),Xe[0]&64&&(Y.disabled=Re[6]),Bs===(Bs=ei(Re))&&jt?jt.p(Re,Xe):(jt.d(1),jt=Bs(Re),jt&&(jt.c(),jt.m(ye,null))),Xe[0]&3584&&Ue(ye,Re[9]),Xe[0]&512&&(me=qn(Re[9])),me?bt?bt.p(Re,Xe):(bt=sa(Re),bt.c(),bt.m(V,null)):bt&&(bt.d(1),bt=null),Xe[0]&512&&(he=Re[9].startsWith("tts")),he?yt?yt.p(Re,Xe):(yt=ra(Re),yt.c(),yt.m(r,Oe)):yt&&(yt.d(1),yt=null),Xe[0]&512&&(we=Re[9].startsWith("dall-e")),we?wt?wt.p(Re,Xe):(wt=oa(Re),wt.c(),wt.m(r,ze)):wt&&(wt.d(1),wt=null),Xe[0]&32&&Ue(et,Re[5]),Xe[0]&4&&D.value!==Re[2]&&Mt(D,Re[2]),Xe[0]&8&&Ue(U,Re[3]),Xe[0]&262144&&sn!==(sn=Re[18].toFixed(0)+"")&&_e(Br,sn),Xe[0]&262144&&Ds!==(Ds=(Re[18]/1e3*.02).toFixed(2)+"")&&_e(Hr,Ds),Xe[0]&16&&(Nt.checked=Re[4])},i:se,o:se,d(Re){Re&&C(e),jt.d(),bt&&bt.d(),yt&&yt.d(),wt&&wt.d(),qr=!1,st(Qo)}}}const ia=n=>n.provider==="anthropic",aa=n=>n.provider==="openai",la=n=>n.provider==="openai",ca=(n,e)=>n.id.localeCompare(e.id),ua=n=>n.provider==="anthropic",da=(n,e)=>n.id.localeCompare(e.id);function Vf(n,e,t){let r,s,o,i,a,l,c,u,h,p,m,y,b,E,S,_,k,x;ge(n,yn,U=>t(0,r=U)),ge(n,fn,U=>t(50,s=U)),ge(n,cn,U=>t(29,o=U)),ge(n,Ts,U=>t(30,i=U)),ge(n,un,U=>t(31,a=U)),ge(n,Ht,U=>t(32,l=U)),ge(n,qe,U=>t(9,h=U)),ge(n,Es,U=>t(12,y=U)),ge(n,xs,U=>t(13,b=U)),ge(n,Rs,U=>t(14,E=U)),ge(n,Bn,U=>t(15,S=U)),ge(n,ks,U=>t(16,_=U)),ge(n,Ss,U=>t(17,k=U)),ge(n,dn,U=>t(18,x=U));const A=Gn();let v=be("");ge(n,v,U=>t(8,u=U));let T=be("");ge(n,T,U=>t(7,c=U));let w=be([]);ge(n,w,U=>t(11,m=U));let R=be([]);ge(n,R,U=>t(10,p=U));let I=O(cn)||"",B="";cn.subscribe(U=>{B=U||"",t(1,I=B)});function j(){if(!O(yn))return;t(1,I=O(cn)||"");const U=O(Ge),pe=O(nt);U&&pe?ye():I?ue(I):Ht.set([])}let H=s.role,G=s.type;Vt.subscribe(U=>{Ve("api_key",JSON.stringify(U))});let Z=!1;zn.subscribe(U=>{t(4,Z=U)});let V="newline";Or(async()=>{await Y(),t(5,V=O(Cr))});function J(){zn.set(Z)}function z(){let U=O(un),pe=O(Ht),oe=[];if(U==="GPT"){const de=O(Ge)||(I&&r==="OpenAI"?I:null),rt=O(nt)||(I&&r==="Anthropic"?I:null);oe=pe.filter(De=>{const lt=De.id.includes("gpt")&&!De.id.includes("vision"),at=De.id.startsWith("claude-")&&!De.id.includes("vision");return!(!lt&&!at||De.provider==="openai"&&!de||De.provider==="anthropic"&&!rt)})}else U==="GPT + Vision"?oe=pe.filter(de=>de.id.includes("vision")):U==="Dall-E"?oe=pe.filter(de=>de.id.includes("dall-e")):U==="TTS"&&(oe=pe.filter(de=>de.id.includes("tts")));w.set(oe),oe.length>0&&(!O(qe)||!oe.some(de=>de.id===O(qe)))&&qe.set(oe[0].id)}function F(){let U=O(un),pe=O(Ts)||[],oe=[];if(U==="GPT"){const de=O(Ge)||(I&&r==="OpenAI"?I:null),rt=O(nt)||(I&&r==="Anthropic"?I:null);oe=pe.filter(De=>{const lt=De.id.includes("gpt")&&!De.id.includes("vision"),at=De.id.startsWith("claude-")&&!De.id.includes("vision");return!(!lt&&!at||De.provider==="openai"&&!de||De.provider==="anthropic"&&!rt)})}else U==="GPT + Vision"?oe=pe.filter(de=>de.id.includes("vision")):U==="Dall-E"?oe=pe.filter(de=>de.id.includes("dall-e")):U==="TTS"&&(oe=pe.filter(de=>de.id.includes("tts")));R.set(oe)}async function Y(){un.set("GPT");const U=O(Ht),pe=O(Ge),oe=O(nt);if(!U||U.length===0){if(pe&&oe)await ye();else if(pe||oe){const de=O(cn);de&&await ue(de)}}z(),F()}async function te(){if(!I){T.set("yellow"),v.set("API key is missing.");return}try{if(r==="Anthropic")await mr(I),T.set("green"),v.set("Anthropic API connection succeeded.");else{const oe=await fetch("https://api.openai.com/v1/models",{method:"GET",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(oe.ok)T.set("green"),v.set("OpenAI API connection succeeded.");else throw new Error(`HTTP error! status: ${oe.status}`)}he();const U=O(Ge),pe=O(nt);U&&pe?await ye():await ue(I),z()}catch(U){console.error(`${r} API connection failed:`,U),T.set("red"),v.set(`${r} API connection failed: ${U.message}`)}}async function ue(U,pe){if(!U){T.set("yellow"),console.log("showMessage",T),console.error("API key is missing.");return}const oe=O(yn);try{let de=[];if(oe==="OpenAI"){const De=await fetch("https://api.openai.com/v1/models",{method:"GET",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}});if(!De.ok)throw new Error(`HTTP error! status: ${De.status}`);de=(await De.json()).data.map(at=>({...at,provider:"openai"}))}else oe==="Anthropic"&&(de=await mr(U));const rt=de.sort((De,lt)=>(lt.created||0)-(De.created||0));Ht.set(rt)}catch(de){console.error(`Failed to fetch ${oe} models:`,de),T.set("red"),v.set(`Failed to fetch ${oe} models.`)}}async function ye(){const U=O(Ge),pe=O(nt);let oe=[];try{if(U){const de=await fetch("https://api.openai.com/v1/models",{method:"GET",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}});if(de.ok){const De=(await de.json()).data.map(lt=>({...lt,provider:"openai"}));oe.push(...De)}}if(pe)try{const de=await mr(pe);oe.push(...de)}catch(de){console.log("Anthropic models fetch failed:",de)}if(oe.length>0){const de=oe.sort((rt,De)=>(De.created||0)-(rt.created||0));Ht.set(de)}}catch(de){console.error("Failed to fetch models from providers:",de)}}let Pe=!1;async function me(){const U=O(Ge),pe=O(nt);if(!U&&!pe){T.set("yellow"),v.set("API key is missing.");return}try{if(t(6,Pe=!0),U&&pe)await ye();else{const oe=O(cn);oe&&await ue(oe)}z()}finally{t(6,Pe=!1)}}function K(){dn.set(0)}function he(){fn.set({role:H,type:G}),r==="OpenAI"?Ge.set(I):nt.set(I);try{const U=Qe("openai_api_key"),pe=Qe("anthropic_api_key");if(U){const oe=JSON.parse(U);oe&&!O(Ge)&&Ge.set(oe)}if(pe){const oe=JSON.parse(pe);oe&&!O(nt)&&nt.set(oe)}}catch(U){console.log("Error syncing provider keys:",U)}Vt.set(I),Ve("selectedModel",O(qe)),Ve("selectedVoice",O(Bn)),Ve("selectedMode",O(un)),A("settings-changed"),console.log("Settings saved.")}function Oe(){Fn.set(!1)}function we(){he(),Oe()}const ze=(U,pe)=>pe.id===U.id,Ee=(U,pe)=>pe.id===U.id;function it(){r=kt(this),yn.set(r)}function At(){I=this.value,t(1,I),t(29,o)}function et(){h=kt(this),qe.set(h)}function Tt(){y=kt(this),Es.set(y)}function ft(){b=kt(this),xs.set(b)}function Gt(){E=kt(this),Rs.set(E)}function It(){S=kt(this),Bn.set(S)}function Ft(){_=kt(this),ks.set(_)}function gt(){k=kt(this),Ss.set(k)}function Je(){V=kt(this),t(5,V)}const tt=()=>Cr.set(V);function D(){H=this.value,t(2,H)}function ee(){G=kt(this),t(3,G)}function ce(){Z=this.checked,t(4,Z)}return n.$$.update=()=>{n.$$.dirty[1]&1&&z(),n.$$.dirty[1]&2&&z(),n.$$.dirty[1]&1&&F(),n.$$.dirty[0]&1073741824&&F(),n.$$.dirty[0]&536870912&&t(1,I=o||""),n.$$.dirty[0]&1&&r&&j()},[r,I,H,G,Z,V,Pe,c,u,h,p,m,y,b,E,S,_,k,x,v,T,w,R,J,te,me,K,Oe,we,o,i,a,l,ze,Ee,it,At,et,Tt,ft,Gt,It,Ft,gt,Je,tt,D,ee,ce]}class Kf extends Ce{constructor(e){super(),Ie(this,e,Vf,qf,xe,{},null,[-1,-1,-1])}}function Gf(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y;return{c(){e=g("div"),t=g("div"),r=g("div"),s=g("button"),o=g("img"),a=L(),l=g("h2"),l.textContent="WolfeChat Help & FAQ",c=L(),u=g("div"),u.innerHTML=`<h1 class="text-3xl font-bold mb-4">What is WolfeChat?</h1> 
          <p class="mb-4">WolfeChat is a browser-based chat UI for <strong>OpenAI</strong> (GPT-4, o1) and <strong>Anthropic</strong> (Claude) models. Use your own API keys with a clean interface—no subscriptions, just pay-as-you-go rates.</p> 
          <p class="mb-4">Configure one or both providers in Settings, then switch between models seamlessly in any conversation.</p> 
  
          <h2 class="text-2xl font-bold mb-3">Key Features:</h2> 
            <ul class="list-disc list-inside mb-4"><li><strong>Multi-Provider:</strong> OpenAI (GPT-4, o1, vision, TTS, DALL-E) and Anthropic (Claude Sonnet, Opus, Haiku)</li> 
              <li><strong>Reasoning Models:</strong> o1/o3 and Claude reasoning with dedicated display windows</li> 
              <li><strong>Quick Settings:</strong> Switch models and adjust parameters mid-conversation</li> 
              <li><strong>Image Vision:</strong> Upload images for GPT-4 Vision and Claude analysis</li> 
              <li><strong>Message Management:</strong> Copy, delete, or fork conversations at any point</li> 
              <li><strong>Browser-Based:</strong> Direct API calls—no backend, all data stored locally</li> 
              <li><strong>Mobile-Friendly:</strong> Responsive design for phones and tablets</li></ul> 

          <h3 class="text-xl font-bold mb-2 mt-4">Credits</h3> 
            <p class="mb-3">Built on great open-source projects:</p> 
            <ul class="list-disc list-inside mb-4"><li><a href="https://github.com/patrikzudel/PatrikZeros-ChatGPT-API-UI" target="_blank" rel="noreferrer" class="underline">PatrikZeros-ChatGPT-API-UI</a> by patrikzudel</li> 
              <li><a href="https://github.com/agambon/SmoothGPT" target="_blank" rel="noreferrer" class="underline">SmoothGPT</a> and its contributors</li></ul> 
  
          <h3 class="text-xl font-bold mb-2 mt-4">Get API Keys</h3> 
          <div class="mb-1"><a href="https://platform.openai.com/api-keys" target="_blank" rel="noreferrer" class="text-blue-500 hover:text-blue-700">OpenAI API Keys</a></div> 
          <div class="mb-4"><a href="https://console.anthropic.com/settings/keys" target="_blank" rel="noreferrer" class="text-blue-500 hover:text-blue-700">Anthropic API Keys</a></div> 

          <div class="mb-4 mt-4"><a href="https://github.com/science/WolfeChat" target="_blank" rel="noreferrer" class="text-blue-500 hover:text-blue-700">View source on GitHub</a></div> 
  
          <p class="mb-4"><strong>Data Storage:</strong> Conversations stored in browser localStorage. Clear browser data = lost conversations. Download/restore sessions via Settings. DALL-E images expire in 60 minutes.</p>`,h=L(),p=g("button"),p.textContent="Got it!",d(o,"class","icon-white w-8"),d(o,"alt","Close"),Ye(o.src,i=As)||d(o,"src",i),d(s,"class","absolute top-0 right-0 mt-2 mr-2 text-gray-500 hover:text-gray-600"),d(l,"class","text-xl font-bold mb-4"),d(u,"class","text-left"),d(p,"class","bg-good hover:bg-good2 transition-colors duration-200 text-white py-2 px-4 mt-4 rounded"),d(r,"class","bg-primary text-white rounded-lg shadow-xl p-8 relative max-w-lg mx-4"),d(t,"class","flex items-center justify-center min-h-screen"),d(e,"class","fixed z-50 inset-0 overflow-y-auto animate-fade-in")},m(b,E){P(b,e,E),f(e,t),f(t,r),f(r,s),f(s,o),f(r,a),f(r,l),f(r,c),f(r,u),f(r,h),f(r,p),m||(y=[W(s,"click",n[0]),W(p,"click",n[0])],m=!0)},p:se,i:se,o:se,d(b){b&&C(e),m=!1,st(y)}}}function Wf(n){function e(){Nn.set(!1)}return[e]}class Jf extends Ce{constructor(e){super(),Ie(this,e,Wf,Gf,xe,{})}}function Zf(){const n=console.warn;console.warn=e=>{e.includes("unknown prop")||e.includes("unexpected slot")||n(e)},Or(()=>{console.warn=n})}function fa(n,e,t){const r=n.slice();return r[18]=e[t],r}function ha(n,e,t){const r=n.slice();return r[18]=e[t],r}function pa(n,e,t){const r=n.slice();return r[10]=e[t],r}function ga(n,e,t){const r=n.slice();return r[13]=e[t],r[15]=t,r}function ma(n,e,t){const r=n.slice();return r[16]=e[t],r[15]=t,r}function _a(n,e,t){const r=n.slice();return r[7]=e[t],r}function Yf(n){let e,t,r,s;const o=[th,eh,Qf],i=[];function a(l,c){return l[0]==="table"?0:l[0]==="list"?1:2}return e=a(n),t=i[e]=o[e](n),{c(){t.c(),r=Te()},m(l,c){i[e].m(l,c),P(l,r,c),s=!0},p(l,c){let u=e;e=a(l),e===u?i[e].p(l,c):(Me(),N(i[u],1,1,()=>{i[u]=null}),$e(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){s||($(t),s=!0)},o(l){N(t),s=!1},d(l){i[e].d(l),l&&C(r)}}}function Xf(n){let e,t,r=n[1],s=[];for(let i=0;i<r.length;i+=1)s[i]=Sa(_a(n,r,i));const o=i=>N(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Te()},m(i,a){for(let l=0;l<s.length;l+=1)s[l].m(i,a);P(i,e,a),t=!0},p(i,a){if(a&34){r=i[1];let l;for(l=0;l<r.length;l+=1){const c=_a(i,r,l);s[l]?(s[l].p(c,a),$(s[l],1)):(s[l]=Sa(c),s[l].c(),$(s[l],1),s[l].m(e.parentNode,e))}for(Me(),l=r.length;l<s.length;l+=1)o(l);$e()}},i(i){if(!t){for(let a=0;a<r.length;a+=1)$(s[a]);t=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);t=!1},d(i){_t(s,i),i&&C(e)}}}function Qf(n){let e,t,r;const s=[n[6]];var o=n[5][n[0]];function i(a){let l={$$slots:{default:[rh]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=en(l,s[c]);return{props:l}}return o&&(e=Ze(o,i(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(a,l){e&&ke(e,a,l),P(a,t,l),r=!0},p(a,l){const c=l&64?Wn(s,[Jn(a[6])]):{};if(l&8388706&&(c.$$scope={dirty:l,ctx:a}),o!==(o=a[5][a[0]])){if(e){Me();const u=e;N(u.$$.fragment,1,0,()=>{Se(u,1)}),$e()}o?(e=Ze(o,i(a)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else o&&e.$set(c)},i(a){r||(e&&$(e.$$.fragment,a),r=!0)},o(a){e&&N(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&Se(e,a)}}}function eh(n){let e,t,r,s;const o=[ih,oh],i=[];function a(l,c){return l[4]?0:1}return e=a(n),t=i[e]=o[e](n),{c(){t.c(),r=Te()},m(l,c){i[e].m(l,c),P(l,r,c),s=!0},p(l,c){let u=e;e=a(l),e===u?i[e].p(l,c):(Me(),N(i[u],1,1,()=>{i[u]=null}),$e(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){s||($(t),s=!0)},o(l){N(t),s=!1},d(l){i[e].d(l),l&&C(r)}}}function th(n){let e,t,r;var s=n[5].table;function o(i){return{props:{$$slots:{default:[_h]},$$scope:{ctx:i}}}}return s&&(e=Ze(s,o(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(i,a){e&&ke(e,i,a),P(i,t,a),r=!0},p(i,a){const l={};if(a&8388716&&(l.$$scope={dirty:a,ctx:i}),s!==(s=i[5].table)){if(e){Me();const c=e;N(c.$$.fragment,1,0,()=>{Se(c,1)}),$e()}s?(e=Ze(s,o(i)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else s&&e.$set(l)},i(i){r||(e&&$(e.$$.fragment,i),r=!0)},o(i){e&&N(e.$$.fragment,i),r=!1},d(i){i&&C(t),e&&Se(e,i)}}}function nh(n){let e=n[6].raw+"",t;return{c(){t=X(e)},m(r,s){P(r,t,s)},p(r,s){s&64&&e!==(e=r[6].raw+"")&&_e(t,e)},i:se,o:se,d(r){r&&C(t)}}}function sh(n){let e,t;return e=new Sn({props:{tokens:n[1],renderers:n[5]}}),{c(){Ae(e.$$.fragment)},m(r,s){ke(e,r,s),t=!0},p(r,s){const o={};s&2&&(o.tokens=r[1]),s&32&&(o.renderers=r[5]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){Se(e,r)}}}function rh(n){let e,t,r,s;const o=[sh,nh],i=[];function a(l,c){return l[1]?0:1}return e=a(n),t=i[e]=o[e](n),{c(){t.c(),r=Te()},m(l,c){i[e].m(l,c),P(l,r,c),s=!0},p(l,c){let u=e;e=a(l),e===u?i[e].p(l,c):(Me(),N(i[u],1,1,()=>{i[u]=null}),$e(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){s||($(t),s=!0)},o(l){N(t),s=!1},d(l){i[e].d(l),l&&C(r)}}}function oh(n){let e,t,r;const s=[{ordered:n[4]},n[6]];var o=n[5].list;function i(a){let l={$$slots:{default:[lh]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=en(l,s[c]);return{props:l}}return o&&(e=Ze(o,i(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(a,l){e&&ke(e,a,l),P(a,t,l),r=!0},p(a,l){const c=l&80?Wn(s,[l&16&&{ordered:a[4]},l&64&&Jn(a[6])]):{};if(l&8388704&&(c.$$scope={dirty:l,ctx:a}),o!==(o=a[5].list)){if(e){Me();const u=e;N(u.$$.fragment,1,0,()=>{Se(u,1)}),$e()}o?(e=Ze(o,i(a)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else o&&e.$set(c)},i(a){r||(e&&$(e.$$.fragment,a),r=!0)},o(a){e&&N(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&Se(e,a)}}}function ih(n){let e,t,r;const s=[{ordered:n[4]},n[6]];var o=n[5].list;function i(a){let l={$$slots:{default:[uh]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=en(l,s[c]);return{props:l}}return o&&(e=Ze(o,i(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(a,l){e&&ke(e,a,l),P(a,t,l),r=!0},p(a,l){const c=l&80?Wn(s,[l&16&&{ordered:a[4]},l&64&&Jn(a[6])]):{};if(l&8388704&&(c.$$scope={dirty:l,ctx:a}),o!==(o=a[5].list)){if(e){Me();const u=e;N(u.$$.fragment,1,0,()=>{Se(u,1)}),$e()}o?(e=Ze(o,i(a)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else o&&e.$set(c)},i(a){r||(e&&$(e.$$.fragment,a),r=!0)},o(a){e&&N(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&Se(e,a)}}}function ah(n){let e,t,r;return e=new Sn({props:{tokens:n[18].tokens,renderers:n[5]}}),{c(){Ae(e.$$.fragment),t=L()},m(s,o){ke(e,s,o),P(s,t,o),r=!0},p(s,o){const i={};o&64&&(i.tokens=s[18].tokens),o&32&&(i.renderers=s[5]),e.$set(i)},i(s){r||($(e.$$.fragment,s),r=!0)},o(s){N(e.$$.fragment,s),r=!1},d(s){Se(e,s),s&&C(t)}}}function ba(n){let e,t,r;const s=[n[18]];var o=n[5].unorderedlistitem||n[5].listitem;function i(a){let l={$$slots:{default:[ah]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=en(l,s[c]);return{props:l}}return o&&(e=Ze(o,i(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(a,l){e&&ke(e,a,l),P(a,t,l),r=!0},p(a,l){const c=l&64?Wn(s,[Jn(a[18])]):{};if(l&8388704&&(c.$$scope={dirty:l,ctx:a}),o!==(o=a[5].unorderedlistitem||a[5].listitem)){if(e){Me();const u=e;N(u.$$.fragment,1,0,()=>{Se(u,1)}),$e()}o?(e=Ze(o,i(a)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else o&&e.$set(c)},i(a){r||(e&&$(e.$$.fragment,a),r=!0)},o(a){e&&N(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&Se(e,a)}}}function lh(n){let e,t,r=n[6].items,s=[];for(let i=0;i<r.length;i+=1)s[i]=ba(fa(n,r,i));const o=i=>N(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Te()},m(i,a){for(let l=0;l<s.length;l+=1)s[l].m(i,a);P(i,e,a),t=!0},p(i,a){if(a&96){r=i[6].items;let l;for(l=0;l<r.length;l+=1){const c=fa(i,r,l);s[l]?(s[l].p(c,a),$(s[l],1)):(s[l]=ba(c),s[l].c(),$(s[l],1),s[l].m(e.parentNode,e))}for(Me(),l=r.length;l<s.length;l+=1)o(l);$e()}},i(i){if(!t){for(let a=0;a<r.length;a+=1)$(s[a]);t=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);t=!1},d(i){_t(s,i),i&&C(e)}}}function ch(n){let e,t,r;return e=new Sn({props:{tokens:n[18].tokens,renderers:n[5]}}),{c(){Ae(e.$$.fragment),t=L()},m(s,o){ke(e,s,o),P(s,t,o),r=!0},p(s,o){const i={};o&64&&(i.tokens=s[18].tokens),o&32&&(i.renderers=s[5]),e.$set(i)},i(s){r||($(e.$$.fragment,s),r=!0)},o(s){N(e.$$.fragment,s),r=!1},d(s){Se(e,s),s&&C(t)}}}function ya(n){let e,t,r;const s=[n[18]];var o=n[5].orderedlistitem||n[5].listitem;function i(a){let l={$$slots:{default:[ch]},$$scope:{ctx:a}};for(let c=0;c<s.length;c+=1)l=en(l,s[c]);return{props:l}}return o&&(e=Ze(o,i(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(a,l){e&&ke(e,a,l),P(a,t,l),r=!0},p(a,l){const c=l&64?Wn(s,[Jn(a[18])]):{};if(l&8388704&&(c.$$scope={dirty:l,ctx:a}),o!==(o=a[5].orderedlistitem||a[5].listitem)){if(e){Me();const u=e;N(u.$$.fragment,1,0,()=>{Se(u,1)}),$e()}o?(e=Ze(o,i(a)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else o&&e.$set(c)},i(a){r||(e&&$(e.$$.fragment,a),r=!0)},o(a){e&&N(e.$$.fragment,a),r=!1},d(a){a&&C(t),e&&Se(e,a)}}}function uh(n){let e,t,r=n[6].items,s=[];for(let i=0;i<r.length;i+=1)s[i]=ya(ha(n,r,i));const o=i=>N(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Te()},m(i,a){for(let l=0;l<s.length;l+=1)s[l].m(i,a);P(i,e,a),t=!0},p(i,a){if(a&96){r=i[6].items;let l;for(l=0;l<r.length;l+=1){const c=ha(i,r,l);s[l]?(s[l].p(c,a),$(s[l],1)):(s[l]=ya(c),s[l].c(),$(s[l],1),s[l].m(e.parentNode,e))}for(Me(),l=r.length;l<s.length;l+=1)o(l);$e()}},i(i){if(!t){for(let a=0;a<r.length;a+=1)$(s[a]);t=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);t=!1},d(i){_t(s,i),i&&C(e)}}}function dh(n){let e,t,r;return e=new Sn({props:{tokens:n[16].tokens,renderers:n[5]}}),{c(){Ae(e.$$.fragment),t=L()},m(s,o){ke(e,s,o),P(s,t,o),r=!0},p(s,o){const i={};o&4&&(i.tokens=s[16].tokens),o&32&&(i.renderers=s[5]),e.$set(i)},i(s){r||($(e.$$.fragment,s),r=!0)},o(s){N(e.$$.fragment,s),r=!1},d(s){Se(e,s),s&&C(t)}}}function wa(n){let e,t,r;var s=n[5].tablecell;function o(i){return{props:{header:!0,align:i[6].align[i[15]]||"center",$$slots:{default:[dh]},$$scope:{ctx:i}}}}return s&&(e=Ze(s,o(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(i,a){e&&ke(e,i,a),P(i,t,a),r=!0},p(i,a){const l={};if(a&64&&(l.align=i[6].align[i[15]]||"center"),a&8388644&&(l.$$scope={dirty:a,ctx:i}),s!==(s=i[5].tablecell)){if(e){Me();const c=e;N(c.$$.fragment,1,0,()=>{Se(c,1)}),$e()}s?(e=Ze(s,o(i)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else s&&e.$set(l)},i(i){r||(e&&$(e.$$.fragment,i),r=!0)},o(i){e&&N(e.$$.fragment,i),r=!1},d(i){i&&C(t),e&&Se(e,i)}}}function fh(n){let e,t,r=n[2],s=[];for(let i=0;i<r.length;i+=1)s[i]=wa(ma(n,r,i));const o=i=>N(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Te()},m(i,a){for(let l=0;l<s.length;l+=1)s[l].m(i,a);P(i,e,a),t=!0},p(i,a){if(a&100){r=i[2];let l;for(l=0;l<r.length;l+=1){const c=ma(i,r,l);s[l]?(s[l].p(c,a),$(s[l],1)):(s[l]=wa(c),s[l].c(),$(s[l],1),s[l].m(e.parentNode,e))}for(Me(),l=r.length;l<s.length;l+=1)o(l);$e()}},i(i){if(!t){for(let a=0;a<r.length;a+=1)$(s[a]);t=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);t=!1},d(i){_t(s,i),i&&C(e)}}}function hh(n){let e,t,r;var s=n[5].tablerow;function o(i){return{props:{$$slots:{default:[fh]},$$scope:{ctx:i}}}}return s&&(e=Ze(s,o(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(i,a){e&&ke(e,i,a),P(i,t,a),r=!0},p(i,a){const l={};if(a&8388708&&(l.$$scope={dirty:a,ctx:i}),s!==(s=i[5].tablerow)){if(e){Me();const c=e;N(c.$$.fragment,1,0,()=>{Se(c,1)}),$e()}s?(e=Ze(s,o(i)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else s&&e.$set(l)},i(i){r||(e&&$(e.$$.fragment,i),r=!0)},o(i){e&&N(e.$$.fragment,i),r=!1},d(i){i&&C(t),e&&Se(e,i)}}}function ph(n){let e,t;return e=new Sn({props:{tokens:n[13].tokens,renderers:n[5]}}),{c(){Ae(e.$$.fragment)},m(r,s){ke(e,r,s),t=!0},p(r,s){const o={};s&8&&(o.tokens=r[13].tokens),s&32&&(o.renderers=r[5]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){Se(e,r)}}}function va(n){let e,t,r;var s=n[5].tablecell;function o(i){return{props:{header:!1,align:i[6].align[i[15]]||"center",$$slots:{default:[ph]},$$scope:{ctx:i}}}}return s&&(e=Ze(s,o(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(i,a){e&&ke(e,i,a),P(i,t,a),r=!0},p(i,a){const l={};if(a&64&&(l.align=i[6].align[i[15]]||"center"),a&8388648&&(l.$$scope={dirty:a,ctx:i}),s!==(s=i[5].tablecell)){if(e){Me();const c=e;N(c.$$.fragment,1,0,()=>{Se(c,1)}),$e()}s?(e=Ze(s,o(i)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else s&&e.$set(l)},i(i){r||(e&&$(e.$$.fragment,i),r=!0)},o(i){e&&N(e.$$.fragment,i),r=!1},d(i){i&&C(t),e&&Se(e,i)}}}function gh(n){let e,t,r=n[10],s=[];for(let i=0;i<r.length;i+=1)s[i]=va(ga(n,r,i));const o=i=>N(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=L()},m(i,a){for(let l=0;l<s.length;l+=1)s[l].m(i,a);P(i,e,a),t=!0},p(i,a){if(a&104){r=i[10];let l;for(l=0;l<r.length;l+=1){const c=ga(i,r,l);s[l]?(s[l].p(c,a),$(s[l],1)):(s[l]=va(c),s[l].c(),$(s[l],1),s[l].m(e.parentNode,e))}for(Me(),l=r.length;l<s.length;l+=1)o(l);$e()}},i(i){if(!t){for(let a=0;a<r.length;a+=1)$(s[a]);t=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);t=!1},d(i){_t(s,i),i&&C(e)}}}function ka(n){let e,t,r;var s=n[5].tablerow;function o(i){return{props:{$$slots:{default:[gh]},$$scope:{ctx:i}}}}return s&&(e=Ze(s,o(n))),{c(){e&&Ae(e.$$.fragment),t=Te()},m(i,a){e&&ke(e,i,a),P(i,t,a),r=!0},p(i,a){const l={};if(a&8388712&&(l.$$scope={dirty:a,ctx:i}),s!==(s=i[5].tablerow)){if(e){Me();const c=e;N(c.$$.fragment,1,0,()=>{Se(c,1)}),$e()}s?(e=Ze(s,o(i)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else s&&e.$set(l)},i(i){r||(e&&$(e.$$.fragment,i),r=!0)},o(i){e&&N(e.$$.fragment,i),r=!1},d(i){i&&C(t),e&&Se(e,i)}}}function mh(n){let e,t,r=n[3],s=[];for(let i=0;i<r.length;i+=1)s[i]=ka(pa(n,r,i));const o=i=>N(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Te()},m(i,a){for(let l=0;l<s.length;l+=1)s[l].m(i,a);P(i,e,a),t=!0},p(i,a){if(a&104){r=i[3];let l;for(l=0;l<r.length;l+=1){const c=pa(i,r,l);s[l]?(s[l].p(c,a),$(s[l],1)):(s[l]=ka(c),s[l].c(),$(s[l],1),s[l].m(e.parentNode,e))}for(Me(),l=r.length;l<s.length;l+=1)o(l);$e()}},i(i){if(!t){for(let a=0;a<r.length;a+=1)$(s[a]);t=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);t=!1},d(i){_t(s,i),i&&C(e)}}}function _h(n){let e,t,r,s,o;var i=n[5].tablehead;function a(u){return{props:{$$slots:{default:[hh]},$$scope:{ctx:u}}}}i&&(e=Ze(i,a(n)));var l=n[5].tablebody;function c(u){return{props:{$$slots:{default:[mh]},$$scope:{ctx:u}}}}return l&&(r=Ze(l,c(n))),{c(){e&&Ae(e.$$.fragment),t=L(),r&&Ae(r.$$.fragment),s=Te()},m(u,h){e&&ke(e,u,h),P(u,t,h),r&&ke(r,u,h),P(u,s,h),o=!0},p(u,h){const p={};if(h&8388708&&(p.$$scope={dirty:h,ctx:u}),i!==(i=u[5].tablehead)){if(e){Me();const y=e;N(y.$$.fragment,1,0,()=>{Se(y,1)}),$e()}i?(e=Ze(i,a(u)),Ae(e.$$.fragment),$(e.$$.fragment,1),ke(e,t.parentNode,t)):e=null}else i&&e.$set(p);const m={};if(h&8388712&&(m.$$scope={dirty:h,ctx:u}),l!==(l=u[5].tablebody)){if(r){Me();const y=r;N(y.$$.fragment,1,0,()=>{Se(y,1)}),$e()}l?(r=Ze(l,c(u)),Ae(r.$$.fragment),$(r.$$.fragment,1),ke(r,s.parentNode,s)):r=null}else l&&r.$set(m)},i(u){o||(e&&$(e.$$.fragment,u),r&&$(r.$$.fragment,u),o=!0)},o(u){e&&N(e.$$.fragment,u),r&&N(r.$$.fragment,u),o=!1},d(u){e&&Se(e,u),u&&C(t),u&&C(s),r&&Se(r,u)}}}function Sa(n){let e,t;const r=[n[7],{renderers:n[5]}];let s={};for(let o=0;o<r.length;o+=1)s=en(s,r[o]);return e=new Sn({props:s}),{c(){Ae(e.$$.fragment)},m(o,i){ke(e,o,i),t=!0},p(o,i){const a=i&34?Wn(r,[i&2&&Jn(o[7]),i&32&&{renderers:o[5]}]):{};e.$set(a)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){N(e.$$.fragment,o),t=!1},d(o){Se(e,o)}}}function bh(n){let e,t,r,s;const o=[Xf,Yf],i=[];function a(l,c){return l[0]?l[5][l[0]]?1:-1:0}return~(e=a(n))&&(t=i[e]=o[e](n)),{c(){t&&t.c(),r=Te()},m(l,c){~e&&i[e].m(l,c),P(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?~e&&i[e].p(l,c):(t&&(Me(),N(i[u],1,1,()=>{i[u]=null}),$e()),~e?(t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r)):t=null)},i(l){s||($(t),s=!0)},o(l){N(t),s=!1},d(l){~e&&i[e].d(l),l&&C(r)}}}function yh(n,e,t){const r=["type","tokens","header","rows","ordered","renderers"];let s=si(e,r),{type:o=void 0}=e,{tokens:i=void 0}=e,{header:a=void 0}=e,{rows:l=void 0}=e,{ordered:c=!1}=e,{renderers:u}=e;return Zf(),n.$$set=h=>{e=en(en({},e),pu(h)),t(6,s=si(e,r)),"type"in h&&t(0,o=h.type),"tokens"in h&&t(1,i=h.tokens),"header"in h&&t(2,a=h.header),"rows"in h&&t(3,l=h.rows),"ordered"in h&&t(4,c=h.ordered),"renderers"in h&&t(5,u=h.renderers)},[o,i,a,l,c,u,s]}let Sn=class extends Ce{constructor(e){super(),Ie(this,e,yh,bh,xe,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function qc(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Xn=qc();function wh(n){Xn=n}const Vc=/[&<>"']/,vh=new RegExp(Vc.source,"g"),Kc=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,kh=new RegExp(Kc.source,"g"),Sh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Aa=n=>Sh[n];function ut(n,e){if(e){if(Vc.test(n))return n.replace(vh,Aa)}else if(Kc.test(n))return n.replace(kh,Aa);return n}const Ah=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Gc(n){return n.replace(Ah,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Th=/(^|[^\[])\^/g;function Ke(n,e){n=typeof n=="string"?n:n.source,e=e||"";const t={replace:(r,s)=>(s=s.source||s,s=s.replace(Th,"$1"),n=n.replace(r,s),t),getRegex:()=>new RegExp(n,e)};return t}const Eh=/[^\w:]/g,xh=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ta(n,e,t){if(n){let r;try{r=decodeURIComponent(Gc(t)).replace(Eh,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!xh.test(t)&&(t=Ph(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const ir={},Rh=/^[^:]+:\/*[^/]*$/,Ih=/^([^:]+:)[\s\S]*$/,Ch=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ph(n,e){ir[" "+n]||(Rh.test(n)?ir[" "+n]=n+"/":ir[" "+n]=br(n,"/",!0)),n=ir[" "+n];const t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(Ih,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(Ch,"$1")+e:n+e}const Pr={exec:function(){}};function Dt(n){let e=1,t,r;for(;e<arguments.length;e++){t=arguments[e];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}function Ea(n,e){const t=n.replace(/\|/g,(o,i,a)=>{let l=!1,c=i;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=t.split(/ \|/);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(/\\\|/g,"|");return r}function br(n,e,t){const r=n.length;if(r===0)return"";let s=0;for(;s<r;){const o=n.charAt(r-s-1);if(o===e&&!t)s++;else if(o!==e&&t)s++;else break}return n.slice(0,r-s)}function Mh(n,e){if(n.indexOf(e[1])===-1)return-1;const t=n.length;let r=0,s=0;for(;s<t;s++)if(n[s]==="\\")s++;else if(n[s]===e[0])r++;else if(n[s]===e[1]&&(r--,r<0))return s;return-1}function Wc(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function xa(n,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=n),e>>=1,n+=n;return t+n}function Ra(n,e,t,r){const s=e.href,o=e.title?ut(e.title):null,i=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:t,href:s,title:o,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:s,title:o,text:ut(i)}}function $h(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const r=t[1];return e.split(`
`).map(s=>{const o=s.match(/^\s+/);if(o===null)return s;const[i]=o;return i.length>=r.length?s.slice(r.length):s}).join(`
`)}class jo{constructor(e){this.options=e||Xn}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:br(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],s=$h(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const s=br(r,"#");(this.options.pedantic||!s||/ $/.test(s))&&(r=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),s=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(r);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:o,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,s,o,i,a,l,c,u,h,p,m,y,b=t[1].trim();const E=b.length>1,S={type:"list",raw:"",ordered:E,start:E?+b.slice(0,-1):"",loose:!1,items:[]};b=E?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=E?b:"[*+-]");const _=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(y=!1,!(!(t=_.exec(e))||this.rules.block.hr.test(e)));){if(r=t[0],e=e.substring(r.length),u=t[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),h=e.split(`
`,1)[0],this.options.pedantic?(i=2,m=u.trimLeft()):(i=t[2].search(/[^ ]/),i=i>4?1:i,m=u.slice(i),i+=t[1].length),l=!1,!u&&/^ *$/.test(h)&&(r+=h+`
`,e=e.substring(h.length+1),y=!0),!y){const x=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),A=new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),v=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,i-1)}}#`);for(;e&&(p=e.split(`
`,1)[0],h=p,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(v.test(h)||T.test(h)||x.test(h)||A.test(e)));){if(h.search(/[^ ]/)>=i||!h.trim())m+=`
`+h.slice(i);else{if(l||u.search(/[^ ]/)>=4||v.test(u)||T.test(u)||A.test(u))break;m+=`
`+h}!l&&!h.trim()&&(l=!0),r+=p+`
`,e=e.substring(p.length+1),u=h.slice(i)}}S.loose||(c?S.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(m),s&&(o=s[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),S.items.push({type:"list_item",raw:r,task:!!s,checked:o,loose:!1,text:m}),S.raw+=r}S.items[S.items.length-1].raw=r.trimRight(),S.items[S.items.length-1].text=m.trimRight(),S.raw=S.raw.trimRight();const k=S.items.length;for(a=0;a<k;a++)if(this.lexer.state.top=!1,S.items[a].tokens=this.lexer.blockTokens(S.items[a].text,[]),!S.loose){const x=S.items[a].tokens.filter(v=>v.type==="space"),A=x.length>0&&x.some(v=>/\n.*\n/.test(v.raw));S.loose=A}if(S.loose)for(a=0;a<k;a++)S.items[a].loose=!0;return S}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const s=this.options.sanitizer?this.options.sanitizer(t[0]):ut(t[0]);r.type="paragraph",r.text=s,r.tokens=this.lexer.inline(s)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:s,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:Ea(t[1]).map(s=>({text:s})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=t[0];let s=r.align.length,o,i,a,l;for(o=0;o<s;o++)/^ *-+: *$/.test(r.align[o])?r.align[o]="right":/^ *:-+: *$/.test(r.align[o])?r.align[o]="center":/^ *:-+ *$/.test(r.align[o])?r.align[o]="left":r.align[o]=null;for(s=r.rows.length,o=0;o<s;o++)r.rows[o]=Ea(r.rows[o],r.header.length).map(c=>({text:c}));for(s=r.header.length,i=0;i<s;i++)r.header[i].tokens=this.lexer.inline(r.header[i].text);for(s=r.rows.length,i=0;i<s;i++)for(l=r.rows[i],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ut(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ut(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const i=br(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{const i=Mh(t[2],"()");if(i>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let s=t[2],o="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);i&&(s=i[1],o=i[3])}else o=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(r)?s=s.slice(1):s=s.slice(1,-1)),Ra(t,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let s=(r[2]||r[1]).replace(/\s+/g," ");if(s=t[s.toLowerCase()],!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return Ra(r,s,r[0],this.lexer)}}emStrong(e,t,r=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&r.match(/[\p{L}\p{N}]/u))return;const o=s[1]||s[2]||"";if(!o||o&&(r===""||this.rules.inline.punctuation.exec(r))){const i=s[0].length-1;let a,l,c=i,u=0;const h=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+i);(s=h.exec(t))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(l=a.length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&i%3&&!((i+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);const p=e.slice(0,i+s.index+(s[0].length-a.length)+l);if(Math.min(i,l)%2){const y=p.slice(1,-1);return{type:"em",raw:p,text:y,tokens:this.lexer.inlineTokens(y)}}const m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const s=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return s&&o&&(r=r.substring(1,r.length-1)),r=ut(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let s,o;return r[2]==="@"?(s=ut(this.options.mangle?t(r[1]):r[1]),o="mailto:"+s):(s=ut(r[1]),o=s),{type:"link",raw:r[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let s,o;if(r[2]==="@")s=ut(this.options.mangle?t(r[0]):r[0]),o="mailto:"+s;else{let i;do i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(i!==r[0]);s=ut(r[0]),r[1]==="www."?o="http://"+r[0]:o=r[0]}return{type:"link",raw:r[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):ut(r[0]):r[0]:s=ut(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:s}}}}const le={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Pr,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};le._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;le._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;le.def=Ke(le.def).replace("label",le._label).replace("title",le._title).getRegex();le.bullet=/(?:[*+-]|\d{1,9}[.)])/;le.listItemStart=Ke(/^( *)(bull) */).replace("bull",le.bullet).getRegex();le.list=Ke(le.list).replace(/bull/g,le.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+le.def.source+")").getRegex();le._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";le._comment=/\x3C!--(?!-?>)[\s\S]*?(?:-->|$)/;le.html=Ke(le.html,"i").replace("comment",le._comment).replace("tag",le._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();le.paragraph=Ke(le._paragraph).replace("hr",le.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",le._tag).getRegex();le.blockquote=Ke(le.blockquote).replace("paragraph",le.paragraph).getRegex();le.normal=Dt({},le);le.gfm=Dt({},le.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});le.gfm.table=Ke(le.gfm.table).replace("hr",le.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",le._tag).getRegex();le.gfm.paragraph=Ke(le._paragraph).replace("hr",le.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",le.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",le._tag).getRegex();le.pedantic=Dt({},le.normal,{html:Ke(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",le._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ke(le.normal._paragraph).replace("hr",le.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",le.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Q={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Pr,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Pr,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Q._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Q.punctuation=Ke(Q.punctuation).replace(/punctuation/g,Q._punctuation).getRegex();Q.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Q.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Q._comment=Ke(le._comment).replace("(?:-->|$)","-->").getRegex();Q.emStrong.lDelim=Ke(Q.emStrong.lDelim).replace(/punct/g,Q._punctuation).getRegex();Q.emStrong.rDelimAst=Ke(Q.emStrong.rDelimAst,"g").replace(/punct/g,Q._punctuation).getRegex();Q.emStrong.rDelimUnd=Ke(Q.emStrong.rDelimUnd,"g").replace(/punct/g,Q._punctuation).getRegex();Q._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Q._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Q._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Q.autolink=Ke(Q.autolink).replace("scheme",Q._scheme).replace("email",Q._email).getRegex();Q._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Q.tag=Ke(Q.tag).replace("comment",Q._comment).replace("attribute",Q._attribute).getRegex();Q._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Q._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Q._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Q.link=Ke(Q.link).replace("label",Q._label).replace("href",Q._href).replace("title",Q._title).getRegex();Q.reflink=Ke(Q.reflink).replace("label",Q._label).replace("ref",le._label).getRegex();Q.nolink=Ke(Q.nolink).replace("ref",le._label).getRegex();Q.reflinkSearch=Ke(Q.reflinkSearch,"g").replace("reflink",Q.reflink).replace("nolink",Q.nolink).getRegex();Q.normal=Dt({},Q);Q.pedantic=Dt({},Q.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ke(/^!?\[(label)\]\((.*?)\)/).replace("label",Q._label).getRegex(),reflink:Ke(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Q._label).getRegex()});Q.gfm=Dt({},Q.normal,{escape:Ke(Q.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Q.gfm.url=Ke(Q.gfm.url,"i").replace("email",Q.gfm._extended_email).getRegex();Q.breaks=Dt({},Q.gfm,{br:Ke(Q.br).replace("{2,}","*").getRegex(),text:Ke(Q.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Oh(n){return n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Ia(n){let e="",t,r;const s=n.length;for(t=0;t<s;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class Kt{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Xn,this.options.tokenizer=this.options.tokenizer||new jo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:le.normal,inline:Q.normal};this.options.pedantic?(t.block=le.pedantic,t.inline=Q.pedantic):this.options.gfm&&(t.block=le.gfm,this.options.breaks?t.inline=Q.breaks:t.inline=Q.gfm),this.tokenizer.rules=t}static get rules(){return{block:le,inline:Q}}static lex(e,t){return new Kt(t).lex(e)}static lexInline(e,t){return new Kt(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let r,s,o,i;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){s=t[t.length-1],i&&s.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r),i=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,s,o,i=e,a,l,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,a.index)+"["+xa("a",a[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,a.index)+"["+xa("a",a[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(i))!=null;)i=i.slice(0,a.index+a[0].length-2)+"++"+i.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),s=t[t.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,i,c)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,Ia)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Ia))){e=e.substring(r.raw.length),t.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const h=e.slice(1);let p;this.options.extensions.startInline.forEach(function(m){p=m.call({lexer:this},h),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(o=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(o,Oh)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),l=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):t.push(r);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class Bo{constructor(e){this.options=e||Xn}code(e,t,r){const s=(t||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(e,s);o!=null&&o!==e&&(r=!0,e=o)}return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+ut(s)+'">'+(r?e:ut(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:ut(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,r,s){if(this.options.headerIds){const o=this.options.headerPrefix+s.slug(r);return`<h${t} id="${o}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,r){const s=t?"ol":"ul",o=t&&r!==1?' start="'+r+'"':"";return"<"+s+o+`>
`+e+"</"+s+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(e=Ta(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+r+"</a>",s}image(e,t,r){if(e=Ta(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let s=`<img src="${e}" alt="${r}"`;return t&&(s+=` title="${t}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class Jc{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Ho{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,s=0;if(this.seen.hasOwnProperty(r)){s=this.seen[e];do s++,r=e+"-"+s;while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=s,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class qt{constructor(e){this.options=e||Xn,this.options.renderer=this.options.renderer||new Bo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Jc,this.slugger=new Ho}static parse(e,t){return new qt(t).parse(e)}static parseInline(e,t){return new qt(t).parseInline(e)}parse(e,t=!0){let r="",s,o,i,a,l,c,u,h,p,m,y,b,E,S,_,k,x,A,v;const T=e.length;for(s=0;s<T;s++){if(m=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[m.type]&&(v=this.options.extensions.renderers[m.type].call({parser:this},m),v!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type))){r+=v||"";continue}switch(m.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(m.tokens),m.depth,Gc(this.parseInline(m.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(m.text,m.lang,m.escaped);continue}case"table":{for(h="",u="",a=m.header.length,o=0;o<a;o++)u+=this.renderer.tablecell(this.parseInline(m.header[o].tokens),{header:!0,align:m.align[o]});for(h+=this.renderer.tablerow(u),p="",a=m.rows.length,o=0;o<a;o++){for(c=m.rows[o],u="",l=c.length,i=0;i<l;i++)u+=this.renderer.tablecell(this.parseInline(c[i].tokens),{header:!1,align:m.align[i]});p+=this.renderer.tablerow(u)}r+=this.renderer.table(h,p);continue}case"blockquote":{p=this.parse(m.tokens),r+=this.renderer.blockquote(p);continue}case"list":{for(y=m.ordered,b=m.start,E=m.loose,a=m.items.length,p="",o=0;o<a;o++)_=m.items[o],k=_.checked,x=_.task,S="",_.task&&(A=this.renderer.checkbox(k),E?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=A+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=A+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:A}):S+=A),S+=this.parse(_.tokens,E),p+=this.renderer.listitem(S,x,k);r+=this.renderer.list(p,y,b);continue}case"html":{r+=this.renderer.html(m.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(m.tokens));continue}case"text":{for(p=m.tokens?this.parseInline(m.tokens):m.text;s+1<T&&e[s+1].type==="text";)m=e[++s],p+=`
`+(m.tokens?this.parseInline(m.tokens):m.text);r+=t?this.renderer.paragraph(p):p;continue}default:{const w='Token with "'+m.type+'" type was not found.';if(this.options.silent){console.error(w);return}else throw new Error(w)}}}return r}parseInline(e,t){t=t||this.renderer;let r="",s,o,i;const a=e.length;for(s=0;s<a;s++){if(o=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(i=this.options.extensions.renderers[o.type].call({parser:this},o),i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){r+=i||"";continue}switch(o.type){case"escape":{r+=t.text(o.text);break}case"html":{r+=t.html(o.text);break}case"link":{r+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{r+=t.image(o.href,o.title,o.text);break}case"strong":{r+=t.strong(this.parseInline(o.tokens,t));break}case"em":{r+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{r+=t.codespan(o.text);break}case"br":{r+=t.br();break}case"del":{r+=t.del(this.parseInline(o.tokens,t));break}case"text":{r+=t.text(o.text);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return r}}function fe(n,e,t){if(typeof n>"u"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=Dt({},fe.defaults,e||{}),Wc(e),t){const s=e.highlight;let o;try{o=Kt.lex(n,e)}catch(l){return t(l)}const i=function(l){let c;if(!l)try{e.walkTokens&&fe.walkTokens(o,e.walkTokens),c=qt.parse(o,e)}catch(u){l=u}return e.highlight=s,l?t(l):t(null,c)};if(!s||s.length<3||(delete e.highlight,!o.length))return i();let a=0;fe.walkTokens(o,function(l){l.type==="code"&&(a++,setTimeout(()=>{s(l.text,l.lang,function(c,u){if(c)return i(c);u!=null&&u!==l.text&&(l.text=u,l.escaped=!0),a--,a===0&&i()})},0))}),a===0&&i();return}function r(s){if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+ut(s.message+"",!0)+"</pre>";throw s}try{const s=Kt.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(fe.walkTokens(s,e.walkTokens)).then(()=>qt.parse(s,e)).catch(r);fe.walkTokens(s,e.walkTokens)}return qt.parse(s,e)}catch(s){r(s)}}fe.options=fe.setOptions=function(n){return Dt(fe.defaults,n),wh(fe.defaults),fe};fe.getDefaults=qc;fe.defaults=Xn;fe.use=function(...n){const e=fe.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=Dt({},t);if(r.async=fe.defaults.async||r.async,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const o=e.renderers[s.name];o?e.renderers[s.name]=function(...i){let a=s.renderer.apply(this,i);return a===!1&&(a=o.apply(this,i)),a}:e.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[s.level]?e[s.level].unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),t.renderer){const s=fe.defaults.renderer||new Bo;for(const o in t.renderer){const i=s[o];s[o]=(...a)=>{let l=t.renderer[o].apply(s,a);return l===!1&&(l=i.apply(s,a)),l}}r.renderer=s}if(t.tokenizer){const s=fe.defaults.tokenizer||new jo;for(const o in t.tokenizer){const i=s[o];s[o]=(...a)=>{let l=t.tokenizer[o].apply(s,a);return l===!1&&(l=i.apply(s,a)),l}}r.tokenizer=s}if(t.walkTokens){const s=fe.defaults.walkTokens;r.walkTokens=function(o){let i=[];return i.push(t.walkTokens.call(this,o)),s&&(i=i.concat(s.call(this,o))),i}}fe.setOptions(r)})};fe.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(fe,r)),r.type){case"table":{for(const s of r.header)t=t.concat(fe.walkTokens(s.tokens,e));for(const s of r.rows)for(const o of s)t=t.concat(fe.walkTokens(o.tokens,e));break}case"list":{t=t.concat(fe.walkTokens(r.items,e));break}default:fe.defaults.extensions&&fe.defaults.extensions.childTokens&&fe.defaults.extensions.childTokens[r.type]?fe.defaults.extensions.childTokens[r.type].forEach(function(s){t=t.concat(fe.walkTokens(r[s],e))}):r.tokens&&(t=t.concat(fe.walkTokens(r.tokens,e)))}return t};fe.parseInline=function(n,e){if(typeof n>"u"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");e=Dt({},fe.defaults,e||{}),Wc(e);try{const t=Kt.lexInline(n,e);return e.walkTokens&&fe.walkTokens(t,e.walkTokens),qt.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+ut(t.message+"",!0)+"</pre>";throw t}};fe.Parser=qt;fe.parser=qt.parse;fe.Renderer=Bo;fe.TextRenderer=Jc;fe.Lexer=Kt;fe.lexer=Kt.lex;fe.Tokenizer=jo;fe.Slugger=Ho;fe.parse=fe;fe.options;fe.setOptions;fe.use;fe.walkTokens;fe.parseInline;qt.parse;Kt.lex;const Zc={};function Lh(n){let e;return{c(){e=X(n[1])},m(t,r){P(t,e,r)},p(t,r){r&2&&_e(e,t[1])},i:se,o:se,d(t){t&&C(e)}}}function Dh(n){let e,t;const r=n[5].default,s=Ne(r,n,n[4],null);return{c(){e=g("h6"),s&&s.c(),d(e,"id",n[2])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&16)&&Be(s,r,o,o[4],t?je(r,o[4],i,null):He(o[4]),null),(!t||i&4)&&d(e,"id",o[2])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Fh(n){let e,t;const r=n[5].default,s=Ne(r,n,n[4],null);return{c(){e=g("h5"),s&&s.c(),d(e,"id",n[2])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&16)&&Be(s,r,o,o[4],t?je(r,o[4],i,null):He(o[4]),null),(!t||i&4)&&d(e,"id",o[2])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Nh(n){let e,t;const r=n[5].default,s=Ne(r,n,n[4],null);return{c(){e=g("h4"),s&&s.c(),d(e,"id",n[2])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&16)&&Be(s,r,o,o[4],t?je(r,o[4],i,null):He(o[4]),null),(!t||i&4)&&d(e,"id",o[2])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function jh(n){let e,t;const r=n[5].default,s=Ne(r,n,n[4],null);return{c(){e=g("h3"),s&&s.c(),d(e,"id",n[2])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&16)&&Be(s,r,o,o[4],t?je(r,o[4],i,null):He(o[4]),null),(!t||i&4)&&d(e,"id",o[2])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Bh(n){let e,t;const r=n[5].default,s=Ne(r,n,n[4],null);return{c(){e=g("h2"),s&&s.c(),d(e,"id",n[2])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&16)&&Be(s,r,o,o[4],t?je(r,o[4],i,null):He(o[4]),null),(!t||i&4)&&d(e,"id",o[2])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Hh(n){let e,t;const r=n[5].default,s=Ne(r,n,n[4],null);return{c(){e=g("h1"),s&&s.c(),d(e,"id",n[2])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&16)&&Be(s,r,o,o[4],t?je(r,o[4],i,null):He(o[4]),null),(!t||i&4)&&d(e,"id",o[2])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function zh(n){let e,t,r,s;const o=[Hh,Bh,jh,Nh,Fh,Dh,Lh],i=[];function a(l,c){return l[0]===1?0:l[0]===2?1:l[0]===3?2:l[0]===4?3:l[0]===5?4:l[0]===6?5:6}return e=a(n),t=i[e]=o[e](n),{c(){t.c(),r=Te()},m(l,c){i[e].m(l,c),P(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?i[e].p(l,c):(Me(),N(i[u],1,1,()=>{i[u]=null}),$e(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){s||($(t),s=!0)},o(l){N(t),s=!1},d(l){i[e].d(l),l&&C(r)}}}function Uh(n,e,t){let r,{$$slots:s={},$$scope:o}=e,{depth:i}=e,{raw:a}=e,{text:l}=e;const{slug:c,getOptions:u}=vu(Zc),h=u();return n.$$set=p=>{"depth"in p&&t(0,i=p.depth),"raw"in p&&t(1,a=p.raw),"text"in p&&t(3,l=p.text),"$$scope"in p&&t(4,o=p.$$scope)},n.$$.update=()=>{n.$$.dirty&8&&t(2,r=h.headerIds?h.headerPrefix+c(l):void 0)},[i,a,r,l,o,s]}class qh extends Ce{constructor(e){super(),Ie(this,e,Uh,zh,xe,{depth:0,raw:1,text:3})}}function Vh(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("p"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Kh(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}let Gh=class extends Ce{constructor(e){super(),Ie(this,e,Kh,Vh,xe,{})}};function Wh(n){let e;const t=n[3].default,r=Ne(t,n,n[2],null);return{c(){r&&r.c()},m(s,o){r&&r.m(s,o),e=!0},p(s,[o]){r&&r.p&&(!e||o&4)&&Be(r,t,s,s[2],e?je(t,s[2],o,null):He(s[2]),null)},i(s){e||($(r,s),e=!0)},o(s){N(r,s),e=!1},d(s){r&&r.d(s)}}}function Jh(n,e,t){let{$$slots:r={},$$scope:s}=e,{text:o}=e,{raw:i}=e;return n.$$set=a=>{"text"in a&&t(0,o=a.text),"raw"in a&&t(1,i=a.raw),"$$scope"in a&&t(2,s=a.$$scope)},[o,i,s,r]}class Zh extends Ce{constructor(e){super(),Ie(this,e,Jh,Wh,xe,{text:0,raw:1})}}function Yh(n){let e,t;return{c(){e=g("img"),Ye(e.src,t=n[0])||d(e,"src",t),d(e,"title",n[1]),d(e,"alt",n[2])},m(r,s){P(r,e,s)},p(r,[s]){s&1&&!Ye(e.src,t=r[0])&&d(e,"src",t),s&2&&d(e,"title",r[1]),s&4&&d(e,"alt",r[2])},i:se,o:se,d(r){r&&C(e)}}}function Xh(n,e,t){let{href:r=""}=e,{title:s=void 0}=e,{text:o=""}=e;return n.$$set=i=>{"href"in i&&t(0,r=i.href),"title"in i&&t(1,s=i.title),"text"in i&&t(2,o=i.text)},[r,s,o]}class Qh extends Ce{constructor(e){super(),Ie(this,e,Xh,Yh,xe,{href:0,title:1,text:2})}}function ep(n){let e,t;const r=n[3].default,s=Ne(r,n,n[2],null);return{c(){e=g("a"),s&&s.c(),d(e,"href",n[0]),d(e,"title",n[1])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&4)&&Be(s,r,o,o[2],t?je(r,o[2],i,null):He(o[2]),null),(!t||i&1)&&d(e,"href",o[0]),(!t||i&2)&&d(e,"title",o[1])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function tp(n,e,t){let{$$slots:r={},$$scope:s}=e,{href:o=""}=e,{title:i=void 0}=e;return n.$$set=a=>{"href"in a&&t(0,o=a.href),"title"in a&&t(1,i=a.title),"$$scope"in a&&t(2,s=a.$$scope)},[o,i,s,r]}class np extends Ce{constructor(e){super(),Ie(this,e,tp,ep,xe,{href:0,title:1})}}function sp(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("em"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function rp(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}let op=class extends Ce{constructor(e){super(),Ie(this,e,rp,sp,xe,{})}};function ip(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("del"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function ap(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class lp extends Ce{constructor(e){super(),Ie(this,e,ap,ip,xe,{})}}function cp(n){let e,t=n[0].replace(/`/g,"")+"",r;return{c(){e=g("code"),r=X(t)},m(s,o){P(s,e,o),f(e,r)},p(s,[o]){o&1&&t!==(t=s[0].replace(/`/g,"")+"")&&_e(r,t)},i:se,o:se,d(s){s&&C(e)}}}function up(n,e,t){let{raw:r}=e;return n.$$set=s=>{"raw"in s&&t(0,r=s.raw)},[r]}class dp extends Ce{constructor(e){super(),Ie(this,e,up,cp,xe,{raw:0})}}function fp(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("strong"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function hp(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class pp extends Ce{constructor(e){super(),Ie(this,e,hp,fp,xe,{})}}function gp(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("table"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function mp(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class _p extends Ce{constructor(e){super(),Ie(this,e,mp,gp,xe,{})}}function bp(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("thead"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function yp(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class wp extends Ce{constructor(e){super(),Ie(this,e,yp,bp,xe,{})}}function vp(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("tbody"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function kp(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class Sp extends Ce{constructor(e){super(),Ie(this,e,kp,vp,xe,{})}}function Ap(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("tr"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Tp(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class Ep extends Ce{constructor(e){super(),Ie(this,e,Tp,Ap,xe,{})}}function xp(n){let e,t;const r=n[3].default,s=Ne(r,n,n[2],null);return{c(){e=g("td"),s&&s.c(),d(e,"align",n[1])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&4)&&Be(s,r,o,o[2],t?je(r,o[2],i,null):He(o[2]),null),(!t||i&2)&&d(e,"align",o[1])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Rp(n){let e,t;const r=n[3].default,s=Ne(r,n,n[2],null);return{c(){e=g("th"),s&&s.c(),d(e,"align",n[1])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&4)&&Be(s,r,o,o[2],t?je(r,o[2],i,null):He(o[2]),null),(!t||i&2)&&d(e,"align",o[1])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Ip(n){let e,t,r,s;const o=[Rp,xp],i=[];function a(l,c){return l[0]?0:1}return e=a(n),t=i[e]=o[e](n),{c(){t.c(),r=Te()},m(l,c){i[e].m(l,c),P(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?i[e].p(l,c):(Me(),N(i[u],1,1,()=>{i[u]=null}),$e(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){s||($(t),s=!0)},o(l){N(t),s=!1},d(l){i[e].d(l),l&&C(r)}}}function Cp(n,e,t){let{$$slots:r={},$$scope:s}=e,{header:o}=e,{align:i}=e;return n.$$set=a=>{"header"in a&&t(0,o=a.header),"align"in a&&t(1,i=a.align),"$$scope"in a&&t(2,s=a.$$scope)},[o,i,s,r]}class Pp extends Ce{constructor(e){super(),Ie(this,e,Cp,Ip,xe,{header:0,align:1})}}function Mp(n){let e,t;const r=n[3].default,s=Ne(r,n,n[2],null);return{c(){e=g("ul"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&4)&&Be(s,r,o,o[2],t?je(r,o[2],i,null):He(o[2]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function $p(n){let e,t;const r=n[3].default,s=Ne(r,n,n[2],null);return{c(){e=g("ol"),s&&s.c(),d(e,"start",n[1])},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&4)&&Be(s,r,o,o[2],t?je(r,o[2],i,null):He(o[2]),null),(!t||i&2)&&d(e,"start",o[1])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Op(n){let e,t,r,s;const o=[$p,Mp],i=[];function a(l,c){return l[0]?0:1}return e=a(n),t=i[e]=o[e](n),{c(){t.c(),r=Te()},m(l,c){i[e].m(l,c),P(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?i[e].p(l,c):(Me(),N(i[u],1,1,()=>{i[u]=null}),$e(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){s||($(t),s=!0)},o(l){N(t),s=!1},d(l){i[e].d(l),l&&C(r)}}}function Lp(n,e,t){let{$$slots:r={},$$scope:s}=e,{ordered:o}=e,{start:i}=e;return n.$$set=a=>{"ordered"in a&&t(0,o=a.ordered),"start"in a&&t(1,i=a.start),"$$scope"in a&&t(2,s=a.$$scope)},[o,i,s,r]}class Dp extends Ce{constructor(e){super(),Ie(this,e,Lp,Op,xe,{ordered:0,start:1})}}function Fp(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("li"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Np(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}let jp=class extends Ce{constructor(e){super(),Ie(this,e,Np,Fp,xe,{})}};function Bp(n){let e;return{c(){e=g("hr")},m(t,r){P(t,e,r)},p:se,i:se,o:se,d(t){t&&C(e)}}}class Hp extends Ce{constructor(e){super(),Ie(this,e,null,Bp,xe,{})}}function zp(n){let e,t;return{c(){e=new bu(!1),t=Te(),e.a=t},m(r,s){e.m(n[0],r,s),P(r,t,s)},p(r,[s]){s&1&&e.p(r[0])},i:se,o:se,d(r){r&&C(t),r&&e.d()}}}function Up(n,e,t){let{text:r}=e;return n.$$set=s=>{"text"in s&&t(0,r=s.text)},[r]}let qp=class extends Ce{constructor(e){super(),Ie(this,e,Up,zp,xe,{text:0})}};function Vp(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("blockquote"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Kp(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class Gp extends Ce{constructor(e){super(),Ie(this,e,Kp,Vp,xe,{})}}function Wp(n){let e,t,r;return{c(){e=g("pre"),t=g("code"),r=X(n[1]),d(e,"class",n[0])},m(s,o){P(s,e,o),f(e,t),f(t,r)},p(s,[o]){o&2&&_e(r,s[1]),o&1&&d(e,"class",s[0])},i:se,o:se,d(s){s&&C(e)}}}function Jp(n,e,t){let{lang:r}=e,{text:s}=e;return n.$$set=o=>{"lang"in o&&t(0,r=o.lang),"text"in o&&t(1,s=o.text)},[r,s]}let Zp=class extends Ce{constructor(e){super(),Ie(this,e,Jp,Wp,xe,{lang:0,text:1})}};function Yp(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("br"),s&&s.c()},m(o,i){P(o,e,i),s&&s.m(o,i),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Xp(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class Qp extends Ce{constructor(e){super(),Ie(this,e,Xp,Yp,xe,{})}}const eg={heading:qh,paragraph:Gh,text:Zh,image:Qh,link:np,em:op,strong:pp,codespan:dp,del:lp,table:_p,tablehead:wp,tablebody:Sp,tablerow:Ep,tablecell:Pp,list:Dp,orderedlistitem:null,unorderedlistitem:null,listitem:jp,hr:Hp,html:qp,blockquote:Gp,code:Zp,br:Qp},tg={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function ng(n){let e,t;return e=new Sn({props:{tokens:n[0],renderers:n[1]}}),{c(){Ae(e.$$.fragment)},m(r,s){ke(e,r,s),t=!0},p(r,[s]){const o={};s&1&&(o.tokens=r[0]),s&2&&(o.renderers=r[1]),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){Se(e,r)}}}function sg(n,e,t){let r,s,o,i,{source:a=[]}=e,{renderers:l={}}=e,{options:c={}}=e,{isInline:u=!1}=e;const h=Gn();let p,m,y;return wu(Zc,{slug:b=>s?s.slug(b):"",getOptions:()=>o}),Or(()=>{t(7,y=!0)}),n.$$set=b=>{"source"in b&&t(2,a=b.source),"renderers"in b&&t(3,l=b.renderers),"options"in b&&t(4,c=b.options),"isInline"in b&&t(5,u=b.isInline)},n.$$.update=()=>{n.$$.dirty&4&&t(8,r=Array.isArray(a)),n.$$.dirty&4&&(s=a?new Ho:void 0),n.$$.dirty&16&&t(9,o={...tg,...c}),n.$$.dirty&869&&(r?t(0,p=a):(t(6,m=new Kt(o)),t(0,p=u?m.inlineTokens(a):m.lex(a)),h("parsed",{tokens:p}))),n.$$.dirty&8&&t(1,i={...eg,...l}),n.$$.dirty&385&&y&&!r&&h("parsed",{tokens:p})},[p,i,a,l,c,u,m,y,r,o]}class rg extends Ce{constructor(e){super(),Ie(this,e,sg,ng,xe,{source:2,renderers:3,options:4,isInline:5})}}var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function og(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yc={exports:{}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(r){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,i={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function _(k){return k instanceof l?new l(k.type,_(k.content),k.alias):Array.isArray(k)?k.map(_):k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(_){return Object.prototype.toString.call(_).slice(8,-1)},objId:function(_){return _.__id||Object.defineProperty(_,"__id",{value:++o}),_.__id},clone:function _(k,x){x=x||{};var A,v;switch(a.util.type(k)){case"Object":if(v=a.util.objId(k),x[v])return x[v];A={},x[v]=A;for(var T in k)k.hasOwnProperty(T)&&(A[T]=_(k[T],x));return A;case"Array":return v=a.util.objId(k),x[v]?x[v]:(A=[],x[v]=A,k.forEach(function(w,R){A[R]=_(w,x)}),A);default:return k}},getLanguage:function(_){for(;_;){var k=s.exec(_.className);if(k)return k[1].toLowerCase();_=_.parentElement}return"none"},setLanguage:function(_,k){_.className=_.className.replace(RegExp(s,"gi"),""),_.classList.add("language-"+k)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(A){var _=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(A.stack)||[])[1];if(_){var k=document.getElementsByTagName("script");for(var x in k)if(k[x].src==_)return k[x]}return null}},isActive:function(_,k,x){for(var A="no-"+k;_;){var v=_.classList;if(v.contains(k))return!0;if(v.contains(A))return!1;_=_.parentElement}return!!x}},languages:{plain:i,plaintext:i,text:i,txt:i,extend:function(_,k){var x=a.util.clone(a.languages[_]);for(var A in k)x[A]=k[A];return x},insertBefore:function(_,k,x,A){A=A||a.languages;var v=A[_],T={};for(var w in v)if(v.hasOwnProperty(w)){if(w==k)for(var R in x)x.hasOwnProperty(R)&&(T[R]=x[R]);x.hasOwnProperty(w)||(T[w]=v[w])}var I=A[_];return A[_]=T,a.languages.DFS(a.languages,function(B,j){j===I&&B!=_&&(this[B]=T)}),T},DFS:function _(k,x,A,v){v=v||{};var T=a.util.objId;for(var w in k)if(k.hasOwnProperty(w)){x.call(k,w,k[w],A||w);var R=k[w],I=a.util.type(R);I==="Object"&&!v[T(R)]?(v[T(R)]=!0,_(R,x,null,v)):I==="Array"&&!v[T(R)]&&(v[T(R)]=!0,_(R,x,w,v))}}},plugins:{},highlightAll:function(_,k){a.highlightAllUnder(document,_,k)},highlightAllUnder:function(_,k,x){var A={callback:x,container:_,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",A),A.elements=Array.prototype.slice.apply(A.container.querySelectorAll(A.selector)),a.hooks.run("before-all-elements-highlight",A);for(var v=0,T;T=A.elements[v++];)a.highlightElement(T,k===!0,A.callback)},highlightElement:function(_,k,x){var A=a.util.getLanguage(_),v=a.languages[A];a.util.setLanguage(_,A);var T=_.parentElement;T&&T.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(T,A);var w=_.textContent,R={element:_,language:A,grammar:v,code:w};function I(j){R.highlightedCode=j,a.hooks.run("before-insert",R),R.element.innerHTML=R.highlightedCode,a.hooks.run("after-highlight",R),a.hooks.run("complete",R),x&&x.call(R.element)}if(a.hooks.run("before-sanity-check",R),T=R.element.parentElement,T&&T.nodeName.toLowerCase()==="pre"&&!T.hasAttribute("tabindex")&&T.setAttribute("tabindex","0"),!R.code){a.hooks.run("complete",R),x&&x.call(R.element);return}if(a.hooks.run("before-highlight",R),!R.grammar){I(a.util.encode(R.code));return}if(k&&r.Worker){var B=new Worker(a.filename);B.onmessage=function(j){I(j.data)},B.postMessage(JSON.stringify({language:R.language,code:R.code,immediateClose:!0}))}else I(a.highlight(R.code,R.grammar,R.language))},highlight:function(_,k,x){var A={code:_,grammar:k,language:x};if(a.hooks.run("before-tokenize",A),!A.grammar)throw new Error('The language "'+A.language+'" has no grammar.');return A.tokens=a.tokenize(A.code,A.grammar),a.hooks.run("after-tokenize",A),l.stringify(a.util.encode(A.tokens),A.language)},tokenize:function(_,k){var x=k.rest;if(x){for(var A in x)k[A]=x[A];delete k.rest}var v=new h;return p(v,v.head,_),u(_,v,k,v.head,0),y(v)},hooks:{all:{},add:function(_,k){var x=a.hooks.all;x[_]=x[_]||[],x[_].push(k)},run:function(_,k){var x=a.hooks.all[_];if(!(!x||!x.length))for(var A=0,v;v=x[A++];)v(k)}},Token:l};r.Prism=a;function l(_,k,x,A){this.type=_,this.content=k,this.alias=x,this.length=(A||"").length|0}l.stringify=function _(k,x){if(typeof k=="string")return k;if(Array.isArray(k)){var A="";return k.forEach(function(I){A+=_(I,x)}),A}var v={type:k.type,content:_(k.content,x),tag:"span",classes:["token",k.type],attributes:{},language:x},T=k.alias;T&&(Array.isArray(T)?Array.prototype.push.apply(v.classes,T):v.classes.push(T)),a.hooks.run("wrap",v);var w="";for(var R in v.attributes)w+=" "+R+'="'+(v.attributes[R]||"").replace(/"/g,"&quot;")+'"';return"<"+v.tag+' class="'+v.classes.join(" ")+'"'+w+">"+v.content+"</"+v.tag+">"};function c(_,k,x,A){_.lastIndex=k;var v=_.exec(x);if(v&&A&&v[1]){var T=v[1].length;v.index+=T,v[0]=v[0].slice(T)}return v}function u(_,k,x,A,v,T){for(var w in x)if(!(!x.hasOwnProperty(w)||!x[w])){var R=x[w];R=Array.isArray(R)?R:[R];for(var I=0;I<R.length;++I){if(T&&T.cause==w+","+I)return;var B=R[I],j=B.inside,H=!!B.lookbehind,G=!!B.greedy,Z=B.alias;if(G&&!B.pattern.global){var V=B.pattern.toString().match(/[imsuy]*$/)[0];B.pattern=RegExp(B.pattern.source,V+"g")}for(var J=B.pattern||B,z=A.next,F=v;z!==k.tail&&!(T&&F>=T.reach);F+=z.value.length,z=z.next){var Y=z.value;if(k.length>_.length)return;if(!(Y instanceof l)){var te=1,ue;if(G){if(ue=c(J,F,_,H),!ue||ue.index>=_.length)break;var K=ue.index,ye=ue.index+ue[0].length,Pe=F;for(Pe+=z.value.length;K>=Pe;)z=z.next,Pe+=z.value.length;if(Pe-=z.value.length,F=Pe,z.value instanceof l)continue;for(var me=z;me!==k.tail&&(Pe<ye||typeof me.value=="string");me=me.next)te++,Pe+=me.value.length;te--,Y=_.slice(F,Pe),ue.index-=F}else if(ue=c(J,0,Y,H),!ue)continue;var K=ue.index,he=ue[0],Oe=Y.slice(0,K),we=Y.slice(K+he.length),ze=F+Y.length;T&&ze>T.reach&&(T.reach=ze);var Ee=z.prev;Oe&&(Ee=p(k,Ee,Oe),F+=Oe.length),m(k,Ee,te);var it=new l(w,j?a.tokenize(he,j):he,Z,he);if(z=p(k,Ee,it),we&&p(k,z,we),te>1){var At={cause:w+","+I,reach:ze};u(_,k,x,z.prev,F,At),T&&At.reach>T.reach&&(T.reach=At.reach)}}}}}}function h(){var _={value:null,prev:null,next:null},k={value:null,prev:_,next:null};_.next=k,this.head=_,this.tail=k,this.length=0}function p(_,k,x){var A=k.next,v={value:x,prev:k,next:A};return k.next=v,A.prev=v,_.length++,v}function m(_,k,x){for(var A=k.next,v=0;v<x&&A!==_.tail;v++)A=A.next;k.next=A,A.prev=k,_.length-=v}function y(_){for(var k=[],x=_.head.next;x!==_.tail;)k.push(x.value),x=x.next;return k}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(_){var k=JSON.parse(_.data),x=k.language,A=k.code,v=k.immediateClose;r.postMessage(a.highlight(A,a.languages[x],x)),v&&r.close()},!1)),a;var b=a.util.currentScript();b&&(a.filename=b.src,b.hasAttribute("data-manual")&&(a.manual=!0));function E(){a.manual||a.highlightAll()}if(!a.manual){var S=document.readyState;S==="loading"||S==="interactive"&&b&&b.defer?document.addEventListener("DOMContentLoaded",E):window.requestAnimationFrame?window.requestAnimationFrame(E):window.setTimeout(E,16)}return a}(e);n.exports&&(n.exports=t),typeof Ca<"u"&&(Ca.Prism=t),t.languages.markup={comment:{pattern:/\x3C!--(?:(?!\x3C!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|\x3C!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(s,o){var i={};i["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[o]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};a["language-"+o]={pattern:/[\s\S]+/,inside:t.languages[o]};var l={};l[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:a},t.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(r,s){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:t.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(r){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var o=r.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",s=function(b,E){return"✖ Error "+b+" while fetching file: "+E},o="✖ Error: File does not exist or is empty",i={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",c="loaded",u="failed",h="pre[data-src]:not(["+a+'="'+c+'"]):not(['+a+'="'+l+'"])';function p(b,E,S){var _=new XMLHttpRequest;_.open("GET",b,!0),_.onreadystatechange=function(){_.readyState==4&&(_.status<400&&_.responseText?E(_.responseText):_.status>=400?S(s(_.status,_.statusText)):S(o))},_.send(null)}function m(b){var E=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(b||"");if(E){var S=Number(E[1]),_=E[2],k=E[3];return _?k?[S,Number(k)]:[S,void 0]:[S,S]}}t.hooks.add("before-highlightall",function(b){b.selector+=", "+h}),t.hooks.add("before-sanity-check",function(b){var E=b.element;if(E.matches(h)){b.code="",E.setAttribute(a,l);var S=E.appendChild(document.createElement("CODE"));S.textContent=r;var _=E.getAttribute("data-src"),k=b.language;if(k==="none"){var x=(/\.(\w+)$/.exec(_)||[,"none"])[1];k=i[x]||x}t.util.setLanguage(S,k),t.util.setLanguage(E,k);var A=t.plugins.autoloader;A&&A.loadLanguages(k),p(_,function(v){E.setAttribute(a,c);var T=m(E.getAttribute("data-range"));if(T){var w=v.split(/\r\n?|\n/g),R=T[0],I=T[1]==null?w.length:T[1];R<0&&(R+=w.length),R=Math.max(0,Math.min(R-1,w.length)),I<0&&(I+=w.length),I=Math.max(0,Math.min(I,w.length)),v=w.slice(R,I).join(`
`),E.hasAttribute("data-start")||E.setAttribute("data-start",String(R+1))}S.textContent=v,t.highlightElement(S)},function(v){E.setAttribute(a,u),S.textContent=v})}}),t.plugins.fileHighlight={highlight:function(E){for(var S=(E||document).querySelectorAll(h),_=0,k;k=S[_++];)t.highlightElement(k)}};var y=!1;t.fileHighlight=function(){y||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),y=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Yc);var ig=Yc.exports;const ro=og(ig);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var e=n.languages.extend("typescript",{});delete e["class-name"],n.languages.typescript["class-name"].inside=e,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),n.languages.ts=n.languages.typescript})(Prism);(function(n){var e=n.util.clone(n.languages.javascript),t=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,r=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,s=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(l,c){return l=l.replace(/<S>/g,function(){return t}).replace(/<BRACES>/g,function(){return r}).replace(/<SPREAD>/g,function(){return s}),RegExp(l,c)}s=o(s).source,n.languages.jsx=n.languages.extend("markup",e),n.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),n.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,n.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,n.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,n.languages.jsx.tag.inside.comment=e.comment,n.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:n.languages.jsx}},n.languages.jsx.tag),n.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:n.languages.jsx}}},n.languages.jsx.tag);var i=function(l){return l?typeof l=="string"?l:typeof l.content=="string"?l.content:l.content.map(i).join(""):""},a=function(l){for(var c=[],u=0;u<l.length;u++){var h=l[u],p=!1;if(typeof h!="string"&&(h.type==="tag"&&h.content[0]&&h.content[0].type==="tag"?h.content[0].content[0].content==="</"?c.length>0&&c[c.length-1].tagName===i(h.content[0].content[1])&&c.pop():h.content[h.content.length-1].content==="/>"||c.push({tagName:i(h.content[0].content[1]),openedBraces:0}):c.length>0&&h.type==="punctuation"&&h.content==="{"?c[c.length-1].openedBraces++:c.length>0&&c[c.length-1].openedBraces>0&&h.type==="punctuation"&&h.content==="}"?c[c.length-1].openedBraces--:p=!0),(p||typeof h=="string")&&c.length>0&&c[c.length-1].openedBraces===0){var m=i(h);u<l.length-1&&(typeof l[u+1]=="string"||l[u+1].type==="plain-text")&&(m+=i(l[u+1]),l.splice(u+1,1)),u>0&&(typeof l[u-1]=="string"||l[u-1].type==="plain-text")&&(m=i(l[u-1])+m,l.splice(u-1,1),u--),l[u]=new n.Token("plain-text",m,null,m)}h.content&&typeof h.content!="string"&&a(h.content)}};n.hooks.add("after-tokenize",function(l){l.language!=="jsx"&&l.language!=="tsx"||a(l.tokens)})})(Prism);(function(n){var e=n.util.clone(n.languages.typescript);n.languages.tsx=n.languages.extend("jsx",e),delete n.languages.tsx.parameter,delete n.languages.tsx["literal-property"];var t=n.languages.tsx.tag;t.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+t.pattern.source+")",t.pattern.flags),t.lookbehind=!0})(Prism);Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(Prism);Prism.languages.markup={comment:{pattern:/\x3C!--(?:(?!\x3C!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|\x3C!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};s["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:s},Prism.languages.insertBefore("markup","cdata",o)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){n.languages.ruby=n.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),n.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var e={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete n.languages.ruby.function;var t="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",r=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;n.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+t+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+r),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+r+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),n.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+t),greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+t),greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete n.languages.ruby.string,n.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),n.languages.rb=n.languages.ruby})(Prism);(function(n){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",t={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:t,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};n.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:t}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},t.inside=n.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,i=0;i<s.length;i++)o[s[i]]=n.languages.bash[s[i]];n.languages.sh=n.languages.bash,n.languages.shell=n.languages.bash})(Prism);function ag(n){let e;return{c(){e=g("span")},m(t,r){P(t,e,r)},p:se,d(t){t&&C(e)}}}function lg(n){let e,t;return{c(){e=g("span"),t=X(n[0]),d(e,"class","language-label svelte-1y1v7lk")},m(r,s){P(r,e,s),f(e,t)},p(r,s){s&1&&_e(t,r[0])},d(r){r&&C(e)}}}function cg(n){let e,t,r,s,o,i,a,l,c,u,h;function p(b,E){return b[0]&&b[0]!=="none"?lg:ag}let m=p(n),y=m(n);return{c(){e=g("div"),t=g("div"),y.c(),r=L(),s=g("button"),s.textContent="Copy code",o=L(),i=g("pre"),a=g("code"),d(s,"class","svelte-1y1v7lk"),d(t,"class","copycode svelte-1y1v7lk"),d(a,"class",l="language-"+n[0]+" svelte-1y1v7lk"),d(i,"class",c="language-"+n[0]+" svelte-1y1v7lk"),d(e,"class","code-block-container svelte-1y1v7lk"),Ut(e,"position","relative")},m(b,E){P(b,e,E),f(e,t),y.m(t,null),f(t,r),f(t,s),f(e,o),f(e,i),f(i,a),a.innerHTML=n[2],n[11](a),u||(h=W(s,"click",n[3]),u=!0)},p(b,[E]){m===(m=p(b))&&y?y.p(b,E):(y.d(1),y=m(b),y&&(y.c(),y.m(t,r))),E&4&&(a.innerHTML=b[2]),E&1&&l!==(l="language-"+b[0]+" svelte-1y1v7lk")&&d(a,"class",l),E&1&&c!==(c="language-"+b[0]+" svelte-1y1v7lk")&&d(i,"class",c)},i:se,o:se,d(b){b&&C(e),y.d(),n[11](null),u=!1,h()}}}function ug(n){if(!n)return"none";const e=String(n).replace(/^language-/,"").toLowerCase();return{js:"javascript",jsx:"jsx",ts:"typescript",tsx:"tsx",py:"python",sh:"bash",shell:"bash",html:"markup"}[e]||e}function dg(n,e,t){let r,s,o,{text:i=void 0}=e,{value:a=void 0}=e,{code:l=void 0}=e,{lang:c=void 0}=e,{language:u=void 0}=e,{className:h=void 0}=e,p;const m=async()=>{try{await navigator.clipboard.writeText(s)}catch(b){console.error("Error copying text: ",b)}};function y(b){Qt[b?"unshift":"push"](()=>{p=b,t(1,p)})}return n.$$set=b=>{"text"in b&&t(4,i=b.text),"value"in b&&t(5,a=b.value),"code"in b&&t(6,l=b.code),"lang"in b&&t(7,c=b.lang),"language"in b&&t(8,u=b.language),"className"in b&&t(9,h=b.className)},n.$$.update=()=>{n.$$.dirty&896&&t(0,r=ug(u||c||h&&String(h).match(/language-([\w-]+)/)?.[1]||"")),n.$$.dirty&112&&t(10,s=(i??a??l??"").toString()),n.$$.dirty&1025&&t(2,o=(()=>{try{const E=ro.languages[r]||null||ro.languages.markup;if(E)return ro.highlight(s,E,r)}catch(E){console.warn("Prism highlight error",E)}const b=document.createElement("span");return b.textContent=s,b.innerHTML})())},[r,p,o,m,i,a,l,c,u,h,s,y]}class fg extends Ce{constructor(e){super(),Ie(this,e,dg,cg,xe,{text:4,value:5,code:6,lang:7,language:8,className:9})}}function hg(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("em"),s&&s.c(),d(e,"class","svelte-djznuz")},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function pg(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class gg extends Ce{constructor(e){super(),Ie(this,e,pg,hg,xe,{})}}function mg(n){let e,t;const r=n[3].default,s=Ne(r,n,n[2],null);return{c(){e=g("ul"),s&&s.c(),d(e,"class","svelte-1dicnom")},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&4)&&Be(s,r,o,o[2],t?je(r,o[2],i,null):He(o[2]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function _g(n){let e,t;const r=n[3].default,s=Ne(r,n,n[2],null);return{c(){e=g("ol"),s&&s.c(),d(e,"start",n[1]),d(e,"class","svelte-1dicnom")},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,i){s&&s.p&&(!t||i&4)&&Be(s,r,o,o[2],t?je(r,o[2],i,null):He(o[2]),null),(!t||i&2)&&d(e,"start",o[1])},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function bg(n){let e,t,r,s;const o=[_g,mg],i=[];function a(l,c){return l[0]?0:1}return e=a(n),t=i[e]=o[e](n),{c(){t.c(),r=Te()},m(l,c){i[e].m(l,c),P(l,r,c),s=!0},p(l,[c]){let u=e;e=a(l),e===u?i[e].p(l,c):(Me(),N(i[u],1,1,()=>{i[u]=null}),$e(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),$(t,1),t.m(r.parentNode,r))},i(l){s||($(t),s=!0)},o(l){N(t),s=!1},d(l){i[e].d(l),l&&C(r)}}}function yg(n,e,t){let{$$slots:r={},$$scope:s}=e,{ordered:o}=e,{start:i}=e;return n.$$set=a=>{"ordered"in a&&t(0,o=a.ordered),"start"in a&&t(1,i=a.start),"$$scope"in a&&t(2,s=a.$$scope)},[o,i,s,r]}class wg extends Ce{constructor(e){super(),Ie(this,e,yg,bg,xe,{ordered:0,start:1})}}function vg(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("li"),s&&s.c(),d(e,"class","svelte-fm7yqp")},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function kg(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class Sg extends Ce{constructor(e){super(),Ie(this,e,kg,vg,xe,{})}}function Ag(n){let e,t;const r=n[1].default,s=Ne(r,n,n[0],null);return{c(){e=g("p"),s&&s.c(),d(e,"class","svelte-jw73bw")},m(o,i){P(o,e,i),s&&s.m(e,null),t=!0},p(o,[i]){s&&s.p&&(!t||i&1)&&Be(s,r,o,o[0],t?je(r,o[0],i,null):He(o[0]),null)},i(o){t||($(s,o),t=!0)},o(o){N(s,o),t=!1},d(o){o&&C(e),s&&s.d(o)}}}function Tg(n,e,t){let{$$slots:r={},$$scope:s}=e;return n.$$set=o=>{"$$scope"in o&&t(0,s=o.$$scope)},[s,r]}class Eg extends Ce{constructor(e){super(),Ie(this,e,Tg,Ag,xe,{})}}function xg(n){let e;return{c(){e=X(n[0])},m(t,r){P(t,e,r)},p(t,[r]){r&1&&_e(e,t[0])},i:se,o:se,d(t){t&&C(e)}}}function Rg(n,e,t){let{text:r}=e;return n.$$set=s=>{"text"in s&&t(0,r=s.text)},[r]}class Ig extends Ce{constructor(e){super(),Ie(this,e,Rg,xg,xe,{text:0})}}const Cg="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M10%2012L14%2016M14%2012L10%2016M18%206L17.1991%2018.0129C17.129%2019.065%2017.0939%2019.5911%2016.8667%2019.99C16.6666%2020.3412%2016.3648%2020.6235%2016.0011%2020.7998C15.588%2021%2015.0607%2021%2014.0062%2021H9.99377C8.93927%2021%208.41202%2021%207.99889%2020.7998C7.63517%2020.6235%207.33339%2020.3412%207.13332%2019.99C6.90607%2019.5911%206.871%2019.065%206.80086%2018.0129L6%206M4%206H20M16%206L15.7294%205.18807C15.4671%204.40125%2015.3359%204.00784%2015.0927%203.71698C14.8779%203.46013%2014.6021%203.26132%2014.2905%203.13878C13.9376%203%2013.523%203%2012.6936%203H11.3064C10.477%203%2010.0624%203%209.70951%203.13878C9.39792%203.26132%209.12208%203.46013%208.90729%203.71698C8.66405%204.00784%208.53292%204.40125%208.27064%205.18807L8%206'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Pg="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='currentColor'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3c!--%20Trash%20can%20outline%20--%3e%3cpath%20d='M18%206L17.1991%2018.0129C17.129%2019.065%2017.0939%2019.5911%2016.8667%2019.99C16.6666%2020.3412%2016.3648%2020.6235%2016.0011%2020.7998C15.588%2021%2015.0607%2021%2014.0062%2021H9.99377C8.93927%2021%208.41202%2021%207.99889%2020.7998C7.63517%2020.6235%207.33339%2020.3412%207.13332%2019.99C6.90607%2019.5911%206.871%2019.065%206.80086%2018.0129L6%206M4%206H20M16%206L15.7294%205.18807C15.4671%204.40125%2015.3359%204.00784%2015.0927%203.71698C14.8779%203.46013%2014.6021%203.26132%2014.2905%203.13878C13.9376%203%2013.523%203%2012.6936%203H11.3064C10.477%203%2010.0624%203%209.70951%203.13878C9.39792%203.26132%209.12208%203.46013%208.90729%203.71698C8.66405%204.00784%208.53292%204.40125%208.27064%205.18807L8%206'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c!--%20Down%20arrow%20in%20center%20--%3e%3cpath%20d='M12%2010L12%2016M12%2016L9%2013M12%2016L15%2013'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Mg="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%205.00005C7.01165%205.00082%206.49359%205.01338%206.09202%205.21799C5.71569%205.40973%205.40973%205.71569%205.21799%206.09202C5%206.51984%205%207.07989%205%208.2V17.8C5%2018.9201%205%2019.4802%205.21799%2019.908C5.40973%2020.2843%205.71569%2020.5903%206.09202%2020.782C6.51984%2021%207.07989%2021%208.2%2021H15.8C16.9201%2021%2017.4802%2021%2017.908%2020.782C18.2843%2020.5903%2018.5903%2020.2843%2018.782%2019.908C19%2019.4802%2019%2018.9201%2019%2017.8V8.2C19%207.07989%2019%206.51984%2018.782%206.09202C18.5903%205.71569%2018.2843%205.40973%2017.908%205.21799C17.5064%205.01338%2016.9884%205.00082%2016%205.00005M8%205.00005V7H16V5.00005M8%205.00005V4.70711C8%204.25435%208.17986%203.82014%208.5%203.5C8.82014%203.17986%209.25435%203%209.70711%203H14.2929C14.7456%203%2015.1799%203.17986%2015.5%203.5C15.8201%203.82014%2016%204.25435%2016%204.70711V5.00005'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Pa="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20width='800px'%20height='800px'%20viewBox='-5.76%20-5.76%2043.52%2043.52'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23ffffff'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3crect%20x='-5.76'%20y='-5.76'%20width='43.52'%20height='43.52'%20rx='21.76'%20fill='%233caa97'%20strokewidth='0'/%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3euser%3c/title%3e%3cpath%20d='M4%2028q0%200.832%200.576%201.44t1.44%200.576h20q0.8%200%201.408-0.576t0.576-1.44q0-1.44-0.672-2.912t-1.76-2.624-2.496-2.144-2.88-1.504q1.76-1.088%202.784-2.912t1.024-3.904v-1.984q0-3.328-2.336-5.664t-5.664-2.336-5.664%202.336-2.336%205.664v1.984q0%202.112%201.024%203.904t2.784%202.912q-1.504%200.544-2.88%201.504t-2.496%202.144-1.76%202.624-0.672%202.912z'/%3e%3c/g%3e%3c/svg%3e",Ma="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-9.12%20-9.12%2066.24%2066.24'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23ffffff'%20stroke='%23ffffff'%20stroke-width='0.00048000000000000007'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%20transform='translate(0,0),%20scale(1)'%3e%3crect%20x='-9.12'%20y='-9.12'%20width='66.24'%20height='66.24'%20rx='33.12'%20fill='%232791b4'%20strokewidth='0'/%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke='%23CCCCCC'%20stroke-width='0.192'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3eai-solid%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='invisible_box'%20data-name='invisible%20box'%3e%3crect%20width='48'%20height='48'%20fill='none'/%3e%3c/g%3e%3cg%20id='Q3_icons'%20data-name='Q3%20icons'%3e%3cg%3e%3cpath%20d='M17.9,2h-.4L7.6,6.6a1,1,0,0,0-.6.9v7.4l-.6.5-4,3.3a.8.8,0,0,0-.4.8v9a.9.9,0,0,0,.4.8l4,3.3.6.5v7.4a1,1,0,0,0,.6.9l9.9,4.5h.4l.6-.2,4-2.7V25.5H21a1.5,1.5,0,0,1,0-3h1.5V4.9l-4-2.7ZM9,13.5l2.8,1.9a1.5,1.5,0,0,1,.4,2.1,1.4,1.4,0,0,1-1.2.7,1.1,1.1,0,0,1-.8-.3L9,17.1Zm-5,9H7.5a1.5,1.5,0,0,1,0,3H4Zm5,8.4,1.2-.8a1.4,1.4,0,0,1,2,.4,1.5,1.5,0,0,1-.4,2.1L9,34.5ZM19.5,18.6l-4,4v2.8l4,4v5.2l-3.4,3.5a2.1,2.1,0,0,1-1.1.4,2.1,2.1,0,0,1-1.1-.4,1.6,1.6,0,0,1,0-2.2l2.6-2.5V30.6l-4-4V21.4l4-4V14.6l-2.6-2.5a1.6,1.6,0,1,1,2.2-2.2l3.4,3.5Z'/%3e%3cpath%20d='M45.6,18.7l-4-3.3-.6-.5V7.5a1,1,0,0,0-.6-.9L30.5,2.1h-.4l-.6.2-4,2.7V22.5H27a1.5,1.5,0,0,1,0,3H25.5V43.1l4,2.7.6.2h.4l9.9-4.5a1,1,0,0,0,.6-.9V33.1l.6-.5,4-3.3a.9.9,0,0,0,.4-.8v-9A.8.8,0,0,0,45.6,18.7ZM39,17.1l-1.2.8a1.1,1.1,0,0,1-.8.3,1.4,1.4,0,0,1-1.2-.7,1.5,1.5,0,0,1,.4-2.1L39,13.5ZM28.5,29.4l4-4V22.6l-4-4V13.4l3.4-3.5a1.6,1.6,0,0,1,2.2,2.2l-2.6,2.5v2.8l4,4v5.2l-4,4v2.8l2.6,2.5a1.6,1.6,0,0,1,0,2.2,1.7,1.7,0,0,1-2.2,0l-3.4-3.5ZM39,34.5l-2.8-1.9a1.5,1.5,0,0,1-.4-2.1,1.4,1.4,0,0,1,2-.4l1.2.8Zm5-9H40.5a1.5,1.5,0,0,1,0-3H44Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",$g="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='48'%20viewBox='0%2096%20960%20960'%20width='48'%3e%3cpath%20d='M120%20896V256l760%20320-760%20320Zm60-93%20544-227-544-230v168l242%2062-242%2060v167Zm0%200V346v457Z'/%3e%3c/svg%3e",Og="data:image/svg+xml,%3csvg%20fill='%23000000'%20height='200px'%20width='200px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20455%20455'%20xml:space='preserve'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20d='M227.5,0C101.761,0,0,101.75,0,227.5C0,353.239,101.75,455,227.5,455C353.24,455,455,353.25,455,227.5%20C455,101.761,353.25,0,227.5,0z%20M227.5,425C118.598,425,30,336.402,30,227.5S118.598,30,227.5,30S425,118.598,425,227.5%20S336.403,425,227.5,425z'%3e%3c/path%3e%3cpath%20d='M289.139,142.359H165.862c-12.959,0-23.502,10.543-23.502,23.502v123.278c0,12.959,10.543,23.502,23.502,23.502h123.277%20c12.96,0,23.503-10.543,23.503-23.502V165.861C312.642,152.902,302.099,142.359,289.139,142.359z%20M282.642,282.642H172.36%20V172.359h110.282V282.642z'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Lg="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M18%2020H4V6h9V4H4c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2v-9h-2v9zm-7.79-3.17l-1.96-2.36L5.5%2018h11l-3.54-4.71zM20%204V1h-2v3h-3c.01.01%200%202%200%202h3v2.99c.01.01%202%200%202%200V6h3V4h-3z'/%3e%3c/svg%3e",Xc="gpt-5-nano";function Qc(){return Xc}const Dg=Object.freeze(Object.defineProperty({__proto__:null,REASONING_MODEL:Xc,getReasoningModel:Qc},Symbol.toStringTag,{value:"Module"}));async function $a(n="Say 'double bubble bath' five times fast.",e){const t=O(Vt),r=e||O(qe);if(console.log("=== Responses API (non-streaming) Test ==="),console.log("API Key configured:",!!t),console.log("Selected model:",r),!t)return console.error("No API key configured"),null;try{const s=await Bc(n,r),o=s?.output_text??s?.output?.[0]?.content?.map(i=>i?.text).join("")??s?.response?.output_text??JSON.stringify(s);return console.log("Responses API result:",s),console.log("Responses API output_text:",o),{success:!0,raw:s,outputText:o,model:r}}catch(s){return console.error("Responses API error:",s),{success:!1,error:s}}}async function Oa(n="Stream this: 'double bubble bath' five times fast.",e){const t=O(Vt),r=e||O(qe);if(console.log("=== Responses API (streaming) Test ==="),console.log("API Key configured:",!!t),console.log("Selected model:",r),!t)return console.error("No API key configured"),null;const s=[];let o="";try{return o=await jr(n,r,{onEvent:i=>{(i.type==="response.created"||i.type==="response.completed"||i.type==="error")&&console.log("SSE event:",i.type,i.data?.id||""),s.push(i)},onTextDelta:i=>{},onCompleted:i=>{console.log("Streaming completed. Final text length:",i.length)},onError:i=>{console.error("Streaming error:",i)}}),{success:!0,finalText:o,eventsCount:s.length,events:s,model:r}}catch(i){return console.error("Responses Streaming error:",i),{success:!1,error:i,eventsCount:s.length,events:s,model:r}}}function Fg(){return{apiKeyConfigured:!!O(Vt),selectedModel:O(qe),availableModels:[],lastRequestPayload:null,lastResponse:null,lastError:null,timestamp:new Date().toISOString()}}function Ng(){const n=Fg();console.log("=== Debug Info ==="),console.log(JSON.stringify(n,null,2))}const ar=["response.reasoning_summary.delta","response.reasoning_summary.done","response.reasoning.delta","response.reasoning.done"];async function La(n,e){const t=O(Vt),r=O(qe),s=e||Qc();if(console.log("=== Reasoning Streaming Test (multi-variant) ==="),console.log("API Key configured:",!!t),console.log("Selected model:",r),console.log("Using model for test:",s),!t)return console.error("No API key configured"),null;const i=Ls([{role:"system",content:"You are a helpful assistant. Think step by step internally and provide a concise final answer."},{role:"user",content:"Please solve: 24 * 17. Provide the final numeric answer; you may think step-by-step internally."}]),a=[{name:"effort_high_summary_detailed",extras:{reasoning:{effort:"high",summary:"detailed"},text:{verbosity:"medium"}}},{name:"effort_medium_summary_detailed",extras:{reasoning:{effort:"medium",summary:"detailed"},text:{verbosity:"medium"}}},{name:"effort_high_summary_detailed_text_high",extras:{reasoning:{effort:"high",summary:"detailed"},text:{verbosity:"high"}}},{name:"effort_high_summary_auto",extras:{reasoning:{effort:"high",summary:"auto"},text:{verbosity:"medium"}}},{name:"effort_high_summary_detailed_metadata_include_reasoning",extras:{reasoning:{effort:"high",summary:"detailed"},metadata:{include_reasoning:!0},text:{verbosity:"medium"}}}];async function l(p,m){const y=[],b=[],E=new Set;let S="",_="",k="",x=!1;try{let A=function(B){const j=B.split(`
`).map(F=>F.trim()).filter(Boolean);let H="message";const G=[];for(const F of j)F.startsWith("event:")?H=F.slice(6).trim():F.startsWith("data:")&&G.push(F.slice(5).trim());if(G.length===0)return;const Z=G.join(`
`);if(Z==="[DONE]"){x=!0;return}let V=null;try{V=JSON.parse(Z)}catch(F){console.warn("Failed to parse SSE data JSON chunk:",F,Z);return}const J=H!=="message"?H:V?.type||"message";b.push(J),E.add(J);let z;switch(J){case"response.reasoning_summary_part.added":z={partType:V?.part?.type??""};break;case"response.reasoning_summary_part.done":z={partType:V?.part?.type??"",text:V?.part?.text??""},typeof V?.part?.text=="string"&&(_+=V.part.text);break;case"response.reasoning_summary_text.delta":case"response.reasoning_summary.delta":z={delta:V?.delta??""},typeof V?.delta=="string"&&(_+=V.delta);break;case"response.reasoning_summary_text.done":case"response.reasoning_summary.done":z={text:V?.text??""},typeof V?.text=="string"&&(_+=V.text);break;case"response.reasoning_text.delta":case"response.reasoning.delta":z={delta:V?.delta??""},typeof V?.delta=="string"&&(k+=V.delta);break;case"response.reasoning_text.done":case"response.reasoning.done":z={text:V?.text??""},typeof V?.text=="string"&&(k+=V.text);break;case"response.output_text.delta":{const F=V?.delta?.text??V?.delta??V?.output_text_delta??V?.text??"";z={delta:typeof F=="string"?F:""},typeof F=="string"&&F&&(S+=F);break}case"response.completed":z=V,x=!0;break;default:z=V;break}y.push({type:J,data:z})};const v=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(p)});if(!v.ok||!v.body){const B=await v.text().catch(()=>"");throw new Error(`Responses API stream error ${v.status}: ${B||v.statusText}`)}const T=v.body.getReader(),w=new TextDecoder;let R="";for(;;){const{value:B,done:j}=await T.read();if(j)break;R+=w.decode(B,{stream:!0});const H=R.split(`

`);R=H.pop()||"";for(const G of H)G.trim()&&A(G)}R.trim()&&A(R);const I=ar.filter(B=>!E.has(B));return{success:x,model:s,variant:m,events:y,order:b,seenTypes:Array.from(E),missingTypes:I,outputText:S,reasoningSummaryText:_,reasoningText:k}}catch(A){const v=Array.from(new Set(y.map(w=>w.type))),T=ar.filter(w=>!v.includes(w));return{success:!1,model:s,variant:m,events:y,order:b,seenTypes:v,missingTypes:T,outputText:S,reasoningSummaryText:_,reasoningText:k,error:A}}}const c=[];let u=-1;for(let p=0;p<a.length;p++){const m=a[p],y={model:s,input:i,store:!1,stream:!0,text:{verbosity:"medium"},...m.extras};console.log(`Trying variant ${p+1}/${a.length}: ${m.name}`,y);const b=await l(y,m.name);if(c.push(b),ar.some(S=>b.seenTypes.includes(S))&&u===-1){u=p;break}}const h=u>=0?c[u]:c[0]||null;return h?{success:h.success,model:s,events:h.events,order:h.order,seenTypes:h.seenTypes,missingTypes:h.missingTypes,outputText:h.outputText,reasoningSummaryText:h.reasoningSummaryText,reasoningText:h.reasoningText,bestVariant:h.variant,variants:c.map(p=>({name:p.variant,success:p.success,seenTypes:p.seenTypes,missingTypes:p.missingTypes,eventsCount:p.events.length}))}:{success:!1,model:s,error:"No variants executed",events:[],order:[],seenTypes:[],missingTypes:ar,outputText:"",reasoningSummaryText:"",reasoningText:"",bestVariant:null,variants:[]}}class eu{assertions=0;failures=0;notes=[];that(e,t){this.assertions++,e?this.notes.push(`OK: ${t}`):(this.failures++,this.notes.push(`FAIL: ${t}`))}}let Vn=[];function Le(n){Vn.some(e=>e.id===n.id)||Vn.push(n)}function jg(n){Le(n)}function _o(){Vn=[]}function tu(){return[...Vn]}async function Bg(n){const e=performance.now(),t=new eu,r=async()=>{await n.fn(t)},s=n.timeoutMs??3e4;let o;try{await Promise.race([r(),new Promise((a,l)=>setTimeout(()=>l(new Error(`Timeout after ${s}ms`)),s))])}catch(a){o=a,t.notes.push(`ERROR: ${a?.message??String(a)}`),t.failures++}const i=performance.now()-e;return{id:n.id,name:n.name,success:t.failures===0&&!o,durationMs:i,assertions:t.assertions,failures:t.failures,details:t.notes.join(`
`),error:o}}function zo(){typeof localStorage<"u"&&(localStorage.removeItem("selectedModel"),localStorage.removeItem("conversations"),localStorage.removeItem("default_assistant_role"),localStorage.removeItem("selectedMode"),localStorage.removeItem("selectedVoice"),localStorage.removeItem("selectedSize"),localStorage.removeItem("selectedQuality"),localStorage.removeItem("combined_tokens"),localStorage.removeItem("show_tokens"),localStorage.removeItem("api_key"))}async function Hg(n){zo();try{return await n()}finally{}}async function zg(n,e){if(typeof localStorage<"u"){const t=localStorage.getItem("selectedModel");localStorage.setItem("selectedModel",n);try{const{selectedModel:r}=await re(async()=>{const{selectedModel:s}=await Promise.resolve().then(()=>$t);return{selectedModel:s}},void 0,import.meta.url);r.set(n)}catch{}try{return await e()}finally{t!==null?localStorage.setItem("selectedModel",t):localStorage.removeItem("selectedModel")}}else return await e()}async function ys(n){zo();try{const{getReasoningModel:a}=await re(async()=>{const{getReasoningModel:u}=await Promise.resolve().then(()=>Dg);return{getReasoningModel:u}},void 0,import.meta.url),{selectedModel:l}=await re(async()=>{const{selectedModel:u}=await Promise.resolve().then(()=>$t);return{selectedModel:u}},void 0,import.meta.url),c=a();typeof localStorage<"u"&&localStorage.setItem("selectedModel",c),l.set(c)}catch{}const e=(n?.filter?Vn.filter(n.filter):Vn).slice(),t=performance.now(),r=[];for(const a of e){const l=await Bg(a);r.push(l)}const s=performance.now()-t,o=r.filter(a=>a.success).length,i=r.length-o;return{total:r.length,passed:o,failed:i,durationMs:s,results:r}}function yr(n){const e=[];e.push("=== Test Harness Results ==="),e.push(`Total: ${n.total} | Passed: ${n.passed} | Failed: ${n.failed} | Duration: ${n.durationMs.toFixed(0)}ms`),e.push("");let t="";const r=80;for(const s of n.results)s.success?(t+=".",t.length>=r&&(e.push(t),t="")):(t&&(e.push(t),t="",e.push("")),e.push(`- [x] ${s.name} (${s.durationMs.toFixed(0)}ms)`),s.details&&e.push(s.details),s.error&&e.push(`Error: ${s.error?.message??String(s.error)}`),e.push(""));return t&&e.push(t),e.join(`
`)}typeof window<"u"&&(window.SmoothGPTTestHarness={listTests:tu,runAll:()=>ys()});const Ug=Object.freeze(Object.defineProperty({__proto__:null,Assert:eu,clearTestEnvironment:zo,clearTests:_o,formatSuiteResultsText:yr,listTests:tu,registerTest:Le,runAllTests:ys,test:jg,withCleanEnvironment:Hg,withModel:zg},Symbol.toStringTag,{value:"Module"}));function Da(n,e,t){const r=n.slice();return r[22]=e[t],r}function Fa(n){let e,t,r;return{c(){e=g("p"),t=X("Current Test: "),r=X(n[2]),d(e,"class","mb-1")},m(s,o){P(s,e,o),f(e,t),f(e,r)},p(s,o){o&4&&_e(r,s[2])},d(s){s&&C(e)}}}function Na(n){let e,t,r,s,o,i,a,l;function c(p,m){return p[4].length===0?Vg:qg}let u=c(n),h=u(n);return{c(){e=g("div"),t=g("div"),r=g("span"),r.textContent="Select a live API test to run (src/tests/live)",s=L(),o=g("button"),o.textContent="Close",i=L(),h.c(),d(o,"class","bg-gray-600 hover:bg-gray-500 px-2 py-1 rounded text-xs"),d(t,"class","flex justify-between items-center mb-2"),d(e,"class","mt-2 p-2 bg-gray-700 rounded text-xs max-h-40 overflow-y-auto")},m(p,m){P(p,e,m),f(e,t),f(t,r),f(t,s),f(t,o),f(e,i),h.m(e,null),a||(l=W(o,"click",n[18]),a=!0)},p(p,m){u===(u=c(p))&&h?h.p(p,m):(h.d(1),h=u(p),h&&(h.c(),h.m(e,null)))},d(p){p&&C(e),h.d(),a=!1,l()}}}function qg(n){let e,t=n[4],r=[];for(let s=0;s<t.length;s+=1)r[s]=ja(Da(n,t,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Te()},m(s,o){for(let i=0;i<r.length;i+=1)r[i].m(s,o);P(s,e,o)},p(s,o){if(o&274){t=s[4];let i;for(i=0;i<t.length;i+=1){const a=Da(s,t,i);r[i]?r[i].p(a,o):(r[i]=ja(a),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(s){_t(r,s),s&&C(e)}}}function Vg(n){let e;return{c(){e=g("div"),e.textContent="No API tests found."},m(t,r){P(t,e,r)},p:se,d(t){t&&C(e)}}}function ja(n){let e,t=Mr(n[22])+"",r,s,o,i;function a(){return n[19](n[22])}return{c(){e=g("button"),r=X(t),s=L(),d(e,"class","w-full text-left bg-gray-600 hover:bg-gray-500 px-2 py-1 rounded mb-1 disabled:opacity-50"),e.disabled=n[1]},m(l,c){P(l,e,c),f(e,r),f(e,s),o||(i=W(e,"click",a),o=!0)},p(l,c){n=l,c&16&&t!==(t=Mr(n[22])+"")&&_e(r,t),c&2&&(e.disabled=n[1])},d(l){l&&C(e),o=!1,i()}}}function Ba(n){let e,t,r;return{c(){e=g("div"),t=g("pre"),r=X(n[0]),d(e,"class","mt-4 p-2 bg-gray-700 rounded text-xs max-h-40 overflow-y-auto")},m(s,o){P(s,e,o),f(e,t),f(t,r)},p(s,o){o&1&&_e(r,s[0])},d(s){s&&C(e)}}}function Kg(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y,b,E,S=n[6]?"✅ Configured":"❌ Missing",_,k,x,A,v,T=n[1]&&n[2]==="Responses API"?"Testing...":"Test Responses API (non-stream)",w,R,I,B=n[1]&&n[2]==="Responses Streaming"?"Testing...":"Test Responses API (stream)",j,H,G,Z=n[1]&&n[2]==="Reasoning Streaming"?"Testing...":"Test Reasoning Stream",V,J,z,F=n[1]&&n[2]==="All Tests"?"Running...":"Run All Tests",Y,te,ue,ye=n[3]?"Hide API Test List":"Select API test to run",Pe,me,K,he=n[1]&&n[2]==="Test Harness (non-API)"?"Running...":"Run Test Harness (non-API)",Oe,we,ze,Ee=n[1]&&n[2]==="Test Harness (API)"?"Running...":"Run Test Harness (API)",it,At,et,Tt,ft,Gt,It,Ft,gt,Je=n[2]&&Fa(n),tt=n[3]&&Na(n),D=n[0]&&Ba(n);return{c(){e=g("div"),t=g("div"),r=g("h3"),r.textContent="Debug Panel",s=L(),o=g("button"),i=g("img"),l=L(),c=g("div"),u=g("div"),h=g("p"),p=X("Current Model: "),m=X(n[5]),y=L(),b=g("p"),E=X("API Key: "),_=X(S),k=L(),Je&&Je.c(),x=L(),A=g("div"),v=g("button"),w=X(T),R=L(),I=g("button"),j=X(B),H=L(),G=g("button"),V=X(Z),J=L(),z=g("button"),Y=X(F),te=L(),ue=g("button"),Pe=X(ye),me=L(),K=g("button"),Oe=X(he),we=L(),ze=g("button"),it=X(Ee),At=L(),et=g("button"),et.textContent="Show Debug Info",Tt=L(),ft=g("button"),ft.textContent="Clear Results",Gt=L(),tt&&tt.c(),It=L(),D&&D.c(),d(r,"class","text-lg font-bold"),Ye(i.src,a=As)||d(i,"src",a),d(i,"alt","Close"),d(i,"class","w-5 h-5"),d(o,"class","hover:bg-gray-700 rounded p-1 transition-colors"),d(t,"class","flex justify-between items-center p-4 bg-gray-900 rounded-t-lg border-b border-gray-700"),d(h,"class","mb-1"),d(b,"class","mb-1"),d(u,"class","mb-4 text-sm"),d(v,"class","w-full bg-cyan-600 hover:bg-cyan-700 px-3 py-1 rounded text-sm disabled:opacity-50"),v.disabled=n[1],d(I,"class","w-full bg-cyan-700 hover:bg-cyan-800 px-3 py-1 rounded text-sm disabled:opacity-50"),I.disabled=n[1],d(G,"class","w-full bg-fuchsia-600 hover:bg-fuchsia-700 px-3 py-1 rounded text-sm disabled:opacity-50"),G.disabled=n[1],d(z,"class","w-full bg-indigo-600 hover:bg-indigo-700 px-3 py-1 rounded text-sm disabled:opacity-50"),z.disabled=n[1],d(ue,"class","w-full bg-purple-600 hover:bg-purple-700 px-3 py-1 rounded text-sm disabled:opacity-50"),ue.disabled=n[1],d(K,"class","w-full bg-emerald-500 hover:bg-emerald-600 px-3 py-1 rounded text-sm disabled:opacity-50"),K.disabled=n[1],d(ze,"class","w-full bg-emerald-600 hover:bg-emerald-700 px-3 py-1 rounded text-sm disabled:opacity-50"),ze.disabled=n[1],d(et,"class","w-full bg-yellow-600 hover:bg-yellow-700 px-3 py-1 rounded text-sm"),d(ft,"class","w-full bg-gray-600 hover:bg-gray-700 px-3 py-1 rounded text-sm"),d(A,"class","space-y-2 mb-4"),d(c,"class","overflow-y-auto p-4 flex-1"),d(e,"class","fixed bottom-4 right-4 bg-gray-800 text-white rounded-lg shadow-lg max-w-lg z-50 flex flex-col max-h-96")},m(ee,ce){P(ee,e,ce),f(e,t),f(t,r),f(t,s),f(t,o),f(o,i),f(e,l),f(e,c),f(c,u),f(u,h),f(h,p),f(h,m),f(u,y),f(u,b),f(b,E),f(b,_),f(u,k),Je&&Je.m(u,null),f(c,x),f(c,A),f(A,v),f(v,w),f(A,R),f(A,I),f(I,j),f(A,H),f(A,G),f(G,V),f(A,J),f(A,z),f(z,Y),f(A,te),f(A,ue),f(ue,Pe),f(A,me),f(A,K),f(K,Oe),f(A,we),f(A,ze),f(ze,it),f(A,At),f(A,et),f(A,Tt),f(A,ft),f(c,Gt),tt&&tt.m(c,null),f(c,It),D&&D.m(c,null),Ft||(gt=[W(o,"click",n[17]),W(v,"click",n[9]),W(I,"click",n[10]),W(G,"click",n[11]),W(z,"click",n[12]),W(ue,"click",n[7]),W(K,"click",n[14]),W(ze,"click",n[13]),W(et,"click",n[15]),W(ft,"click",n[16])],Ft=!0)},p(ee,[ce]){ce&32&&_e(m,ee[5]),ce&64&&S!==(S=ee[6]?"✅ Configured":"❌ Missing")&&_e(_,S),ee[2]?Je?Je.p(ee,ce):(Je=Fa(ee),Je.c(),Je.m(u,null)):Je&&(Je.d(1),Je=null),ce&6&&T!==(T=ee[1]&&ee[2]==="Responses API"?"Testing...":"Test Responses API (non-stream)")&&_e(w,T),ce&2&&(v.disabled=ee[1]),ce&6&&B!==(B=ee[1]&&ee[2]==="Responses Streaming"?"Testing...":"Test Responses API (stream)")&&_e(j,B),ce&2&&(I.disabled=ee[1]),ce&6&&Z!==(Z=ee[1]&&ee[2]==="Reasoning Streaming"?"Testing...":"Test Reasoning Stream")&&_e(V,Z),ce&2&&(G.disabled=ee[1]),ce&6&&F!==(F=ee[1]&&ee[2]==="All Tests"?"Running...":"Run All Tests")&&_e(Y,F),ce&2&&(z.disabled=ee[1]),ce&8&&ye!==(ye=ee[3]?"Hide API Test List":"Select API test to run")&&_e(Pe,ye),ce&2&&(ue.disabled=ee[1]),ce&6&&he!==(he=ee[1]&&ee[2]==="Test Harness (non-API)"?"Running...":"Run Test Harness (non-API)")&&_e(Oe,he),ce&2&&(K.disabled=ee[1]),ce&6&&Ee!==(Ee=ee[1]&&ee[2]==="Test Harness (API)"?"Running...":"Run Test Harness (API)")&&_e(it,Ee),ce&2&&(ze.disabled=ee[1]),ee[3]?tt?tt.p(ee,ce):(tt=Na(ee),tt.c(),tt.m(c,It)):tt&&(tt.d(1),tt=null),ee[0]?D?D.p(ee,ce):(D=Ba(ee),D.c(),D.m(c,null)):D&&(D.d(1),D=null)},i:se,o:se,d(ee){ee&&C(e),Je&&Je.d(),tt&&tt.d(),D&&D.d(),Ft=!1,st(gt)}}}async function Gg(){const e=Object.values(Object.assign({}));await Promise.all(e.map(t=>t()))}async function Wg(){const e=Object.values(Object.assign({"../tests/live/01-api-key-smoke-test.test.ts":()=>re(()=>Promise.resolve().then(()=>ru),void 0,import.meta.url),"../tests/live/02-anthropic-service-test.test.ts":()=>re(()=>Promise.resolve().then(()=>ou),void 0,import.meta.url),"../tests/live/03-settings-integration-test.test.ts":()=>re(()=>Promise.resolve().then(()=>iu),void 0,import.meta.url),"../tests/live/04-anthropic-messaging-test.test.ts":()=>re(()=>Promise.resolve().then(()=>au),void 0,import.meta.url),"../tests/live/05-anthropic-error-handling-live.test.ts":()=>re(()=>Promise.resolve().then(()=>lu),void 0,import.meta.url),"../tests/live/06-openai-error-handling-live.test.ts":()=>re(()=>Promise.resolve().then(()=>cu),void 0,import.meta.url),"../tests/live/07-openai-raw-api-test.test.ts":()=>re(()=>Promise.resolve().then(()=>uu),void 0,import.meta.url)}));await Promise.all(e.map(t=>t()))}function Mr(n){return n.replace(/^.*\/tests\/live\//,"")}function Jg(n,e,t){let r,s;ge(n,qe,w=>t(5,r=w)),ge(n,Vt,w=>t(6,s=w)),Gn();let o="",i=!1,a="",l=!1,c={},u=[];async function h(){t(3,l=!l),l&&(c=Object.assign({"../tests/live/01-api-key-smoke-test.test.ts":()=>re(()=>Promise.resolve().then(()=>ru),void 0,import.meta.url),"../tests/live/02-anthropic-service-test.test.ts":()=>re(()=>Promise.resolve().then(()=>ou),void 0,import.meta.url),"../tests/live/03-settings-integration-test.test.ts":()=>re(()=>Promise.resolve().then(()=>iu),void 0,import.meta.url),"../tests/live/04-anthropic-messaging-test.test.ts":()=>re(()=>Promise.resolve().then(()=>au),void 0,import.meta.url),"../tests/live/05-anthropic-error-handling-live.test.ts":()=>re(()=>Promise.resolve().then(()=>lu),void 0,import.meta.url),"../tests/live/06-openai-error-handling-live.test.ts":()=>re(()=>Promise.resolve().then(()=>cu),void 0,import.meta.url),"../tests/live/07-openai-raw-api-test.test.ts":()=>re(()=>Promise.resolve().then(()=>uu),void 0,import.meta.url)}),t(4,u=Object.keys(c).sort()),u.length===0&&t(0,o=`No live API tests found in src/tests/live.
`))}async function p(w){t(1,i=!0),t(2,a=`API Test: ${Mr(w)}`),t(0,o=`Running API test: ${Mr(w)}
`),_o();try{const R=c[w];if(!R){t(0,o+=`❌ Could not find loader for selected test file.
`),t(1,i=!1);return}await R();const I=await ys();t(0,o=yr(I))}catch(R){t(0,o=`❌ Error running selected API test: ${R}
`)}t(1,i=!1)}async function m(){t(1,i=!0),t(2,a="Responses API"),t(0,o=`Running Responses API (non-streaming) test...
`);try{const w=await $a();w&&w.success?(t(0,o+=`✅ Responses API test successful!
`),t(0,o+=`Model: ${w.model}
`),t(0,o+=`Output: ${w.outputText}
`)):(t(0,o+=`❌ Responses API test failed!
`),w?.error&&t(0,o+=`Error: ${w.error}
`))}catch(w){t(0,o+=`❌ Responses API test error: ${w}
`)}t(1,i=!1)}async function y(){t(1,i=!0),t(2,a="Responses Streaming"),t(0,o=`Running Responses API (streaming) test...
`);try{const w=await Oa();w&&w.success?(t(0,o+=`✅ Responses streaming test successful!
`),t(0,o+=`Model: ${w.model}
`),t(0,o+=`Events received: ${w.eventsCount}
`),t(0,o+=`Final text: ${w.finalText}
`)):(t(0,o+=`❌ Responses streaming test failed!
`),w?.error&&t(0,o+=`Error: ${w.error}
`))}catch(w){t(0,o+=`❌ Responses streaming test error: ${w}
`)}t(1,i=!1)}async function b(){t(1,i=!0),t(2,a="Reasoning Streaming"),t(0,o=`Running reasoning streaming test...
`);try{const w=await La();w&&w.success?(t(0,o+=`✅ Reasoning streaming test successful!
`),t(0,o+=`Model: ${w.model}
`),t(0,o+=`Seen types (${w.seenTypes.length}): ${w.seenTypes.join(", ")}
`),t(0,o+=`Missing types (${w.missingTypes.length}): ${w.missingTypes.join(", ")||"none"}
`),t(0,o+=`Event order:
${w.order.map((R,I)=>`${I+1}. ${R}`).join(`
`)}
`),w.reasoningSummaryText&&t(0,o+=`
Reasoning summary (first 300 chars):
${w.reasoningSummaryText.slice(0,300)}
`),w.reasoningText&&t(0,o+=`
Reasoning text (first 300 chars):
${w.reasoningText.slice(0,300)}
`)):(t(0,o+=`❌ Reasoning streaming test failed!
`),w?.error&&t(0,o+=`Error: ${w.error}
`),w?.seenTypes&&t(0,o+=`Seen types: ${w.seenTypes.join(", ")}
`),w?.missingTypes&&t(0,o+=`Missing types: ${w.missingTypes.join(", ")}
`))}catch(w){t(0,o+=`❌ Reasoning streaming test error: ${w}
`)}t(1,i=!1)}async function E(){t(1,i=!0),t(2,a="All Tests"),t(0,o=`Running comprehensive test suite...

`);try{t(0,o+=`=== Test: Responses API (non-stream) ===
`);const w=await $a();w&&w.success?(t(0,o+=`✅ Responses API: PASSED
`),t(0,o+=`Model: ${w.model}
`),t(0,o+=`Output: ${w.outputText}
`)):(t(0,o+=`❌ Responses API: FAILED
`),w?.error&&t(0,o+=`Error: ${w.error}
`)),t(0,o+=`
=== Test: Responses API (stream) ===
`);const R=await Oa();R&&R.success?(t(0,o+=`✅ Responses streaming: PASSED
`),t(0,o+=`Model: ${R.model}
`),t(0,o+=`Events received: ${R.eventsCount}
`),t(0,o+=`Final text: ${R.finalText}
`)):(t(0,o+=`❌ Responses streaming: FAILED
`),R?.error&&t(0,o+=`Error: ${R.error}
`)),t(0,o+=`
=== Test: Reasoning Streaming ===
`);const I=await La();I&&I.success?(t(0,o+=`✅ Reasoning streaming: PASSED
`),t(0,o+=`Model: ${I.model}
`),I.reasoningSummaryText&&t(0,o+=`Reasoning summary (first 300 chars):
${I.reasoningSummaryText.slice(0,300)}
`),I.reasoningText&&t(0,o+=`Reasoning text (first 300 chars):
${I.reasoningText.slice(0,300)}
`)):(t(0,o+=`❌ Reasoning streaming: FAILED
`),I?.error&&t(0,o+=`Error: ${I.error}
`)),t(0,o+=`
=== Test Summary ===
`);const B=[w,R,I],j=B.filter(H=>H&&H.success).length;t(0,o+=`Tests passed: ${j}/${B.length}
`)}catch(w){t(0,o+=`❌ Test suite error: ${w}
`)}t(1,i=!1)}async function S(){t(1,i=!0),t(2,a="Test Harness (API)"),t(0,o=`Running test harness (API tests)...
`),_o(),await Wg();try{const w=await ys();t(0,o=yr(w))}catch(w){t(0,o=`❌ Test harness error: ${w}
`)}t(1,i=!1)}async function _(){t(1,i=!0),t(2,a="Test Harness (non-API)"),t(0,o=`Running non-API test harness...
`),await Gg();try{const w=await ys();t(0,o=yr(w))}catch(w){t(0,o=`❌ Non-API test harness error: ${w}
`)}t(1,i=!1)}function k(){Ng(),t(0,o=`Debug info logged to console. Check browser console for details.
`)}function x(){t(0,o=""),t(2,a="")}function A(){jn.set(!1)}return[o,i,a,l,u,r,s,h,p,m,y,b,E,S,_,k,x,A,()=>t(3,l=!1),w=>p(w)]}class Zg extends Ce{constructor(e){super(),Ie(this,e,Jg,Kg,xe,{})}}const{Map:nu}=Cl;function Ha(n,e,t){const r=n.slice();return r[8]=e[t],r}function za(n,e,t){const r=n.slice();return r[11]=e[t],r}function Ua(n){let e=[],t=new nu,r,s=n[0];const o=i=>i[8].id;for(let i=0;i<s.length;i+=1){let a=Ha(n,s,i),l=o(a);t.set(l,e[i]=Ga(l,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=Te()},m(i,a){for(let l=0;l<e.length;l+=1)e[l].m(i,a);P(i,r,a)},p(i,a){a&3&&(s=i[0],e=Ml(e,a,o,1,i,s,t,r.parentNode,Pl,Ga,r,Ha))},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&C(r)}}}function qa(n){let e,t,r=n[8].model+"",s,o;return{c(){e=g("span"),t=X("("),s=X(r),o=X(")"),d(e,"class","ml-2 text-xs text-white/60")},m(i,a){P(i,e,a),f(e,t),f(e,s),f(e,o)},p(i,a){a&1&&r!==(r=i[8].model+"")&&_e(s,r)},d(i){i&&C(e)}}}function Va(n){let e;return{c(){e=g("div"),e.textContent="Waiting for reasoning events...",d(e,"class","px-3 py-2 text-xs text-white/60 italic"),d(e,"role","status"),d(e,"aria-live","polite")},m(t,r){P(t,e,r)},d(t){t&&C(e)}}}function Yg(n){let e;return{c(){e=g("span"),e.textContent="in progress",d(e,"class","text-amber-600")},m(t,r){P(t,e,r)},d(t){t&&C(e)}}}function Xg(n){let e;return{c(){e=g("span"),e.textContent="done",d(e,"class","text-green-600")},m(t,r){P(t,e,r)},d(t){t&&C(e)}}}function Ka(n,e){let t,r,s,o=e[11].kind==="summary"?"Reasoning summary":"Reasoning",i,a,l,c,u,h,p=e[11].text+"",m,y;function b(_,k){return _[11].done?Xg:Yg}let E=b(e),S=E(e);return{key:n,first:null,c(){t=g("div"),r=g("div"),s=g("div"),i=X(o),a=L(),l=g("div"),S.c(),c=L(),u=g("div"),h=g("pre"),m=X(p),y=L(),d(s,"class","text-sm font-semibold text-white/80"),d(l,"class","text-xs"),d(r,"class","flex items-center justify-between px-3 py-2 bg-secondary"),d(h,"class","whitespace-pre-wrap break-words text-sm text-white/80"),d(u,"class","px-3 py-2"),d(t,"class","rounded border border-gray-500"),d(t,"role","article"),d(t,"aria-label","Reasoning panel"),this.first=t},m(_,k){P(_,t,k),f(t,r),f(r,s),f(s,i),f(r,a),f(r,l),S.m(l,null),f(t,c),f(t,u),f(u,h),f(h,m),f(t,y)},p(_,k){e=_,k&3&&o!==(o=e[11].kind==="summary"?"Reasoning summary":"Reasoning")&&_e(i,o),E!==(E=b(e))&&(S.d(1),S=E(e),S&&(S.c(),S.m(l,null))),k&3&&p!==(p=e[11].text+"")&&_e(m,p)},d(_){_&&C(t),S.d()}}}function Ga(n,e){let t,r,s,o,i,a=(e[1].get(e[8].id)??[]).length+"",l,c,u=(e[1].get(e[8].id)??[]).length===1?"":"s",h,p,m,y=(e[1].get(e[8].id)??[]).length===0,b,E,S=[],_=new nu,k,x,A,v,T=e[8].model&&qa(e),w=y&&Va(),R=e[1].get(e[8].id)??[];const I=B=>B[11].id;for(let B=0;B<R.length;B+=1){let j=za(e,R,B),H=I(j);_.set(H,S[B]=Ka(H,j))}return{key:n,first:null,c(){t=g("details"),r=g("summary"),s=X(`Reasoning
        `),T&&T.c(),o=L(),i=g("span"),l=X(a),c=X(" message"),h=X(u),m=L(),w&&w.c(),b=L(),E=g("div");for(let B=0;B<S.length;B+=1)S[B].c();k=L(),d(i,"class","ml-2 text-xs text-white/60"),d(r,"class","cursor-pointer select-none px-3 py-2 bg-secondary hover:bg-hover2 text-white/80 font-medium rounded-t"),d(r,"aria-expanded",p=e[8].open),d(r,"aria-label","Reasoning window toggle"),d(E,"class","p-3 space-y-3"),d(t,"class","my-3 rounded border border-gray-500 bg-primary shadow-sm open:shadow-md"),t.open=x=e[8].open,d(t,"role","region"),d(t,"aria-label",A="Reasoning window for "+(e[8].model||"assistant")),d(t,"data-reasoning-window-id",v=e[8].id),this.first=t},m(B,j){P(B,t,j),f(t,r),f(r,s),T&&T.m(r,null),f(r,o),f(r,i),f(i,l),f(i,c),f(i,h),f(t,m),w&&w.m(t,null),f(t,b),f(t,E);for(let H=0;H<S.length;H+=1)S[H].m(E,null);f(t,k)},p(B,j){e=B,e[8].model?T?T.p(e,j):(T=qa(e),T.c(),T.m(r,o)):T&&(T.d(1),T=null),j&3&&a!==(a=(e[1].get(e[8].id)??[]).length+"")&&_e(l,a),j&3&&u!==(u=(e[1].get(e[8].id)??[]).length===1?"":"s")&&_e(h,u),j&1&&p!==(p=e[8].open)&&d(r,"aria-expanded",p),j&3&&(y=(e[1].get(e[8].id)??[]).length===0),y?w||(w=Va(),w.c(),w.m(t,b)):w&&(w.d(1),w=null),j&3&&(R=e[1].get(e[8].id)??[],S=Ml(S,j,I,1,e,R,_,E,Pl,Ka,null,za)),j&1&&x!==(x=e[8].open)&&(t.open=x),j&1&&A!==(A="Reasoning window for "+(e[8].model||"assistant"))&&d(t,"aria-label",A),j&1&&v!==(v=e[8].id)&&d(t,"data-reasoning-window-id",v)},d(B){B&&C(t),T&&T.d(),w&&w.d();for(let j=0;j<S.length;j+=1)S[j].d()}}}function Qg(n){let e,t=n[0].length>0&&Ua(n);return{c(){t&&t.c(),e=Te()},m(r,s){t&&t.m(r,s),P(r,e,s)},p(r,[s]){r[0].length>0?t?t.p(r,s):(t=Ua(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:se,o:se,d(r){t&&t.d(r),r&&C(e)}}}function em(n,e,t){let r,s,o;ge(n,hn,h=>t(5,r=h)),ge(n,Yn,h=>t(6,s=h)),ge(n,ae,h=>t(7,o=h));let{convId:i}=e,{anchorIndex:a}=e,l,c=[],u=new Map;return n.$$set=h=>{"convId"in h&&t(2,i=h.convId),"anchorIndex"in h&&t(3,a=h.anchorIndex)},n.$$.update=()=>{if(n.$$.dirty&132&&t(4,l=typeof i=="string"?i:o[i]?.id),n.$$.dirty&88&&t(0,c=(s??[]).filter(h=>h.convId===l&&h.anchorIndex===a)),n.$$.dirty&32){const h=new Map;for(const p of r??[]){const m=p.responseId??"",y=h.get(m)||[];y.push(p),h.set(String(m),y)}t(1,u=h)}},[c,u,i,a,l,r,s,o]}class tm extends Ce{constructor(e){super(),Ie(this,e,em,Qg,xe,{convId:2,anchorIndex:3})}}function Wa(n,e,t){const r=n.slice();return r[27]=e[t],r}function Ja(n,e,t){const r=n.slice();return r[27]=e[t],r}function Za(n,e,t){const r=n.slice();return r[32]=e[t],r}function Ya(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y,b,E,S,_,k;function x(I,B){return I[4]&&I[4].length>0?sm:nm}let A=x(n),v=A(n),T=n[3]&&il(n);const w=n[15].default,R=Ne(w,n,n[14],null);return{c(){e=g("div"),t=g("div"),r=g("label"),r.textContent="API Model",s=L(),o=g("select"),v.c(),i=L(),T&&T.c(),a=L(),l=g("div"),c=g("button"),c.textContent="▲ Up",u=L(),h=g("button"),h.textContent="▼ Down",p=L(),m=g("button"),y=g("img"),E=L(),R&&R.c(),d(r,"for","current-model-select"),d(r,"class","mr-2"),d(o,"id","current-model-select"),d(o,"class","bg-primary text-white/80 p-1 rounded border border-gray-500"),d(o,"data-testid","model-select"),d(o,"aria-label","Model"),n[1].model===void 0&&dt(()=>n[18].call(o)),d(t,"class","font-bold text-l mb-2"),d(c,"type","button"),d(c,"class","bg-primary text-white/80 px-3 py-1 rounded border border-gray-600 hover:bg-secondary"),d(c,"title","Go to previous turn"),d(c,"aria-label","Go to previous turn"),d(h,"type","button"),d(h,"class","bg-primary text-white/80 px-3 py-1 rounded border border-gray-600 hover:bg-secondary"),d(h,"title","Go to next turn"),d(h,"aria-label","Go to next turn"),Ye(y.src,b=Ll)||d(y,"src",b),d(y,"alt","Clear Conversation"),d(y,"class","w-5 h-5"),d(m,"type","button"),d(m,"class","bg-primary text-white/80 px-3 py-1 rounded border border-gray-600 hover:bg-secondary flex items-center justify-center"),d(m,"title","Clear Conversation"),d(m,"aria-label","Clear Conversation"),d(l,"class","mt-3 flex gap-2"),d(e,"id","quick-settings-body"),d(e,"class","mt-3 bg-secondary/40 rounded-md p-3 border border-gray-700")},m(I,B){P(I,e,B),f(e,t),f(t,r),f(t,s),f(t,o),v.m(o,null),Ue(o,n[1].model),f(e,i),T&&T.m(e,null),f(e,a),f(e,l),f(l,c),f(l,u),f(l,h),f(l,p),f(l,m),f(m,y),f(e,E),R&&R.m(e,null),S=!0,_||(k=[W(o,"change",n[18]),W(c,"click",n[22]),W(h,"click",n[23]),W(m,"click",n[12])],_=!0)},p(I,B){A===(A=x(I))&&v?v.p(I,B):(v.d(1),v=A(I),v&&(v.c(),v.m(o,null))),B[0]&50&&Ue(o,I[1].model),I[3]?T?T.p(I,B):(T=il(I),T.c(),T.m(e,a)):T&&(T.d(1),T=null),R&&R.p&&(!S||B[0]&16384)&&Be(R,w,I,I[14],S?je(w,I[14],B,null):He(I[14]),null)},i(I){S||($(R,I),S=!0)},o(I){N(R,I),S=!1},d(I){I&&C(e),v.d(),T&&T.d(),R&&R.d(I),_=!1,st(k)}}}function nm(n){let e;return{c(){e=g("option"),e.textContent="No models loaded",e.disabled=!0,e.selected=!0,e.__value="No models loaded",e.value=e.__value},m(t,r){P(t,e,r)},p:se,d(t){t&&C(e)}}}function sm(n){let e,t=n[6]&&n[4].filter(cl).length>0,r,s=n[7]&&n[4].filter(ll).length>0,o,i=n[5]&&n[5].length>0&&Xa(n),a=t&&el(n),l=s&&sl(n);return{c(){i&&i.c(),e=Te(),a&&a.c(),r=Te(),l&&l.c(),o=Te()},m(c,u){i&&i.m(c,u),P(c,e,u),a&&a.m(c,u),P(c,r,u),l&&l.m(c,u),P(c,o,u)},p(c,u){c[5]&&c[5].length>0?i?i.p(c,u):(i=Xa(c),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),u[0]&80&&(t=c[6]&&c[4].filter(cl).length>0),t?a?a.p(c,u):(a=el(c),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null),u[0]&144&&(s=c[7]&&c[4].filter(ll).length>0),s?l?l.p(c,u):(l=sl(c),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},d(c){i&&i.d(c),c&&C(e),a&&a.d(c),c&&C(r),l&&l.d(c),c&&C(o)}}}function Xa(n){let e,t=n[5],r=[];for(let s=0;s<t.length;s+=1)r[s]=Qa(Za(n,t,s));return{c(){e=g("optgroup");for(let s=0;s<r.length;s+=1)r[s].c();d(e,"label","Recently used")},m(s,o){P(s,e,o);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(s,o){if(o[0]&32){t=s[5];let i;for(i=0;i<t.length;i+=1){const a=Za(s,t,i);r[i]?r[i].p(a,o):(r[i]=Qa(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(s){s&&C(e),_t(r,s)}}}function Qa(n){let e,t=n[32].id+"",r,s;return{c(){e=g("option"),r=X(t),e.__value=s=n[32].id,e.value=e.__value},m(o,i){P(o,e,i),f(e,r)},p(o,i){i[0]&32&&t!==(t=o[32].id+"")&&_e(r,t),i[0]&32&&s!==(s=o[32].id)&&(e.__value=s,e.value=e.__value)},d(o){o&&C(e)}}}function el(n){let e,t=n[4].filter(ul).sort(dl),r=[];for(let s=0;s<t.length;s+=1)r[s]=nl(Ja(n,t,s));return{c(){e=g("optgroup");for(let s=0;s<r.length;s+=1)r[s].c();d(e,"label","OpenAI")},m(s,o){P(s,e,o);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(s,o){if(o[0]&48){t=s[4].filter(ul).sort(dl);let i;for(i=0;i<t.length;i+=1){const a=Ja(s,t,i);r[i]?r[i].p(a,o):(r[i]=nl(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(s){s&&C(e),_t(r,s)}}}function tl(n){let e,t=n[27].id+"",r,s;return{c(){e=g("option"),r=X(t),e.__value=s=n[27].id,e.value=e.__value},m(o,i){P(o,e,i),f(e,r)},p(o,i){i[0]&16&&t!==(t=o[27].id+"")&&_e(r,t),i[0]&16&&s!==(s=o[27].id)&&(e.__value=s,e.value=e.__value)},d(o){o&&C(e)}}}function nl(n){let e=!n[5]||!n[5].find(r),t;function r(...o){return n[17](n[27],...o)}let s=e&&tl(n);return{c(){s&&s.c(),t=Te()},m(o,i){s&&s.m(o,i),P(o,t,i)},p(o,i){n=o,i[0]&48&&(e=!n[5]||!n[5].find(r)),e?s?s.p(n,i):(s=tl(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){s&&s.d(o),o&&C(t)}}}function sl(n){let e,t=n[4].filter(fl).sort(hl),r=[];for(let s=0;s<t.length;s+=1)r[s]=ol(Wa(n,t,s));return{c(){e=g("optgroup");for(let s=0;s<r.length;s+=1)r[s].c();d(e,"label","Anthropic")},m(s,o){P(s,e,o);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(s,o){if(o[0]&48){t=s[4].filter(fl).sort(hl);let i;for(i=0;i<t.length;i+=1){const a=Wa(s,t,i);r[i]?r[i].p(a,o):(r[i]=ol(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(s){s&&C(e),_t(r,s)}}}function rl(n){let e,t=n[27].id+"",r,s;return{c(){e=g("option"),r=X(t),e.__value=s=n[27].id,e.value=e.__value},m(o,i){P(o,e,i),f(e,r)},p(o,i){i[0]&16&&t!==(t=o[27].id+"")&&_e(r,t),i[0]&16&&s!==(s=o[27].id)&&(e.__value=s,e.value=e.__value)},d(o){o&&C(e)}}}function ol(n){let e=!n[5]||!n[5].find(r),t;function r(...o){return n[16](n[27],...o)}let s=e&&rl(n);return{c(){s&&s.c(),t=Te()},m(o,i){s&&s.m(o,i),P(o,t,i)},p(o,i){n=o,i[0]&48&&(e=!n[5]||!n[5].find(r)),e?s?s.p(n,i):(s=rl(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){s&&s.d(o),o&&C(t)}}}function il(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y,b,E,S,_,k,x,A,v,T,w,R,I,B;return{c(){e=g("div"),t=g("div"),r=g("label"),r.textContent="Reasoning:",s=L(),o=g("select"),i=g("option"),i.textContent="minimal",a=g("option"),a.textContent="low",l=g("option"),l.textContent="medium",c=g("option"),c.textContent="high",u=L(),h=g("div"),p=g("label"),p.textContent="Verbosity:",m=L(),y=g("select"),b=g("option"),b.textContent="low",E=g("option"),E.textContent="medium",S=g("option"),S.textContent="high",_=L(),k=g("div"),x=g("label"),x.textContent="Summary:",A=L(),v=g("select"),T=g("option"),T.textContent="auto",w=g("option"),w.textContent="detailed",R=g("option"),R.textContent="null",d(r,"for","reasoning-effort"),d(r,"class","mr-2"),i.__value="minimal",i.value=i.__value,a.__value="low",a.value=a.__value,l.__value="medium",l.value=l.__value,c.__value="high",c.value=c.__value,d(o,"id","reasoning-effort"),d(o,"class","bg-primary text-white/80 p-1 rounded border border-gray-500"),n[1].reasoningEffort===void 0&&dt(()=>n[19].call(o)),d(p,"for","verbosity"),d(p,"class","mr-2"),b.__value="low",b.value=b.__value,E.__value="medium",E.value=E.__value,S.__value="high",S.value=S.__value,d(y,"id","verbosity"),d(y,"class","bg-primary text-white/80 p-1 rounded border border-gray-500"),n[1].verbosity===void 0&&dt(()=>n[20].call(y)),d(x,"for","summary"),d(x,"class","mr-2"),T.__value="auto",T.value=T.__value,w.__value="detailed",w.value=w.__value,R.__value="null",R.value=R.__value,d(v,"id","summary"),d(v,"class","bg-primary text-white/80 p-1 rounded border border-gray-500"),n[1].summary===void 0&&dt(()=>n[21].call(v)),d(e,"class","grid grid-cols-1 sm:grid-cols-3 gap-3 mt-3")},m(j,H){P(j,e,H),f(e,t),f(t,r),f(t,s),f(t,o),f(o,i),f(o,a),f(o,l),f(o,c),Ue(o,n[1].reasoningEffort),f(e,u),f(e,h),f(h,p),f(h,m),f(h,y),f(y,b),f(y,E),f(y,S),Ue(y,n[1].verbosity),f(e,_),f(e,k),f(k,x),f(k,A),f(k,v),f(v,T),f(v,w),f(v,R),Ue(v,n[1].summary),I||(B=[W(o,"change",n[19]),W(y,"change",n[20]),W(v,"change",n[21])],I=!0)},p(j,H){H[0]&50&&Ue(o,j[1].reasoningEffort),H[0]&50&&Ue(y,j[1].verbosity),H[0]&50&&Ue(v,j[1].summary)},d(j){j&&C(e),I=!1,st(B)}}}function rm(n){let e,t,r,s,o=(n[0]||"—")+"",i,a,l=(n[3]?n[1].verbosity||"low":"—")+"",c,u,h=(n[3]?n[1].reasoningEffort||"minimal":"—")+"",p,m,y=(n[3]?n[1].summary||"auto":"—")+"",b,E,S,_=n[2]?"▲":"▼",k,x,A,v,T,w=n[2]&&Ya(n);return{c(){e=g("div"),t=g("button"),r=g("span"),s=X("Quick Settings M: "),i=X(o),a=X(", V: "),c=X(l),u=X(" | R: "),p=X(h),m=X(" | S: "),b=X(y),E=L(),S=g("span"),k=X(_),x=L(),w&&w.c(),d(r,"class","font-bold"),d(S,"class","ml-2 text-sm"),d(t,"class","w-full text-left bg-secondary/60 hover:bg-secondary px-4 py-2 rounded-md border border-gray-600 flex justify-between items-center"),d(t,"aria-expanded",n[2]),d(t,"aria-controls","quick-settings-body"),d(t,"type","button"),d(e,"class","w-full")},m(R,I){P(R,e,I),f(e,t),f(t,r),f(r,s),f(r,i),f(r,a),f(r,c),f(r,u),f(r,p),f(r,m),f(r,b),f(t,E),f(t,S),f(S,k),f(e,x),w&&w.m(e,null),A=!0,v||(T=W(t,"click",n[10]),v=!0)},p(R,I){(!A||I[0]&1)&&o!==(o=(R[0]||"—")+"")&&_e(i,o),(!A||I[0]&10)&&l!==(l=(R[3]?R[1].verbosity||"low":"—")+"")&&_e(c,l),(!A||I[0]&10)&&h!==(h=(R[3]?R[1].reasoningEffort||"minimal":"—")+"")&&_e(p,h),(!A||I[0]&10)&&y!==(y=(R[3]?R[1].summary||"auto":"—")+"")&&_e(b,y),(!A||I[0]&4)&&_!==(_=R[2]?"▲":"▼")&&_e(k,_),(!A||I[0]&4)&&d(t,"aria-expanded",R[2]),R[2]?w?(w.p(R,I),I[0]&4&&$(w,1)):(w=Ya(R),w.c(),$(w,1),w.m(e,null)):w&&(Me(),N(w,1,1,()=>{w=null}),$e())},i(R){A||($(w),A=!0)},o(R){N(w),A=!1},d(R){R&&C(e),w&&w.d(),v=!1,T()}}}function om(){const n=document.querySelector(".main-content-area");return n?n.querySelector(".overflow-y-auto"):null}function im(n){const e=Array.from(n.querySelectorAll(".message")),t=n.getBoundingClientRect();return e.map(r=>r.getBoundingClientRect().top-t.top+n.scrollTop)}function al(n){const e=om();if(!e)return;const t=im(e);if(!t.length)return;const r=10,s=e.scrollTop,o=t.findIndex(l=>Math.abs(l-s)<=r);let i=-1;for(let l=0;l<t.length&&t[l]<=s;l++)i=l;if(n==="up"){if(window.__chatNavLockUntil=performance.now()+250,o>=0){o>0?e.scrollTop=t[o-1]:e.scrollTop=0;return}i>=0?e.scrollTop=t[i]:e.scrollTop=0;return}let a=o>=0?o+1:i+1;window.__chatNavLockUntil=performance.now()+250,a>=t.length?e.scrollTop=e.scrollHeight-e.clientHeight:e.scrollTop=t[a]}const ll=n=>n.provider==="anthropic",cl=n=>n.provider==="openai",ul=n=>n.provider==="openai",dl=(n,e)=>n.id.localeCompare(e.id),fl=n=>n.provider==="anthropic",hl=(n,e)=>n.id.localeCompare(e.id);function am(n,e,t){let r,s,o,i,a,l,c,u,h;ge(n,qe,H=>t(13,o=H)),ge(n,ae,H=>t(24,a=H)),ge(n,Ge,H=>t(6,u=H)),ge(n,nt,H=>t(7,h=H));let{$$slots:p={},$$scope:m}=e;const y=Gn(),b=vn([Ht,Ge,nt],([H,G,Z])=>H.filter(V=>!(V.provider==="openai"&&!G||V.provider==="anthropic"&&!Z)));ge(n,b,H=>t(4,l=H));const E=vn([Ts,Ge,nt],([H,G,Z])=>(H||[]).filter(V=>!(V.provider==="openai"&&!G||V.provider==="anthropic"&&!Z)));ge(n,E,H=>t(5,c=H));let S=!1;function _(){t(2,S=!S)}const k=Ro.currentSettingsWritable(Fe,H=>{const G=H;return G==null?null:a?.[G]?.id??null});ge(n,k,H=>t(1,i=H));async function x(){try{const H=O(Fe),G=O(ae),Z=G[H],V={id:`${Date.now()}-${Math.random().toString(36).slice(2)}`,history:[],conversationTokens:0,assistantRole:G[H]?.assistantRole??"Don't provide compliments or enthusiastic compliments at the start of your responses. Don't provide offers for follow up at the end of your responses.",title:""};ae.update(J=>[...J,V]),Fe.set(O(ae).length-1),ae.update(J=>J.filter((z,F)=>F!==H)),y("input-cleared")}catch(H){console.error("Failed to clear conversation",H)}}const A=(H,G)=>G.id===H.id,v=(H,G)=>G.id===H.id;function T(){i.model=kt(this),k.set(i)}function w(){i.reasoningEffort=kt(this),k.set(i)}function R(){i.verbosity=kt(this),k.set(i)}function I(){i.summary=kt(this),k.set(i)}const B=()=>al("up"),j=()=>al("down");return n.$$set=H=>{"$$scope"in H&&t(14,m=H.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8194&&t(0,r=i.model||o||""),n.$$.dirty[0]&1&&t(3,s=qn(r))},[r,i,S,s,l,c,u,h,b,E,_,k,x,o,m,p,A,v,T,w,R,I,B,j]}class lm extends Ce{constructor(e){super(),Ie(this,e,am,rm,xe,{},null,[-1,-1])}}class $r{container=null;key=null;ratios=new Map;pendingRestore=!1;rafId=null;restoreRetries=0;suspended=!1;static MAX_RESTORE_RETRIES=8;onScroll=()=>this.saveCurrent();attach(e){this.container!==e&&(this.detach(),this.container=e,this.container.addEventListener("scroll",this.onScroll,{passive:!0}))}detach(){this.container&&(this.container.removeEventListener("scroll",this.onScroll),this.container=null),this.rafId!=null&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.restoreRetries=0}setActiveKey(e){const t=e==null?null:String(e);this.key!==t&&(this.saveCurrent(),this.key=t,this.rafId!=null&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.restoreRetries=0,this.pendingRestore=!0)}setSuspended(e){this.suspended=!!e}getRatioForKey(e){const t=e==null?null:String(e);return t==null?0:this.ratios.get(t)??0}setRatioForKey(e,t){this.ratios.set(String(e),this.clamp01(t))}saveCurrent(){try{const r=window.__chatNavLockUntil;if(typeof r=="number"&&performance.now()<r)return}catch{}if(!this.container||this.key==null||this.pendingRestore||this.suspended)return;const e=this.container.scrollHeight-this.container.clientHeight;if(e<=0)return;const t=this.container.scrollTop/e;this.ratios.set(this.key,this.clamp01(t))}restoreCurrent(){this.tryRestore(!1)}restoreCurrentAfterFrame(){this.tryRestore(!0)}scheduleRestore(){this.rafId==null&&(this.rafId=requestAnimationFrame(()=>{this.rafId=null,this.tryRestore(!0)}))}tryRestore(e){const t=this.container,r=this.key;if(!t||r==null||this.suspended)return;try{const i=window.__chatNavLockUntil;if(typeof i=="number"&&performance.now()<i)return}catch{}if(e&&!this.pendingRestore)return;const s=this.getRatioForKey(r),o=t.scrollHeight-t.clientHeight;if(o<=0&&s>0&&this.restoreRetries<$r.MAX_RESTORE_RETRIES){this.restoreRetries++,e&&this.scheduleRestore();return}this.applyRatio(s),o>0||s===0||this.restoreRetries>=$r.MAX_RESTORE_RETRIES?(this.pendingRestore=!1,this.restoreRetries=0):e&&this.scheduleRestore()}applyRatio(e){if(!this.container)return;const t=this.container.scrollHeight-this.container.clientHeight,r=t>0?Math.round(t*this.clamp01(e)):0;this.container.scrollTop=r}clamp01(e){return Number.isNaN(e)||!Number.isFinite(e)?0:Math.max(0,Math.min(1,e))}}function cm(n){const{behavior:e,isStreaming:t,key:r,shiftKey:s,ctrlKey:o,metaKey:i}=n;return t||r!=="Enter"||s?!1:o?!i:i?!1:e==="send"}const{document:pl}=Cl;function gl(n,e,t){const r=n.slice();return r[58]=e[t],r[60]=t,r}function ml(n){let e,t;return e=new Kf({}),e.$on("settings-changed",Mc),{c(){Ae(e.$$.fragment)},m(r,s){ke(e,r,s),t=!0},p:se,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){Se(e,r)}}}function _l(n){let e,t;return e=new Jf({}),{c(){Ae(e.$$.fragment)},m(r,s){ke(e,r,s),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){Se(e,r)}}}function um(n){let e;return{c(){e=g("div"),e.innerHTML="<p>No conversation selected. Start a new conversation.</p>",d(e,"class","flex justify-center items-center h-full")},m(t,r){P(t,e,r)},p:se,i:se,o:se,d(t){t&&C(e)}}}function dm(n){let e,t,r,s,o,i=n[2][n[3]].history,a=[];for(let c=0;c<i.length;c+=1)a[c]=kl(gl(n,i,c));const l=c=>N(a[c],1,1,()=>{a[c]=null});return{c(){e=g("div"),t=g("div");for(let c=0;c<a.length;c+=1)a[c].c();d(e,"class","flex flex-col max-w-3xl pt-5 grow"),d(e,"role","list"),d(e,"aria-label","Conversation messages"),d(e,"data-history-total",r=n[2][n[3]].history.length),d(e,"data-non-system-count",s=n[2][n[3]].history.filter(El).length)},m(c,u){P(c,e,u),f(e,t);for(let h=0;h<a.length;h+=1)a[h].m(t,null);o=!0},p(c,u){if(u[0]&20448860){i=c[2][c[3]].history;let h;for(h=0;h<i.length;h+=1){const p=gl(c,i,h);a[h]?(a[h].p(p,u),$(a[h],1)):(a[h]=kl(p),a[h].c(),$(a[h],1),a[h].m(t,null))}for(Me(),h=i.length;h<a.length;h+=1)l(h);$e()}(!o||u[0]&12&&r!==(r=c[2][c[3]].history.length))&&d(e,"data-history-total",r),(!o||u[0]&12&&s!==(s=c[2][c[3]].history.filter(El).length))&&d(e,"data-non-system-count",s)},i(c){if(!o){for(let u=0;u<i.length;u+=1)$(a[u]);o=!0}},o(c){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)N(a[u]);o=!1},d(c){c&&C(e),_t(a,c)}}}function bl(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y,b,E;function S(w,R){return w[58].role==="assistant"?hm:fm}let _=S(n),k=_(n);const x=[gm,pm],A=[];function v(w,R){return w[9]===w[60]?0:1}c=v(n),u=A[c]=x[c](n);let T=n[58].role==="user"&&vl(n);return{c(){e=g("div"),t=g("div"),r=g("div"),s=g("img"),i=L(),a=g("div"),k.c(),l=L(),u.c(),h=L(),T&&T.c(),p=L(),Ye(s.src,o=n[58].role==="user"?Pa:Ma)||d(s,"src",o),d(s,"alt","Profile"),d(s,"class","w-6 h-6 ml-10"),d(a,"class","relative ml-3 font-bold"),d(t,"class","profile-picture flex"),d(e,"class","message relative inline-block bg-primary px-2 pb-5 flex flex-col"),d(e,"role","listitem"),d(e,"aria-label",m=n[58].role==="assistant"?"Assistant message":n[58].role==="user"?"User message":void 0),d(e,"data-message-index",n[60]),d(e,"data-message-role",y=n[58].role),d(e,"data-testid",b=n[58].role==="assistant"?"assistant-message":n[58].role==="user"?"user-message":void 0)},m(w,R){P(w,e,R),f(e,t),f(t,r),f(r,s),f(t,i),f(t,a),k.m(a,null),f(e,l),A[c].m(e,null),f(e,h),T&&T.m(e,null),f(e,p),E=!0},p(w,R){(!E||R[0]&12&&!Ye(s.src,o=w[58].role==="user"?Pa:Ma))&&d(s,"src",o),_===(_=S(w))&&k?k.p(w,R):(k.d(1),k=_(w),k&&(k.c(),k.m(a,null)));let I=c;c=v(w),c===I?A[c].p(w,R):(Me(),N(A[I],1,1,()=>{A[I]=null}),$e(),u=A[c],u?u.p(w,R):(u=A[c]=x[c](w),u.c()),$(u,1),u.m(e,h)),w[58].role==="user"?T?(T.p(w,R),R[0]&12&&$(T,1)):(T=vl(w),T.c(),$(T,1),T.m(e,p)):T&&(Me(),N(T,1,1,()=>{T=null}),$e()),(!E||R[0]&12&&m!==(m=w[58].role==="assistant"?"Assistant message":w[58].role==="user"?"User message":void 0))&&d(e,"aria-label",m),(!E||R[0]&12&&y!==(y=w[58].role))&&d(e,"data-message-role",y),(!E||R[0]&12&&b!==(b=w[58].role==="assistant"?"assistant-message":w[58].role==="user"?"user-message":void 0))&&d(e,"data-testid",b)},i(w){E||($(u),$(T),E=!0)},o(w){N(u),N(T),E=!1},d(w){w&&C(e),k.d(),A[c].d(),T&&T.d()}}}function fm(n){let e;return{c(){e=X("You")},m(t,r){P(t,e,r)},p:se,d(t){t&&C(e)}}}function hm(n){let e=n[58].model?`AI Response (${n[58].model})`:"AI Response",t;return{c(){t=X(e)},m(r,s){P(r,t,s)},p(r,s){s[0]&12&&e!==(e=r[58].model?`AI Response (${r[58].model})`:"AI Response")&&_e(t,e)},d(r){r&&C(t)}}}function pm(n){let e,t,r,s,o,i,a,l=!so(n[58])&&!oo(n[58].content),c,u,h,p,m,y,b,E,S,_,k,x;const A=[bm,_m,mm],v=[];function T(j,H){return H[0]&12&&(t=null),H[0]&12&&(r=null),t==null&&(t=!!oo(j[58].content)),t?0:(r==null&&(r=!!so(j[58])),r?1:j[58].role==="assistant"||j[58].role==="user"?2:-1)}~(s=T(n,[-1,-1]))&&(o=v[s]=A[s](n));let w=l&&yl(n);function R(){return n[39](n[60])}function I(){return n[40](n[60])}let B=n[60]<n[2][n[3]].history.length-1&&wl(n);return{c(){e=g("div"),o&&o.c(),i=L(),a=g("div"),w&&w.c(),c=L(),u=g("button"),h=g("img"),m=L(),y=g("button"),b=g("img"),S=L(),B&&B.c(),d(e,"class","message-display pl-20 pr-5 md:px-20 text-[1rem]"),d(h,"class","edit-icon"),d(h,"alt","edit"),Ye(h.src,p=Ol)||d(h,"src",p),d(h,"title","Edit Chat"),d(u,"class","editButton w-5"),d(u,"title","Edit Chat"),d(u,"aria-label","Edit Chat"),d(b,"class","delete-icon"),d(b,"alt","Delete"),Ye(b.src,E=Cg)||d(b,"src",E),d(b,"title","Delete this Chat message"),d(y,"class","deleteButton w-5"),d(y,"title","Delete this Chat message"),d(y,"aria-label","Delete this Chat message"),d(a,"class","toolbelt flex space-x-2 pl-20 mb-2 tools")},m(j,H){P(j,e,H),~s&&v[s].m(e,null),P(j,i,H),P(j,a,H),w&&w.m(a,null),f(a,c),f(a,u),f(u,h),f(a,m),f(a,y),f(y,b),f(a,S),B&&B.m(a,null),_=!0,k||(x=[W(u,"click",R),W(y,"click",I)],k=!0)},p(j,H){n=j;let G=s;s=T(n,H),s===G?~s&&v[s].p(n,H):(o&&(Me(),N(v[G],1,1,()=>{v[G]=null}),$e()),~s?(o=v[s],o?o.p(n,H):(o=v[s]=A[s](n),o.c()),$(o,1),o.m(e,null)):o=null),H[0]&12&&(l=!so(n[58])&&!oo(n[58].content)),l?w?w.p(n,H):(w=yl(n),w.c(),w.m(a,c)):w&&(w.d(1),w=null),n[60]<n[2][n[3]].history.length-1?B?B.p(n,H):(B=wl(n),B.c(),B.m(a,null)):B&&(B.d(1),B=null)},i(j){_||($(o),_=!0)},o(j){N(o),_=!1},d(j){j&&C(e),~s&&v[s].d(),j&&C(i),j&&C(a),w&&w.d(),B&&B.d(),k=!1,st(x)}}}function gm(n){let e,t,r,s,o,i,a,l,c,u;function h(){return n[36](n[60])}return{c(){e=g("textarea"),t=L(),r=g("div"),s=g("button"),o=X("Submit"),a=L(),l=g("button"),l.textContent="Cancel",d(e,"class","message-edit-textarea mt-2 bg-gray-700 p-3 mx-10 resize-none focus:outline-none rounded-lg"),Ut(e,"height","96px"),Ut(e,"overflow-y","auto"),d(s,"class",i="submit-edit rounded-lg p-2 mr-2 "+(n[4]?"bg-gray-500 cursor-not-allowed hover:bg-gray-500":"hover:bg-green-500 bg-green-700")),s.disabled=n[4],d(l,"class","cancel-edit bg-gray-700 hover:bg-gray-500 rounded-lg p-2 mr-2"),d(r,"class","flex place-content-center mt-4")},m(p,m){P(p,e,m),n[34](e),Mt(e,n[10]),P(p,t,m),P(p,r,m),f(r,s),f(s,o),f(r,a),f(r,l),c||(u=[W(e,"input",n[35]),W(e,"input",su),W(e,"paste",n[24]),W(s,"click",h),W(l,"click",n[37])],c=!0)},p(p,m){n=p,m[0]&1024&&Mt(e,n[10]),m[0]&16&&i!==(i="submit-edit rounded-lg p-2 mr-2 "+(n[4]?"bg-gray-500 cursor-not-allowed hover:bg-gray-500":"hover:bg-green-500 bg-green-700"))&&d(s,"class",i),m[0]&16&&(s.disabled=n[4])},i:se,o:se,d(p){p&&C(e),n[34](null),p&&C(t),p&&C(r),c=!1,st(u)}}}function mm(n){let e,t;return e=new rg({props:{renderers:{code:fg,em:gg,list:wg,listitem:Sg,paragraph:Eg,html:Ig},source:Vi(n[58].content.toString())}}),{c(){Ae(e.$$.fragment)},m(r,s){ke(e,r,s),t=!0},p(r,s){const o={};s[0]&12&&(o.source=Vi(r[58].content.toString())),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){Se(e,r)}}}function _m(n){let e,t,r;return t=new Ju({props:{audioUrl:n[58].audioUrl}}),{c(){e=g("div"),Ae(t.$$.fragment),d(e,"class","pb-3")},m(s,o){P(s,e,o),ke(t,e,null),r=!0},p(s,o){const i={};o[0]&12&&(i.audioUrl=s[58].audioUrl),t.$set(i)},i(s){r||($(t.$$.fragment,s),r=!0)},o(s){N(t.$$.fragment,s),r=!1},d(s){s&&C(e),Se(t)}}}function bm(n){let e,t,r,s;return{c(){e=g("img"),r=L(),s=g("div"),s.textContent="This image will be available for 60 minutes. Right click + save as!",Ye(e.src,t=n[58].content)||d(e,"src",t),d(e,"alt","Generated"),d(e,"class","max-w-full h-auto my-3"),d(s,"class","text-sm text-gray-500")},m(o,i){P(o,e,i),P(o,r,i),P(o,s,i)},p(o,i){i[0]&12&&!Ye(e.src,t=o[58].content)&&d(e,"src",t)},i:se,o:se,d(o){o&&C(e),o&&C(r),o&&C(s)}}}function yl(n){let e,t,r,s,o;function i(){return n[38](n[58])}return{c(){e=g("button"),t=g("img"),d(t,"class","copy-icon"),d(t,"alt","Copy"),Ye(t.src,r=Mg)||d(t,"src",r),d(t,"title","Copy Chat Content"),d(e,"class","copyButton w-5"),d(e,"title","Copy Chat Content"),d(e,"aria-label","Copy Chat Content")},m(a,l){P(a,e,l),f(e,t),s||(o=W(e,"click",i),s=!0)},p(a,l){n=a},d(a){a&&C(e),s=!1,o()}}}function wl(n){let e,t,r,s,o;function i(){return n[41](n[60])}return{c(){e=g("button"),t=g("img"),d(t,"class","delete-all-below-icon"),d(t,"alt","Delete all below"),Ye(t.src,r=Pg)||d(t,"src",r),d(t,"title","Delete all messages below"),d(e,"class","deleteAllBelowButton w-5"),d(e,"title","Delete all messages below"),d(e,"aria-label","Delete all messages below")},m(a,l){P(a,e,l),f(e,t),s||(o=W(e,"click",i),s=!0)},p(a,l){n=a},d(a){a&&C(e),s=!1,o()}}}function vl(n){let e,t;return e=new tm({props:{convId:n[2][n[3]]?.id,anchorIndex:n[60]}}),{c(){Ae(e.$$.fragment)},m(r,s){ke(e,r,s),t=!0},p(r,s){const o={};s[0]&12&&(o.convId=r[2][r[3]]?.id),e.$set(o)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){Se(e,r)}}}function kl(n){let e,t,r=n[58].role!=="system"&&bl(n);return{c(){r&&r.c(),e=Te()},m(s,o){r&&r.m(s,o),P(s,e,o),t=!0},p(s,o){s[58].role!=="system"?r?(r.p(s,o),o[0]&12&&$(r,1)):(r=bl(s),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(Me(),N(r,1,1,()=>{r=null}),$e())},i(s){t||($(r),t=!0)},o(s){N(r),t=!1},d(s){r&&r.d(s),s&&C(e)}}}function Sl(n){let e,t,r,s,o,i,a;function l(p,m){return p[11]>0?wm:ym}let c=l(n),u=c(n),h=n[11]>0&&Al(n);return{c(){e=g("input"),t=L(),r=g("label"),u.c(),s=L(),h&&h.c(),o=Te(),d(e,"type","file"),d(e,"id","imageUpload"),e.multiple=!0,d(e,"accept","image/*"),d(e,"class","file-input"),d(r,"for","imageUpload"),d(r,"class","file-label bg-chat rounded py-2 px-4 mx-1 cursor-pointer hover:bg-hover2 transition-colors")},m(p,m){P(p,e,m),n[43](e),P(p,t,m),P(p,r,m),u.m(r,null),P(p,s,m),h&&h.m(p,m),P(p,o,m),i||(a=W(e,"change",Df),i=!0)},p(p,m){c===(c=l(p))&&u?u.p(p,m):(u.d(1),u=c(p),u&&(u.c(),u.m(r,null))),p[11]>0?h?h.p(p,m):(h=Al(p),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null)},d(p){p&&C(e),n[43](null),p&&C(t),p&&C(r),u.d(),p&&C(s),h&&h.d(p),p&&C(o),i=!1,a()}}}function ym(n){let e,t;return{c(){e=g("img"),Ye(e.src,t=Lg)||d(e,"src",t),d(e,"alt","Upload"),d(e,"class","upload-icon icon-white")},m(r,s){P(r,e,s)},p:se,d(r){r&&C(e)}}}function wm(n){let e,t;return{c(){e=g("span"),t=X(n[11]),d(e,"class","fileCount")},m(r,s){P(r,e,s),f(e,t)},p(r,s){s[0]&2048&&_e(t,r[11])},d(r){r&&C(e)}}}function Al(n){let e,t,r;return{c(){e=g("button"),e.textContent="X",d(e,"class","clear-btn")},m(s,o){P(s,e,o),t||(r=W(e,"click",n[17]),t=!0)},p:se,d(s){s&&C(e),t=!1,r()}}}function vm(n){let e,t;return{c(){e=g("img"),d(e,"class","icon-white min-w-[24px] w-[24px]"),d(e,"alt","Send"),Ye(e.src,t=$g)||d(e,"src",t)},m(r,s){P(r,e,s)},p:se,d(r){r&&C(e)}}}function km(n){let e,t;return{c(){e=g("img"),d(e,"class","icon-white min-w-[24px] w-[24px]"),d(e,"alt","Wait"),Ye(e.src,t=Og)||d(e,"src",t)},m(r,s){P(r,e,s)},p:se,d(r){r&&C(e)}}}function Tl(n){let e,t;return e=new Zg({}),{c(){Ae(e.$$.fragment)},m(r,s){ke(e,r,s),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){Se(e,r)}}}function Sm(n){let e,t,r,s,o,i,a,l,c,u,h,p,m,y,b,E,S,_,k,x,A,v,T,w,R,I,B,j,H;pl.title=e=n[2].length>0&&n[2][n[3]]&&n[2][n[3]].title||"WolfeChat";let G=n[13]&&ml(),Z=n[14]&&_l();i=new cd({}),i.$on("new-chat",n[22]),i.$on("clear-chat",n[31]);function V(K){n[32](K)}let J={};n[8]!==void 0&&(J.conversation_title=n[8]),c=new ed({props:J}),Qt.push(()=>Eu(c,"conversation_title",V)),c.$on("new-chat",n[22]),m=new lm({}),m.$on("input-cleared",n[33]);const z=[dm,um],F=[];function Y(K,he){return K[2].length>0&&K[2][K[3]]?0:1}E=Y(n),S=F[E]=z[E](n);let te=n[12]&&Sl(n);function ue(K,he){return K[4]?km:vm}let ye=ue(n),Pe=ye(n),me=n[16]&&Tl();return{c(){t=L(),G&&G.c(),r=L(),Z&&Z.c(),s=L(),o=g("main"),Ae(i.$$.fragment),a=L(),l=g("div"),Ae(c.$$.fragment),h=L(),p=g("div"),Ae(m.$$.fragment),y=L(),b=g("div"),S.c(),_=L(),k=g("div"),x=g("div"),te&&te.c(),A=L(),v=g("textarea"),T=L(),w=g("button"),Pe.c(),I=L(),me&&me.c(),d(p,"class","py-5 bg-primary px-5 flex flex-row justify-between flex-wrap-reverse"),d(b,"class","flex bg-primary overflow-y-auto overflow-x-hidden justify-center grow"),d(b,"data-testid","chat-scroll-container"),d(v,"class","w-full min-h-[96px] h-24 rounded-lg p-2 mx-1 mr-0 border-t-2 border-b-2 border-l-2 rounded-r-none bg-primary border-gray-500 resize-none focus:outline-none"),d(v,"placeholder","Type your message..."),d(v,"aria-label","Chat input"),Ut(v,"height","96px"),Ut(v,"overflow-y","auto"),Ut(v,"overflow","visible",1),d(w,"class","bg-chat rounded-lg py-2 px-4 mx-1 ml-0 border-t-2 border-b-2 border-r-2 border-gray-500 rounded-l-none cursor-pointer "),d(w,"aria-label","Send"),w.disabled=R=!n[4]&&!n[1].trim().length,d(x,"class","inputbox flex flex-1 bg-primary mt-auto mx-auto max-w-3xl mb-3"),d(k,"class","inputbox-container w-full flex justify-center items-center bg-primary"),d(l,"class","h-screen flex justify-stretch flex-col md:ml-[260px] bg-secondary text-white/80 height-manager main-content-area"),d(o,"class","bg-primary overflow-hidden")},m(K,he){P(K,t,he),G&&G.m(K,he),P(K,r,he),Z&&Z.m(K,he),P(K,s,he),P(K,o,he),ke(i,o,null),f(o,a),f(o,l),ke(c,l,null),f(l,h),f(l,p),ke(m,p,null),f(l,y),f(l,b),F[E].m(b,null),n[42](b),f(l,_),f(l,k),f(k,x),te&&te.m(x,null),f(x,A),f(x,v),n[44](v),Mt(v,n[1]),f(x,T),f(x,w),Pe.m(w,null),f(l,I),me&&me.m(l,null),B=!0,j||(H=[W(v,"input",n[45]),W(v,"input",su),W(v,"paste",n[24]),W(v,"keydown",n[46]),W(w,"click",n[47]),W(o,"keyup",n[23]),W(o,"keydown",n[23])],j=!0)},p(K,he){(!B||he[0]&12)&&e!==(e=K[2].length>0&&K[2][K[3]]&&K[2][K[3]].title||"WolfeChat")&&(pl.title=e),K[13]?G?(G.p(K,he),he[0]&8192&&$(G,1)):(G=ml(),G.c(),$(G,1),G.m(r.parentNode,r)):G&&(Me(),N(G,1,1,()=>{G=null}),$e()),K[14]?Z?he[0]&16384&&$(Z,1):(Z=_l(),Z.c(),$(Z,1),Z.m(s.parentNode,s)):Z&&(Me(),N(Z,1,1,()=>{Z=null}),$e());const Oe={};!u&&he[0]&256&&(u=!0,Oe.conversation_title=K[8],Au(()=>u=!1)),c.$set(Oe);let we=E;E=Y(K),E===we?F[E].p(K,he):(Me(),N(F[we],1,1,()=>{F[we]=null}),$e(),S=F[E],S?S.p(K,he):(S=F[E]=z[E](K),S.c()),$(S,1),S.m(b,null)),K[12]?te?te.p(K,he):(te=Sl(K),te.c(),te.m(x,A)):te&&(te.d(1),te=null),he[0]&2&&Mt(v,K[1]),ye===(ye=ue(K))&&Pe?Pe.p(K,he):(Pe.d(1),Pe=ye(K),Pe&&(Pe.c(),Pe.m(w,null))),(!B||he[0]&18&&R!==(R=!K[4]&&!K[1].trim().length))&&(w.disabled=R),K[16]?me?he[0]&65536&&$(me,1):(me=Tl(),me.c(),$(me,1),me.m(l,null)):me&&(Me(),N(me,1,1,()=>{me=null}),$e())},i(K){B||($(G),$(Z),$(i.$$.fragment,K),$(c.$$.fragment,K),$(m.$$.fragment,K),$(S),$(me),B=!0)},o(K){N(G),N(Z),N(i.$$.fragment,K),N(c.$$.fragment,K),N(m.$$.fragment,K),N(S),N(me),B=!1},d(K){K&&C(t),G&&G.d(K),K&&C(r),Z&&Z.d(K),K&&C(s),K&&C(o),Se(i),Se(c),Se(m),F[E].d(),n[42](null),te&&te.d(),n[44](null),Pe.d(),me&&me.d(),j=!1,st(H)}}}const Am=300;function su(n){n.target.style.height="inherit";const e=window.getComputedStyle(n.target),t=parseInt(e.getPropertyValue("border-top-width"),10)+n.target.scrollHeight+parseInt(e.getPropertyValue("border-bottom-width"),10);n.target.style.height=`${Math.min(t,Am)}px`}function oo(n){return!/\s/.test(n)&&n.includes("blob.core.windows.net")&&/rsct=image\/(jpeg|jpg|gif|png|bmp)/i.test(n)}const El=n=>n.role!=="system";function Tm(n,e,t){let r,s,o,i,a,l,c,u,h,p,m;ge(n,ae,D=>t(2,s=D)),ge(n,Fe,D=>t(3,o=D)),ge(n,kn,D=>t(28,i=D)),ge(n,un,D=>t(29,a=D)),ge(n,Ar,D=>t(30,l=D)),ge(n,ht,D=>t(4,c=D)),ge(n,Fn,D=>t(13,u=D)),ge(n,Nn,D=>t(14,h=D)),ge(n,Cr,D=>t(15,p=D)),ge(n,jn,D=>t(16,m=D));let y,b="",E,S,_=!1,k,x="",A=null,v="";const T=new $r;let w=null;function R(D,ee){const ce=s;if(ee!==null&&ee!==D&&ce[ee]&&!_&&b.trim()!==""&&mn.setDraft(ce[ee].id,b),D!=null&&ce[D]){const U=mn.getDraft(ce[D].id);t(25,_=!0),t(1,b=U),t(25,_=!1)}}let I=null;function B(){kn.set([])}let j=null;function H(){if(!k)return;const D={childList:!0,subtree:!0,characterData:!0};j=new MutationObserver((ee,ce)=>{T.restoreCurrentAfterFrame()}),j.observe(k,D)}Or(async()=>{if(await Vu(),s.length===0&&Ui(),typeof window<"u"){const{modelsStore:D}=await re(async()=>{const{modelsStore:ct}=await Promise.resolve().then(()=>Fl);return{modelsStore:ct}},void 0,import.meta.url),{openaiApiKey:ee,anthropicApiKey:ce,selectedProvider:U}=await re(async()=>{const{openaiApiKey:ct,anthropicApiKey:nn,selectedProvider:sn}=await Promise.resolve().then(()=>dr);return{openaiApiKey:ct,anthropicApiKey:nn,selectedProvider:sn}},void 0,import.meta.url),{selectedModel:pe,selectedMode:oe}=await re(async()=>{const{selectedModel:ct,selectedMode:nn}=await Promise.resolve().then(()=>$t);return{selectedModel:ct,selectedMode:nn}},void 0,import.meta.url),{get:de}=await re(async()=>{const{get:ct}=await Promise.resolve().then(()=>vs);return{get:ct}},void 0,import.meta.url),{createResponseViaResponsesAPI:rt,streamResponseViaResponsesAPI:De,supportsReasoning:lt}=await re(async()=>{const{createResponseViaResponsesAPI:ct,streamResponseViaResponsesAPI:nn,supportsReasoning:sn}=await Promise.resolve().then(()=>Ir);return{createResponseViaResponsesAPI:ct,streamResponseViaResponsesAPI:nn,supportsReasoning:sn}},void 0,import.meta.url),{bindToCallbacks:at}=await re(async()=>{const{bindToCallbacks:ct}=await Promise.resolve().then(()=>jm);return{bindToCallbacks:ct}},void 0,import.meta.url);window.stores={modelsStore:D,openaiApiKey:ee,anthropicApiKey:ce,selectedProvider:U,selectedModel:pe,selectedMode:oe},window.get=de,window.createResponseViaResponsesAPI=rt,window.streamResponseViaResponsesAPI=De,window.supportsReasoning=lt,window.bindToCallbacks=at}k&&(T.attach(k),T.setActiveKey(o!=null?String(o):null),T.restoreCurrentAfterFrame(),t(26,w=o)),H(),window.drafts=mn,window.conversations=s,window.chosenConversationId=o}),yu(()=>{j&&(j.disconnect(),j=null),T.detach(),Ku()});function G(){let D=o,ee=s[D]?.id;if(!ee){console.error("No conversation selected");return}qi(b,ee),t(1,b=""),s[D]&&mn.setDraft(s[D].id,""),B(),t(5,E.style.height="96px",E)}let Z=0;ri(()=>{const D=s[o]?.history.length||0;D>Z&&T.restoreCurrentAfterFrame(),Z=D}),ri(()=>{o!==w&&(T.setActiveKey(o!=null?String(o):null),T.restoreCurrentAfterFrame(),t(26,w=o))});let V=0;function J(D){t(9,A=D),t(10,v=s[o].history[D].content)}function z(){t(9,A=null),t(10,v=""),t(6,S.style.height="96px",S)}function F(D){const ee=v,ce=s[o].history.length-D;for(let oe=0;oe<ce;oe++)zi(s[o].history.length-1);let pe=s[o]?.id;if(!pe){console.error("No conversation selected");return}qi(ee,pe),z()}function Y(){const D=o,ee=s;D!=null&&ee[D]&&mn.setDraft(ee[D].id,b),Ui(),t(1,b="")}let te=!1,ue=!1,ye=!1;function Pe(D){D.key==="Control"&&(te=D.type==="keydown"),D.key==="Shift"&&(ue=D.type==="keydown"),D.key==="Meta"&&(ye=D.type==="keydown")}function me(D){if((te||ye)&&ue){D.stopPropagation(),D.preventDefault();const ee=D.clipboardData.getData("text").replace(/^(\r|\n)+|(\r|\n)+$/g,"");if(ee==="")return;let ce="";const U=D.target,{selectionStart:pe,selectionEnd:oe,value:de}=U;if(console.log(`selectionStart ${pe}, ${de[pe-1]}`),ee.includes(`
`)){const rt=de.slice(0,pe),De=de.slice(oe);pe>0&&!hasNewLineAtEnd.test(rt)&&(ce+=`
`),ce+=`\`\`\`
${ee}
\`\`\``,(oe==de.length||oe<de.length&&!hasNewLineAtStart.test(De))&&(ce+=`
`)}else ce=`\`${ee}\``;document.execCommand("insertText",!1,ce),U.focus(),U.dispatchEvent(new Event("input"))}}const K=()=>{t(1,b="")};function he(D){x=D,t(8,x),t(3,o),t(2,s),t(26,w)}const Oe=()=>{t(1,b="")};function we(D){Qt[D?"unshift":"push"](()=>{S=D,t(6,S)})}function ze(){v=this.value,t(10,v)}const Ee=D=>F(D),it=()=>z(),At=D=>Nf(D.content),et=D=>J(D),Tt=D=>zi(D),ft=D=>$f(D);function Gt(D){Qt[D?"unshift":"push"](()=>{k=D,t(7,k)})}function It(D){Qt[D?"unshift":"push"](()=>{y=D,t(0,y),t(30,l)})}function Ft(D){Qt[D?"unshift":"push"](()=>{E=D,t(5,E)})}function gt(){b=this.value,t(1,b)}const Je=D=>{cm({behavior:p,isStreaming:c,key:D.key,shiftKey:D.shiftKey,ctrlKey:D.ctrlKey,metaKey:D.metaKey})&&(D.preventDefault(),G())},tt=()=>{c?Pc():G()};return n.$$.update=()=>{if(n.$$.dirty[0]&16&&T.setSuspended(c),n.$$.dirty[0]&1073741825&&l&&y&&(t(0,y.value="",y),Ar.set(!1)),n.$$.dirty[0]&67108876){const D=o,ee=s,ce=s.length;D!==void 0&&ee[D]&&t(8,x=ee[D].title||"New Conversation"),(D==null||D<0||D>=ce)&&(console.log("changing conversation from ID",o),Fe.set(ce>0?ce-1:null),console.log("to ID",o)),w!==D&&(R(D,w),t(26,w=D))}n.$$.dirty[0]&167772174&&!_&&o!==void 0&&s[o]&&b!==void 0&&b.trim()!==""&&(I&&clearTimeout(I),t(27,I=setTimeout(()=>{mn.setDraft(s[o].id,b),t(27,I=null)},300))),n.$$.dirty[0]&12&&typeof window<"u"&&(window.conversations=s,window.chosenConversationId=o),n.$$.dirty[0]&536870912&&t(12,r=a.includes("Vision")),n.$$.dirty[0]&12&&t(8,x=s[o]?s[o].title:"ChatGPT"),n.$$.dirty[0]&268435456&&t(11,V=i.length)},[y,b,s,o,c,E,S,k,x,A,v,V,r,u,h,p,m,B,G,J,z,F,Y,Pe,me,_,w,I,i,a,l,K,he,Oe,we,ze,Ee,it,At,et,Tt,ft,Gt,It,Ft,gt,Je,tt]}class Em extends Ce{constructor(e){super(),Ie(this,e,Tm,Sm,xe,{},null,[-1,-1])}}const xm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2048%2048'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cpath%20d='M12,28.05L27.65,28.05L27.65,25.05L12,25.05L12,28.05ZM12,21.55L36,21.55L36,18.55L12,18.55L12,21.55ZM12,15.05L36,15.05L36,12.05L12,12.05L12,15.05ZM4,44L4,7C4,6.233%204.3,5.542%204.9,4.925C5.5,4.308%206.2,4%207,4L41,4C41.767,4%2042.458,4.308%2043.075,4.925C43.692,5.542%2044,6.233%2044,7L44,33C44,33.767%2043.692,34.458%2043.075,35.075C42.458,35.692%2041.767,36%2041,36L12,36L4,44Z'%20style='fill:rgb(72,137,254);fill-rule:nonzero;'/%3e%3c/svg%3e";new Em({target:document.getElementById("app")});window.addEventListener("load",()=>{const n=document.querySelector('link[rel="icon"]');n&&n.setAttribute("href",xm)});(async()=>{const n=new URLSearchParams(window.location.search);if(!(n.get("testMode")==="1"))return;const t=n.get("suite")||"browser-nonlive";q.debug("[testMode] activating; suite=",t);const r=document.createElement("style");r.textContent="* { transition: none !important; animation: none !important; }",document.head.appendChild(r),window.addEventListener("error",s=>{q.error("[testMode:onerror]",s.message,s.error?.stack||"")}),window.addEventListener("unhandledrejection",s=>{q.error("[testMode:unhandledrejection]",s.reason&&(s.reason.message||String(s.reason))||"unknown",s.reason?.stack||"")});try{q.debug("[testMode] importing test modules for suite:",t);let s={};t==="browser-nonlive"?s=Object.assign({}):t==="browser-live"?s=Object.assign({}):q.error("[testMode] Unknown test suite:",t);let o=Object.entries(s);o=o.filter(([l])=>!l.includes("codeRendererStreaming.integration.test.ts"));const i=o.map(([l])=>l);q.debug("[testMode] discovered test modules =",i);let a=0;for(const l of i)try{q.debug("[testMode] loading module:",l),await s[l](),a++,q.debug("[testMode] loaded ok:",l)}catch(c){q.error("[testMode] failed to load module:",l,c?.message||String(c),c?.stack||"")}q.debug("[testMode] total loaded modules =",a,"of",i.length)}catch(s){q.error("[testMode] Failed in glob/import loop",s)}try{q.debug("[testMode] importing test harness...");const s=await re(()=>Promise.resolve().then(()=>Ug),void 0,import.meta.url);q.debug("[testMode] harness loaded; exposing __wolfeRunTests"),window.__wolfeRunTests=async()=>{try{q.debug("[testMode] __wolfeRunTests invoked");const o=await s.runAllTests();return q.debug("[testMode] __wolfeRunTests finished; failed=",o.failed),{passed:o.failed===0,...o}}catch(o){throw q.error("[testMode] __wolfeRunTests error",o),o}},window.__wolfeListTests=()=>s.listTests().map(o=>({id:o.id,name:o.name})),window.__wolfeSetApiKey=async o=>{try{Ve("api_key",o);const i=await re(()=>Promise.resolve().then(()=>$t),void 0,import.meta.url);return i.apiKey&&i.apiKey.set(o),q.debug("[testMode] api key set"),!0}catch(i){return q.error("[testMode] failed to set api key",i),!1}},window.__wolfePreloadModels=async()=>{try{const o=await re(()=>Promise.resolve().then(()=>Fl),void 0,import.meta.url);return typeof o.loadModels=="function"?(await o.loadModels(),q.debug("[testMode] models preloaded"),!0):(q.warn("[testMode] loadModels not available"),!1)}catch(o){return q.error("[testMode] preload models error",o),!1}}}catch(s){q.error("[testMode] Failed to initialize test harness",s)}})();var bo={};const Rm=!!bo.ANTHROPIC_API_KEY;Rm?(Le({id:"anthropic-api-key-format",name:"Level 1: API key has valid format",tags:["live","anthropic","smoke"],timeoutMs:5e3,fn:async n=>{const e=bo.ANTHROPIC_API_KEY;n.that(e,"ANTHROPIC_API_KEY should be defined"),n.that(e.startsWith("sk-ant-api03-"),"API key should start with sk-ant-api03-"),n.that(e.length>100,"API key should be longer than 100 characters"),console.log("✓ API key format validation passed")}}),Le({id:"anthropic-raw-api-call",name:"Level 1: Raw API call succeeds with valid key",tags:["live","anthropic","smoke"],timeoutMs:1e4,fn:async n=>{const e=bo.ANTHROPIC_API_KEY,t=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":e,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:10,messages:[{role:"user",content:"Hello"}]})});n.that(t.status===200,`Expected status 200, got ${t.status}`);const r=await t.json();n.that(r.id,"Response should have an id"),n.that(r.type==="message","Response type should be message"),n.that(r.role==="assistant","Response role should be assistant"),n.that(r.model==="claude-3-haiku-20240307","Response model should match request"),n.that(Array.isArray(r.content),"Response content should be an array"),console.log("✓ Raw API call successful:",{id:r.id,model:r.model,contentLength:r.content?.length||0})}}),Le({id:"anthropic-invalid-key-rejection",name:"Level 1: Invalid API key properly rejected",tags:["live","anthropic","smoke"],timeoutMs:1e4,fn:async n=>{const e=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":"sk-ant-invalid-key-12345","Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1,messages:[{role:"user",content:"test"}]})});n.that(e.status===401,`Expected status 401, got ${e.status}`);const t=await e.json();n.that(t.type==="error","Response type should be error"),n.that(t.error.type==="authentication_error","Error type should be authentication_error"),console.log("✓ Invalid key properly rejected")}})):Le({id:"anthropic-api-key-missing",name:"Level 1: ANTHROPIC_API_KEY environment variable missing",tags:["live","anthropic","smoke"],timeoutMs:1e3,fn:async n=>{console.log("⚠️  ANTHROPIC_API_KEY not set - skipping live API tests"),n.that(!1,"ANTHROPIC_API_KEY environment variable is required for live tests")}});const ru=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var yo={};const Im=!!yo.ANTHROPIC_API_KEY;Im?(Le({id:"anthropic-service-fetchModels",name:"Level 2: fetchAnthropicModels returns hardcoded models after API validation",tags:["live","anthropic","service"],timeoutMs:1e4,fn:async n=>{const e=yo.ANTHROPIC_API_KEY,{fetchAnthropicModels:t}=await re(async()=>{const{fetchAnthropicModels:l}=await Promise.resolve().then(()=>Xt);return{fetchAnthropicModels:l}},void 0,import.meta.url),r=await t(e);n.that(Array.isArray(r),"fetchAnthropicModels should return an array"),n.that(r.length>0,"Should return at least one model");const s=r[0];n.that(s.id,"Model should have an id"),n.that(s.provider==="anthropic","Model should have provider set to anthropic"),n.that(typeof s.created=="number","Model should have created timestamp"),n.that(s.display_name,"Model should have display_name from API");const o=r.some(l=>l.id.includes("claude"));n.that(o,"Should include Claude models");const i=r.some(l=>l.id.includes("haiku")),a=r.some(l=>l.id.includes("sonnet"));n.that(i,"Should include Claude Haiku models"),n.that(a,"Should include Claude Sonnet models"),console.log("✓ fetchAnthropicModels working correctly:",{totalModels:r.length,exampleModel:s.id})}}),Le({id:"anthropic-service-isAnthropicModel",name:"Level 2: isAnthropicModel correctly identifies Claude models",tags:["live","anthropic","service"],timeoutMs:1e3,fn:async n=>{const{isAnthropicModel:e}=await re(async()=>{const{isAnthropicModel:t}=await Promise.resolve().then(()=>Xt);return{isAnthropicModel:t}},void 0,import.meta.url);n.that(e("claude-3-haiku-20240307"),"Should identify claude-3-haiku as Anthropic"),n.that(e("claude-3-5-sonnet-20241022"),"Should identify claude-3-5-sonnet as Anthropic"),n.that(e("claude-4-opus-20250514"),"Should identify claude-4-opus as Anthropic"),n.that(!e("gpt-4"),"Should not identify gpt-4 as Anthropic"),n.that(!e("gpt-3.5-turbo"),"Should not identify gpt-3.5-turbo as Anthropic"),n.that(!e("text-davinci-003"),"Should not identify text-davinci-003 as Anthropic"),console.log("✓ isAnthropicModel working correctly")}}),Le({id:"anthropic-service-getModelProvider",name:"Level 2: getModelProvider returns correct provider",tags:["live","anthropic","service"],timeoutMs:1e3,fn:async n=>{const{getModelProvider:e}=await re(async()=>{const{getModelProvider:t}=await Promise.resolve().then(()=>Xt);return{getModelProvider:t}},void 0,import.meta.url);n.that(e("claude-3-haiku-20240307")==="anthropic","Claude model should return anthropic provider"),n.that(e("claude-3-5-sonnet-20241022")==="anthropic","Claude Sonnet should return anthropic provider"),n.that(e("gpt-4")==="openai","GPT-4 should return openai provider"),n.that(e("gpt-3.5-turbo")==="openai","GPT-3.5 should return openai provider"),console.log("✓ getModelProvider working correctly")}}),Le({id:"anthropic-service-invalid-key-error",name:"Level 2: fetchAnthropicModels properly handles invalid API key",tags:["live","anthropic","service"],timeoutMs:1e4,fn:async n=>{const{fetchAnthropicModels:e}=await re(async()=>{const{fetchAnthropicModels:t}=await Promise.resolve().then(()=>Xt);return{fetchAnthropicModels:t}},void 0,import.meta.url);try{await e("sk-ant-invalid-key-12345"),n.that(!1,"fetchAnthropicModels should throw with invalid key")}catch(t){n.that(t instanceof Error,"Should throw an Error object"),n.that(t.message.includes("Invalid Anthropic API key"),"Error message should mention invalid API key"),console.log("✓ Invalid API key properly handled:",t.message)}}}),Le({id:"anthropic-service-empty-key-error",name:"Level 2: fetchAnthropicModels properly handles empty API key",tags:["live","anthropic","service"],timeoutMs:1e3,fn:async n=>{const{fetchAnthropicModels:e}=await re(async()=>{const{fetchAnthropicModels:t}=await Promise.resolve().then(()=>Xt);return{fetchAnthropicModels:t}},void 0,import.meta.url);try{await e(""),n.that(!1,"fetchAnthropicModels should throw with empty key")}catch(t){n.that(t instanceof Error,"Should throw an Error object"),n.that(t.message.includes("API key is missing"),"Error message should mention missing API key"),console.log("✓ Empty API key properly handled:",t.message)}}}),Le({id:"anthropic-service-cors-header-required",name:"Level 2: Anthropic API requires CORS header for browser access",tags:["live","anthropic","service"],timeoutMs:1e4,fn:async n=>{const e=yo.ANTHROPIC_API_KEY;try{const t=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":e,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1,messages:[{role:"user",content:"test"}]})});console.log("⚠️  Request without CORS header succeeded (running in Node.js?)")}catch(t){t instanceof TypeError&&t.message.includes("Failed to fetch")?console.log("✓ CORS blocking confirmed - request without header failed as expected"):console.log("? Different error without CORS header:",t.message)}try{const t=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":e,"Content-Type":"application/json","anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1,messages:[{role:"user",content:"test"}]})});n.that(t.ok||t.status===429,"Request with CORS header should succeed (or hit rate limit)"),console.log("✓ Request with CORS header succeeded:",t.status)}catch(t){t instanceof TypeError&&t.message.includes("Failed to fetch")?n.that(!1,"Request with CORS header should not fail with TypeError: Failed to fetch"):console.log("? Other error with CORS header:",t.message)}}})):Le({id:"anthropic-service-missing-key",name:"Level 2: ANTHROPIC_API_KEY environment variable missing",tags:["live","anthropic","service"],timeoutMs:1e3,fn:async n=>{console.log("⚠️  ANTHROPIC_API_KEY not set - skipping service tests"),n.that(!1,"ANTHROPIC_API_KEY environment variable is required for service tests")}});const ou=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var wr={};const Cm=!!wr.ANTHROPIC_API_KEY;Cm?(Le({id:"settings-anthropic-validation",name:"Level 3: Settings checkAPIConnection validates Anthropic key correctly",tags:["live","anthropic","settings"],timeoutMs:1e4,fn:async n=>{const e=wr.ANTHROPIC_API_KEY,{fetchAnthropicModels:t}=await re(async()=>{const{fetchAnthropicModels:o}=await Promise.resolve().then(()=>Xt);return{fetchAnthropicModels:o}},void 0,import.meta.url);let r=!1,s="";try{const o=await t(e);r=!0,n.that(o.length>0,"API validation should return models"),console.log("✓ Settings-style Anthropic API validation successful:",{modelCount:o.length,firstModel:o[0].id})}catch(o){s=o.message,console.log("✗ Settings-style Anthropic API validation failed:",s)}n.that(r,"Anthropic API validation should succeed with valid key"),n.that(s==="","Should not have error message with valid key")}}),Le({id:"settings-anthropic-invalid-key",name:"Level 3: Settings checkAPIConnection properly rejects invalid Anthropic key",tags:["live","anthropic","settings"],timeoutMs:1e4,fn:async n=>{const{fetchAnthropicModels:e}=await re(async()=>{const{fetchAnthropicModels:s}=await Promise.resolve().then(()=>Xt);return{fetchAnthropicModels:s}},void 0,import.meta.url);let t=!1,r="";try{await e("sk-ant-invalid-key-12345")}catch(s){t=!0,r=s.message}n.that(t,"Invalid Anthropic API key should be rejected"),n.that(r.includes("Invalid Anthropic API key"),"Error message should be user-friendly"),console.log("✓ Settings-style invalid key rejection working:",r)}}),Le({id:"settings-provider-switching-simulation",name:"Level 3: Simulate provider switching in Settings",tags:["live","anthropic","settings"],timeoutMs:15e3,fn:async n=>{const e=wr.ANTHROPIC_API_KEY,{fetchAnthropicModels:t}=await re(async()=>{const{fetchAnthropicModels:i}=await Promise.resolve().then(()=>Xt);return{fetchAnthropicModels:i}},void 0,import.meta.url);let r=[],s="";try{r=await t(e),console.log("✓ Anthropic provider validation successful")}catch(i){s=i.message,console.log("✗ Anthropic provider validation failed:",i.message)}n.that(r.length>0,"Anthropic provider should return models"),n.that(s==="","Anthropic provider should not have errors");const o=r.every(i=>i.provider==="anthropic");n.that(o,"All Anthropic models should have correct provider label"),console.log("✓ Provider switching simulation successful")}}),Le({id:"settings-model-provider-detection",name:"Level 3: Settings can properly detect model providers",tags:["live","anthropic","settings"],timeoutMs:5e3,fn:async n=>{const{fetchAnthropicModels:e,isAnthropicModel:t,getModelProvider:r}=await re(async()=>{const{fetchAnthropicModels:i,isAnthropicModel:a,getModelProvider:l}=await Promise.resolve().then(()=>Xt);return{fetchAnthropicModels:i,isAnthropicModel:a,getModelProvider:l}},void 0,import.meta.url),s=wr.ANTHROPIC_API_KEY,o=await e(s);for(const i of o){const a=t(i.id),l=r(i.id);n.that(a,`${i.id} should be identified as Anthropic model`),n.that(l==="anthropic",`${i.id} should have anthropic provider`),n.that(i.provider==="anthropic",`${i.id} should have provider property set`)}console.log("✓ Model provider detection working for all models")}})):Le({id:"settings-missing-key",name:"Level 3: ANTHROPIC_API_KEY environment variable missing",tags:["live","anthropic","settings"],timeoutMs:1e3,fn:async n=>{console.log("⚠️  ANTHROPIC_API_KEY not set - skipping settings integration tests"),n.that(!1,"ANTHROPIC_API_KEY environment variable is required for settings tests")}});const iu=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var wo={};const Pm=!!wo.ANTHROPIC_API_KEY;Pm?(Le({id:"anthropic-messaging-format-conversion",name:"Level 4: Message format conversion works correctly",tags:["live","anthropic","messaging"],timeoutMs:1e3,fn:async n=>{const{convertMessagesToAnthropicFormat:e,extractSystemMessage:t}=await re(async()=>{const{convertMessagesToAnthropicFormat:l,extractSystemMessage:c}=await Promise.resolve().then(()=>wn);return{convertMessagesToAnthropicFormat:l,extractSystemMessage:c}},void 0,import.meta.url),r=[{role:"system",content:"You are a helpful assistant."},{role:"user",content:"Hello!"},{role:"assistant",content:"Hi there!"},{role:"user",content:"How are you?"}],s=e(r);n.that(s.length===3,"Should exclude system message from Anthropic format"),n.that(s[0].role==="user","First message should be user"),n.that(s[0].content==="Hello!","First message content should match"),n.that(s[1].role==="assistant","Second message should be assistant"),n.that(s[2].role==="user","Third message should be user");const o=t(r);n.that(o==="You are a helpful assistant.","Should extract system message correctly");const a=t([{role:"user",content:"Hello!"},{role:"assistant",content:"Hi there!"}]);n.that(a===void 0,"Should return undefined when no system message"),console.log("✓ Message format conversion working correctly")}}),Le({id:"anthropic-messaging-non-streaming",name:"Level 4: Non-streaming Anthropic message works",tags:["live","anthropic","messaging"],timeoutMs:3e4,fn:async n=>{const{anthropicApiKey:e}=await re(async()=>{const{anthropicApiKey:a}=await Promise.resolve().then(()=>dr);return{anthropicApiKey:a}},void 0,import.meta.url),{conversations:t}=await re(async()=>{const{conversations:a}=await Promise.resolve().then(()=>$t);return{conversations:a}},void 0,import.meta.url);e.set(wo.ANTHROPIC_API_KEY);const r={1:{id:1,history:[{role:"user",content:"Say hello in exactly 3 words."}]}};t.set(r);const{sendAnthropicMessage:s}=await re(async()=>{const{sendAnthropicMessage:a}=await Promise.resolve().then(()=>wn);return{sendAnthropicMessage:a}},void 0,import.meta.url),o=[{role:"user",content:"Say hello in exactly 3 words."}],i={model:"claude-3-haiku-20240307"};try{await s(o,1,i),console.log("✓ Non-streaming Anthropic message sent successfully"),n.that(!0,"sendAnthropicMessage should complete without errors")}catch(a){console.error("❌ Non-streaming message failed:",a),n.that(!1,`sendAnthropicMessage should not throw: ${a.message}`)}}}),Le({id:"anthropic-messaging-streaming",name:"Level 4: Streaming Anthropic message works",tags:["live","anthropic","messaging"],timeoutMs:45e3,fn:async n=>{const{anthropicApiKey:e}=await re(async()=>{const{anthropicApiKey:c}=await Promise.resolve().then(()=>dr);return{anthropicApiKey:c}},void 0,import.meta.url),{conversations:t}=await re(async()=>{const{conversations:c}=await Promise.resolve().then(()=>$t);return{conversations:c}},void 0,import.meta.url);e.set(wo.ANTHROPIC_API_KEY);const r={1:{id:1,history:[{role:"user",content:"Count from 1 to 5, one number per line."}]}};t.set(r);const{streamAnthropicMessage:s,anthropicStreamContext:o}=await re(async()=>{const{streamAnthropicMessage:c,anthropicStreamContext:u}=await Promise.resolve().then(()=>wn);return{streamAnthropicMessage:c,anthropicStreamContext:u}},void 0,import.meta.url),{isStreaming:i}=await re(async()=>{const{isStreaming:c}=await Promise.resolve().then(()=>$t);return{isStreaming:c}},void 0,import.meta.url),a=[{role:"user",content:"Count from 1 to 5, one number per line."}],l={model:"claude-3-haiku-20240307"};try{let c=!1,u=!1;const h=i.subscribe(m=>{m&&(c=!0)}),p=o.subscribe(m=>{m.streamText&&m.streamText.length>0&&(u=!0)});await s(a,1,l),h(),p(),n.that(c,"Streaming should have started"),n.that(u,"Should have received streaming text"),console.log("✓ Streaming Anthropic message worked successfully")}catch(c){console.error("❌ Streaming message failed:",c),n.that(!1,`streamAnthropicMessage should not throw: ${c.message}`)}}}),Le({id:"anthropic-messaging-error-handling",name:"Level 4: Anthropic messaging handles API errors correctly",tags:["live","anthropic","messaging"],timeoutMs:1e4,fn:async n=>{const{anthropicApiKey:e}=await re(async()=>{const{anthropicApiKey:a}=await Promise.resolve().then(()=>dr);return{anthropicApiKey:a}},void 0,import.meta.url),{conversations:t}=await re(async()=>{const{conversations:a}=await Promise.resolve().then(()=>$t);return{conversations:a}},void 0,import.meta.url);e.set("sk-ant-invalid-key-12345");const r={1:{id:1,history:[]}};t.set(r);const{sendAnthropicMessage:s}=await re(async()=>{const{sendAnthropicMessage:a}=await Promise.resolve().then(()=>wn);return{sendAnthropicMessage:a}},void 0,import.meta.url),o=[{role:"user",content:"Hello"}],i={model:"claude-3-haiku-20240307"};try{await s(o,1,i),n.that(!1,"Should throw error with invalid API key")}catch(a){n.that(a instanceof Error,"Should throw an Error object"),n.that(a.message.includes("Invalid Anthropic API key")||a.message.includes("API key")||a.message.includes("api-key")||a.message.includes("authentication"),"Error should mention API key or authentication issue"),console.log("✓ Error handling working correctly:",a.message)}}})):Le({id:"anthropic-messaging-missing-key",name:"Level 4: ANTHROPIC_API_KEY environment variable missing",tags:["live","anthropic","messaging"],timeoutMs:1e3,fn:async n=>{console.log("⚠️  ANTHROPIC_API_KEY not set - skipping messaging tests"),n.that(!1,"ANTHROPIC_API_KEY environment variable is required for messaging tests")}});const au=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Mm={};const $m=!!Mm.ANTHROPIC_API_KEY;$m&&(Le({id:"anthropic-error-handling-live",name:"Level 5: Anthropic error handling with real API",tags:["live","anthropic","error-handling"],timeoutMs:1e4,fn:async n=>{const{appendAnthropicErrorToHistory:e}=await re(async()=>{const{appendAnthropicErrorToHistory:p}=await Promise.resolve().then(()=>wn);return{appendAnthropicErrorToHistory:p}},void 0,import.meta.url),{get:t}=await re(async()=>{const{get:p}=await Promise.resolve().then(()=>vs);return{get:p}},void 0,import.meta.url),{conversations:r}=await re(async()=>{const{conversations:p}=await Promise.resolve().then(()=>$t);return{conversations:p}},void 0,import.meta.url),s=999,o=[{role:"user",content:"Test message"}],i=t(r);i[s]={id:s,history:[...o],title:"Test Error Handling"},r.set(i);const a=new Error("401 Unauthorized - Invalid API key");e(a,o,s);let l=t(r)[s].history;n.that(l.length===2,"Should add error message"),n.that(l[1].role==="assistant","Error should be from assistant"),n.that(l[1].content.includes("API"),"Should mention API issue"),i[s].history=[...o],r.set(i);const c=new Error("Network timeout occurred");e(c,o,s),l=t(r)[s].history,n.that(l.length===2,"Should add network error message"),n.that(l[1].content.includes("Network timeout"),"Should include error details"),i[s].history=[...o],r.set(i);const u=new Error;e(u,o,s),l=t(r)[s].history,n.that(l.length===2,"Should add default error message"),n.that(l[1].content.includes("error occurred"),"Should have default error text");const h=t(r);delete h[s],r.set(h),console.log("✓ Anthropic error handling works with real API context")}}),Le({id:"anthropic-error-message-formatting-live",name:"Level 5: Anthropic error message formatting",tags:["live","anthropic","error-formatting"],timeoutMs:5e3,fn:async n=>{const{appendAnthropicErrorToHistory:e}=await re(async()=>{const{appendAnthropicErrorToHistory:p}=await Promise.resolve().then(()=>wn);return{appendAnthropicErrorToHistory:p}},void 0,import.meta.url),{get:t}=await re(async()=>{const{get:p}=await Promise.resolve().then(()=>vs);return{get:p}},void 0,import.meta.url),{conversations:r}=await re(async()=>{const{conversations:p}=await Promise.resolve().then(()=>$t);return{conversations:p}},void 0,import.meta.url),s=998,o=[{role:"user",content:"Hello"}],i=t(r);i[s]={id:s,history:[...o],title:"Test Error Formatting"},r.set(i);const a=new Error("API key not found");e(a,[...o],s);let l=t(r)[s].history;const c=l[1];n.that(c.role==="assistant","Error message should be from assistant"),n.that(c.content.includes("API"),"Should mention API in user-friendly way"),n.that(c.content.includes("wrong")||c.content.includes("down"),"Should be user-friendly"),i[s].history=[...o],r.set(i);const u=new Error("Connection refused by server");e(u,[...o],s),l=t(r)[s].history;const h=l[1];n.that(h.content.includes("Connection refused"),"Should include original error message"),delete i[s],r.set(i),console.log("✓ Error message formatting working correctly")}}));const lu=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Om={};const Lm=!!Om.OPENAI_API_KEY;Lm&&(Le({id:"openai-error-handling-live",name:"Level 6: OpenAI error handling with real API",tags:["live","openai","error-handling"],timeoutMs:1e4,fn:async n=>{const e=await re(()=>Promise.resolve().then(()=>Ir),void 0,import.meta.url),{appendErrorToHistory:t}=e;if(!t){n.that(!1,"appendErrorToHistory helper function should be exported from openaiService.js");return}const{get:r}=await re(async()=>{const{get:y}=await Promise.resolve().then(()=>vs);return{get:y}},void 0,import.meta.url),{conversations:s}=await re(async()=>{const{conversations:y}=await Promise.resolve().then(()=>$t);return{conversations:y}},void 0,import.meta.url),o=997,i=[{role:"user",content:"Hello"},{role:"assistant",content:"Hi there!"},{role:"user",content:"What is 2+2?"}],a=r(s);a[o]={id:o,history:[...i],title:"Test OpenAI Errors"},s.set(a);const l=new Error("Network connection failed");t(l,[...i],o);let c=r(s)[o].history;n.that(c.length===4,"Error message should be appended to existing history"),n.that(c[3].role==="assistant","Error message should have assistant role"),n.that(c[3].content.includes("Network connection failed"),"Should include error message"),a[o].history=[...i],s.set(a);const u=new Error("Invalid API key provided");t(u,[...i],o),c=r(s)[o].history,n.that(c[3].content.includes("API key"),"API key errors should get user-friendly message"),n.that(c[3].content.includes("wrong")||c[3].content.includes("down"),"Should be user-friendly"),a[o].history=[...i],s.set(a),t({},[...i],o),c=r(s)[o].history,n.that(c[3].content.includes("error occurred"),"Empty error should get default message"),a[o].history=[...i],s.set(a),t({code:500,status:"Internal Server Error"},[...i],o),c=r(s)[o].history,n.that(c[3].content.includes("error occurred"),"Error without message property should get default message");const m=r(s);delete m[o],s.set(m),console.log("✓ All OpenAI appendErrorToHistory tests working correctly")}}),Le({id:"openai-error-preservation-live",name:"Level 6: OpenAI error preservation and conversation integrity",tags:["live","openai","conversation-integrity"],timeoutMs:5e3,fn:async n=>{const e=await re(()=>Promise.resolve().then(()=>Ir),void 0,import.meta.url),{appendErrorToHistory:t}=e,{get:r}=await re(async()=>{const{get:u}=await Promise.resolve().then(()=>vs);return{get:u}},void 0,import.meta.url),{conversations:s}=await re(async()=>{const{conversations:u}=await Promise.resolve().then(()=>$t);return{conversations:u}},void 0,import.meta.url),o=996,i=[{role:"user",content:"Original message 1"},{role:"assistant",content:"Original response 1"},{role:"user",content:"Original message 2"}],a=r(s);a[o]={id:o,history:[...i],title:"Test Conversation Integrity"},s.set(a);const l=new Error("Test error for integrity check");t(l,[...i],o);const c=r(s)[o].history;n.that(c.length===4,"Should have original 3 messages plus error"),n.that(c[0].content==="Original message 1","First message should be preserved"),n.that(c[1].content==="Original response 1","Second message should be preserved"),n.that(c[2].content==="Original message 2","Third message should be preserved"),n.that(c[3].role==="assistant","Error should be from assistant"),n.that(c[3].content.includes("Test error"),"Error should contain original error text"),delete a[o],s.set(a),console.log("✓ Conversation integrity preserved during error handling")}}));const cu=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var vr={};const Dm=!!vr.OPENAI_API_KEY;Dm?(Le({id:"openai-models-api",name:"OpenAI Models API works",tags:["live","openai","api"],timeoutMs:1e4,fn:async n=>{const e=vr.OPENAI_API_KEY,t=await fetch("https://api.openai.com/v1/models",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});n.that(t.ok,`HTTP ${t.status}: ${t.statusText}`);const r=await t.json();n.that(Array.isArray(r.data),"Response should have data array"),n.that(r.data.length>0,"Should have at least one model");const s=r.data.map(o=>o.id);n.that(s.some(o=>o.includes("gpt")),"Should have GPT models available"),console.log("✅ Models API working"),console.log("Available models (first 10):",s.slice(0,10))}}),Le({id:"openai-chat-completion",name:"OpenAI Chat Completion works",tags:["live","openai","chat"],timeoutMs:15e3,fn:async n=>{const e=vr.OPENAI_API_KEY,t="gpt-3.5-turbo",r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({model:t,messages:[{role:"system",content:"You are a helpful assistant."},{role:"user",content:"Say 'Hello, this is a test message.'"}],max_tokens:50,stream:!1})});if(!r.ok){const o=await r.text();throw new Error(`HTTP ${r.status}: ${r.statusText}
${o}`)}const s=await r.json();n.that(s.id,"Response should have an id"),n.that(s.object==="chat.completion","Object type should be chat.completion"),n.that(s.model.startsWith(t),`Model should start with requested model: ${s.model} should start with ${t}`),n.that(Array.isArray(s.choices),"Response should have choices array"),n.that(s.choices.length>0,"Should have at least one choice"),n.that(s.choices[0].message?.content,"First choice should have message content"),console.log("✅ Chat completion working"),console.log("Response:",s.choices[0].message.content)}}),Le({id:"openai-streaming",name:"OpenAI Streaming works",tags:["live","openai","streaming"],timeoutMs:2e4,fn:async n=>{const e=vr.OPENAI_API_KEY,r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant."},{role:"user",content:"Say 'Hello, this is a streaming test.'"}],max_tokens:50,stream:!0})});if(!r.ok){const l=await r.text();throw new Error(`HTTP ${r.status}: ${r.statusText}
${l}`)}n.that(r.body,"Response should have a readable stream"),console.log("✅ Streaming response received");const s=r.body.getReader();let o=0,i="",a=!1;try{for(;;){const{done:l,value:c}=await s.read();if(l){console.log("Stream complete");break}o++;const h=new TextDecoder().decode(c).split(`
`);for(const p of h)if(p.startsWith("data: ")){const m=p.slice(6);if(m==="[DONE]"){console.log("Stream finished");break}try{const y=JSON.parse(m);y.choices?.[0]?.delta?.content&&(i+=y.choices[0].delta.content,a=!0)}catch{}}}}finally{s.releaseLock()}n.that(o>0,"Should receive at least one chunk"),n.that(a,"Should receive some content data"),n.that(i.length>0,"Should accumulate some text content"),console.log("✅ Streaming test complete"),console.log(`Received ${o} chunks, full text: "${i}"`)}})):Le({id:"openai-api-key-missing",name:"OpenAI API key environment variable missing",tags:["live","openai"],timeoutMs:1e3,fn:async n=>{console.log("⚠️  OPENAI_API_KEY not set - skipping OpenAI live API tests"),n.that(!1,"OPENAI_API_KEY environment variable is required for live OpenAI tests")}});const uu=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class Fm{handlers=new Map;on(e,t){return this.handlers.has(e)||this.handlers.set(e,new Set),this.handlers.get(e).add(t),()=>this.handlers.get(e).delete(t)}emit(e,t){const r=this.handlers.get(e);if(r)for(const s of Array.from(r))s(t)}waitFor(e,t=1e4){return new Promise((r,s)=>{const o=this.on(e,a=>{clearTimeout(i),o(),r(a)}),i=setTimeout(()=>{o(),s(new Error(`Timeout waiting for ${e}`))},t)})}}function Nm(n){const e=new Fm,t={onEvent:n?.onEvent,onTextDelta:s=>{n?.onTextDelta?.(s),e.emit("sse.output.delta",s)},onCompleted:(s,o)=>{n?.onCompleted?.(s,o),e.emit("sse.output.completed",{finalText:s,raw:o}),e.emit("sse.stream.done")},onError:s=>{n?.onError?.(s),e.emit("sse.error",s)},onReasoningStart:(s,o)=>{n?.onReasoningStart?.(s,o),e.emit(`sse.reasoning.${s}.start`,o)},onReasoningDelta:(s,o)=>{n?.onReasoningDelta?.(s,o),e.emit(`sse.reasoning.${s}.delta`,o)},onReasoningDone:(s,o)=>{n?.onReasoningDone?.(s,o),e.emit(`sse.reasoning.${s}.done`,o)}},r={waitForOutputCompleted:s=>e.waitFor("sse.output.completed",s),waitForReasoningSummaryDone:s=>e.waitFor("sse.reasoning.summary.done",s),waitForReasoningTextDone:s=>e.waitFor("sse.reasoning.text.done",s),waitForAllDone:s=>e.waitFor("sse.stream.done",s),waitForError:s=>e.waitFor("sse.error",s),waitForEvent:(s,o)=>e.waitFor(s,o),on:e.on.bind(e)};return{callbacks:t,bus:r}}const jm=Object.freeze(Object.defineProperty({__proto__:null,bindToCallbacks:Nm},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>.playbutton.svelte-2tsp55,.downloadbutton.svelte-2tsp55{color:#add8e6}.playbutton.svelte-2tsp55:hover,.downloadbutton.svelte-2tsp55:hover{color:#add8e6;text-decoration:underline}.notice.svelte-2tsp55{font-size:.8em;color:#c4c457}.conversation.svelte-2c65x7 .edit.svelte-2c65x7,.conversation.svelte-2c65x7 .delete.svelte-2c65x7,.conversation.svelte-2c65x7:hover .tokens.svelte-2c65x7{display:none}.conversation.svelte-2c65x7:hover .edit.svelte-2c65x7,.conversation.svelte-2c65x7:hover .delete.svelte-2c65x7{display:flex}.edit-input.svelte-2c65x7.svelte-2c65x7{background-color:#333;color:#fff;width:auto;max-width:145px;padding:8px;border-radius:4px;border:1px solid #555}.title-container.svelte-2c65x7.svelte-2c65x7{overflow:hidden}.title-container.svelte-2c65x7.svelte-2c65x7:hover{z-index:20}.title-text.svelte-2c65x7.svelte-2c65x7{white-space:nowrap;overflow:hidden;text-overflow:clip;display:inline-block;max-width:100%;vertical-align:top}.convo-container.svelte-2c65x7.svelte-2c65x7:after{content:"";position:absolute;top:0;right:3px;bottom:0;width:3em;background:linear-gradient(to right,#21252b00,#21252b 80%,#21252b);z-index:10}.convo-container.svelte-2c65x7:after .title-container.svelte-2c65x7:hover{background:linear-gradient(to right,#21252b00,#333943 80%,#333943)}.fixed{background-color:#0006}.min-h-screen{min-height:calc(100vh - 4rem)}.bg-white{width:24rem}.border{padding:.5rem}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation-name:fadeIn;animation-duration:.2s;animation-fill-mode:forwards}input:checked~.dot{transform:translate(1.5rem);background-color:#8ee78e}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.property,.token.tag,.token.constant,.token.symbol,.token.deleted{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#a6e22e}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function,.token.class-name{color:#e6db74}.token.keyword{color:#66d9ef}.token.regex,.token.important{color:#fd971f}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.code-block-container.svelte-1y1v7lk pre[class*=language-]{border-radius:0 0 10px 10px!important;margin:0 20px!important;opacity:0;animation:svelte-1y1v7lk-fade-in .5s ease-in-out forwards;margin-bottom:1rem!important;overflow-wrap:break-word;white-space:pre-wrap}.copycode.svelte-1y1v7lk{display:flex;justify-content:space-between;align-items:center;background-color:#2f2f2f;margin:0 20px;border-radius:10px 10px 0 0;padding:.5rem 1rem;min-height:2.25rem}.language-label.svelte-1y1v7lk{font-size:small;color:#bbb;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-transform:lowercase}button.svelte-1y1v7lk{font-size:small;display:block;transition:all .1s ease-in-out;color:#bbb;background:none;border:none;cursor:pointer}button.svelte-1y1v7lk:hover{color:#fff}@keyframes svelte-1y1v7lk-fade-in{0%{opacity:0}to{opacity:1}}pre[class*=language-]{margin-top:0!important;margin-bottom:0!important;border-radius:0!important}@keyframes svelte-6aocss-fade-in{0%{opacity:0}to{opacity:1}}em.svelte-djznuz{font-weight:700}ol.svelte-1dicnom,ul.svelte-1dicnom{padding-left:1rem;padding-right:1rem}li.svelte-fm7yqp{padding-bottom:.5rem;padding-left:.5rem;list-style-type:decimal}li.svelte-fm7yqp::marker{color:#fff6}code.svelte-we39e{font-weight:700}p.svelte-jw73bw{padding-bottom:1rem}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.bottom-4{bottom:1rem}.left-1{left:.25rem}.right-0{right:0}.right-4{right:1rem}.top-0{top:0}.top-1{top:.25rem}.z-20{z-index:20}.z-40{z-index:40}.z-50{z-index:50}.m-0{margin:0}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-10{margin-left:2.5rem;margin-right:2.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.ml-0{margin-left:0}.ml-10{margin-left:2.5rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.ml-5{margin-left:1.25rem}.mr-0{margin-right:0}.mr-2{margin-right:.5rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-8{margin-top:2rem}.mt-auto{margin-top:auto}.\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-24{height:6rem}.h-4{height:1rem}.h-40{height:10rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.h-screen{height:100vh}.max-h-16{max-height:4rem}.max-h-40{max-height:10rem}.max-h-96{max-height:24rem}.min-h-\[50px\]{min-height:50px}.min-h-\[96px\]{min-height:96px}.min-h-screen{min-height:100vh}.w-14{width:3.5rem}.w-3{width:.75rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-\[24px\]{width:24px}.w-\[260px\]{width:260px}.w-full{width:100%}.min-w-\[24px\]{min-width:24px}.max-w-3xl{max-width:48rem}.max-w-full{max-width:100%}.max-w-lg{max-width:32rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.grow-0{flex-grow:0}.-translate-x-\[100\%\]{--tw-translate-x: -100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize{resize:both}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap-reverse{flex-wrap:wrap-reverse}.place-content-center{place-content:center}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-l-none{border-top-left-radius:0;border-bottom-left-radius:0}.rounded-r-none{border-top-right-radius:0;border-bottom-right-radius:0}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-l-2{border-left-width:2px}.border-r-2{border-right-width:2px}.border-t-2{border-top-width:2px}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-gray-500{--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity))}.border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}.border-white\/20{border-color:#fff3}.border-white\/50{border-color:#ffffff80}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.bg-chat{--tw-bg-opacity: 1;background-color:rgb(69 76 90 / var(--tw-bg-opacity))}.bg-cyan-600{--tw-bg-opacity: 1;background-color:rgb(8 145 178 / var(--tw-bg-opacity))}.bg-cyan-700{--tw-bg-opacity: 1;background-color:rgb(14 116 144 / var(--tw-bg-opacity))}.bg-emerald-500{--tw-bg-opacity: 1;background-color:rgb(16 185 129 / var(--tw-bg-opacity))}.bg-emerald-600{--tw-bg-opacity: 1;background-color:rgb(5 150 105 / var(--tw-bg-opacity))}.bg-fuchsia-600{--tw-bg-opacity: 1;background-color:rgb(192 38 211 / var(--tw-bg-opacity))}.bg-good{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.bg-gray-700{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity))}.bg-green-700{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity))}.bg-hover2{--tw-bg-opacity: 1;background-color:rgb(51 57 67 / var(--tw-bg-opacity))}.bg-indigo-600{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity))}.bg-primary{--tw-bg-opacity: 1;background-color:rgb(40 44 52 / var(--tw-bg-opacity))}.bg-purple-600{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.bg-secondary{--tw-bg-opacity: 1;background-color:rgb(33 37 43 / var(--tw-bg-opacity))}.bg-secondary\/40{background-color:#21252b66}.bg-secondary\/60{background-color:#21252b99}.bg-warning{--tw-bg-opacity: 1;background-color:rgb(194 62 69 / var(--tw-bg-opacity))}.bg-yellow-600{--tw-bg-opacity: 1;background-color:rgb(202 138 4 / var(--tw-bg-opacity))}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.pb-3{padding-bottom:.75rem}.pb-5{padding-bottom:1.25rem}.pl-20{padding-left:5rem}.pl-3{padding-left:.75rem}.pr-5{padding-right:1.25rem}.pt-1{padding-top:.25rem}.pt-5{padding-top:1.25rem}.pt-\[3px\]{padding-top:3px}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-\[1rem\]{font-size:1rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.lowercase{text-transform:lowercase}.italic{font-style:italic}.text-amber-600{--tw-text-opacity: 1;color:rgb(217 119 6 / var(--tw-text-opacity))}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-200{--tw-text-opacity: 1;color:rgb(191 219 254 / var(--tw-text-opacity))}.text-blue-300{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-white\/60{color:#fff9}.text-white\/80{color:#fffc}.text-white\/90{color:#ffffffe6}.underline{text-decoration-line:underline}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.\[testMode\:onerror\]{test-mode:onerror}.\[testMode\:unhandledrejection\]{test-mode:unhandledrejection}*{font-family:Segoe UI,sans-serif}body{background-color:#21252b}.icon-white{filter:invert(75%)}.copyButton .copy-icon,.editButton .edit-icon,.deleteButton .delete-icon,.deleteButton .deleteBelow-icon,.deleteButton [class*=deleteBelow],[class*=deleteBelow],.deleteButton img[src*=deleteBelow],img[src*=deleteBelow],.deleteButton object[data*=deleteBelow],object[data*=deleteBelow]{filter:grayscale(1) saturate(0%) invert(85%) brightness(85%) contrast(90%);opacity:.85;transition:filter .15s ease-in-out,opacity .15s ease-in-out}.copyButton:hover .copy-icon,.editButton:hover .edit-icon,.deleteButton:hover .delete-icon,.deleteButton:hover .deleteBelow-icon,.deleteButton:hover [class*=deleteBelow],[class*=deleteBelow]:hover,.deleteButton:hover img[src*=deleteBelow],img[src*=deleteBelow]:hover,.deleteButton:hover object[data*=deleteBelow],object[data*=deleteBelow]:hover{filter:grayscale(1) saturate(0%) invert(95%) brightness(105%) contrast(100%);opacity:1}.open\:shadow-md[open]{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:bg-blue-400:hover{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity))}.hover\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\:bg-cyan-700:hover{--tw-bg-opacity: 1;background-color:rgb(14 116 144 / var(--tw-bg-opacity))}.hover\:bg-cyan-800:hover{--tw-bg-opacity: 1;background-color:rgb(21 94 117 / var(--tw-bg-opacity))}.hover\:bg-emerald-600:hover{--tw-bg-opacity: 1;background-color:rgb(5 150 105 / var(--tw-bg-opacity))}.hover\:bg-emerald-700:hover{--tw-bg-opacity: 1;background-color:rgb(4 120 87 / var(--tw-bg-opacity))}.hover\:bg-fuchsia-700:hover{--tw-bg-opacity: 1;background-color:rgb(162 28 175 / var(--tw-bg-opacity))}.hover\:bg-good2:hover{--tw-bg-opacity: 1;background-color:rgb(72 137 254 / var(--tw-bg-opacity))}.hover\:bg-gray-500:hover{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity))}.hover\:bg-gray-600:hover{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.hover\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.hover\:bg-green-500:hover{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity))}.hover\:bg-hover:hover{--tw-bg-opacity: 1;background-color:rgb(43 48 56 / var(--tw-bg-opacity))}.hover\:bg-hover2:hover{--tw-bg-opacity: 1;background-color:rgb(51 57 67 / var(--tw-bg-opacity))}.hover\:bg-indigo-700:hover{--tw-bg-opacity: 1;background-color:rgb(67 56 202 / var(--tw-bg-opacity))}.hover\:bg-purple-700:hover{--tw-bg-opacity: 1;background-color:rgb(126 34 206 / var(--tw-bg-opacity))}.hover\:bg-secondary:hover{--tw-bg-opacity: 1;background-color:rgb(33 37 43 / var(--tw-bg-opacity))}.hover\:bg-warning:hover{--tw-bg-opacity: 1;background-color:rgb(194 62 69 / var(--tw-bg-opacity))}.hover\:bg-warningHover:hover{--tw-bg-opacity: 1;background-color:rgb(229 104 101 / var(--tw-bg-opacity))}.hover\:bg-yellow-700:hover{--tw-bg-opacity: 1;background-color:rgb(161 98 7 / var(--tw-bg-opacity))}.hover\:text-blue-500:hover{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.hover\:text-blue-700:hover{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity))}.hover\:text-gray-600:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.hover\:opacity-80:hover{opacity:.8}.hover\:opacity-hover:hover{opacity:.2}.focus\:bg-white:focus{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:outline-primary:focus{outline-color:#282c34}.disabled\:opacity-50:disabled{opacity:.5}@media (min-width: 640px){.sm\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 768px){.md\:ml-\[260px\]{margin-left:260px}.md\:flex{display:flex}.md\:hidden{display:none}.md\:translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.md\:px-20{padding-left:5rem;padding-right:5rem}}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
